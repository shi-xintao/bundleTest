{"version":3,"sources":["assets/bundles/Bubble/src/ActionHelper.ts","assets/bundles/Bubble/src/Balloon2.ts","assets/bundles/Bubble/src/Balloon.ts","assets/bundles/Bubble/src/states/BoardState.ts","assets/bundles/Bubble/src/BubbleStep1.ts","assets/bundles/Bubble/src/BubbleStep2.ts","assets/bundles/Bubble/src/Bubble.ts","assets/bundles/Bubble/src/GState.ts","assets/bundles/Bubble/src/Role.ts","assets/bundles/Bubble/src/SpineList.ts","assets/bundles/Bubble/src/states/TheThreeState.ts","assets/bundles/Bubble/src/Timer.ts","assets/bundles/Bubble/src/ToFloatEx.ts","assets/bundles/Bubble/src/states/ZoomState.ts"],"names":["ActionHelper","moveTo","target","pos","duration","callback","moveToXY","x","y","moveToV2","mov","cc","easing","easeSineOut","seq","sequence","callFunc","runAction","fadeOut","fade","fadeIn","ActionHelper_1","require","_a","_decorator","ccclass","property","Balloon2","_super","__extends","_this","apply","this","arguments","shape","origin","prototype","start","showShape","active","opacity","default","showOrigin","__decorate","Node","Component","exports","AudioManager_1","Bubble_1","TheThreeState_1","Balloon","blink","empty","index","touchEndFunc","touchBeganFunc","hotArea","hotBg","state","Balloon_1","STATE_EMPTY","context","flag_block","full_btn","initPos","Vec2","ZERO","currPos","guiding","flagChangeAnim","onLoad","node","on","EventType","TOUCH_START","onTouchBegan","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","TOUCH_CANCEL","find","parent","getComponent","onFullClicked","STATE_TO_CLICK","hand","hide","unScheduleGuideFinish","playVoice","STATE_FLY_FRAME","playEffect","step1","poses_fly","STATE_FINISH","instance","currBalloonId","playNormal","isAllFinished","taskBoard","show","isShowing","playFinished","scheduleOnce","setState","getCurrState","id","bstate","onGuideFinish","event","deltaX","getDeltaX","deltaY","getDeltaY","worldPos","convertToWorldSpaceAR","position","currX","getLocationX","currY","getLocationY","dis","Math","sqrt","isInArea","getBoundingBoxToWorld","contains","v2","STATE_PUMP","mouth","playPump","STATE_FLY_CENTER","center","playBlink","poses_init","guideClickBallon","currIndex","count","onCompleted","playClick","setTargetNode","clickGuideTimer","setAnimation","smoke","front","setCompleteListener","console","log","setEndListener","type","sp","Skeleton","displayName","Integer","GState_1","BoardState","call","init","exec","guidePumpBallon","pumpGuideTimer","SHOW_TASK_TIME","getCurrGuideIndex","angle","balloon","balloons","balloon_area","emptyFrames","animIndex_1","count_1","playSwipeByAngle","onFinished","Role_1","BubbleStep1","shapes","pump","pump_mouse","board","Balloon2_1","BubbleStep2","poses_final","pos_init","roles","balls","_currIndex","Object","defineProperty","get","next","TaskBoard_1","Hand_1","ChapterGameComponent_1","events_1","EventSystem_1","BubbleStep1_1","BubbleStep2_1","ZoomState_1","Timer_1","Bubble","shopSize","Size","shopPos","bg","handPrefab","step2","taskNodes","taskBoardPrefab","tip","MUSIC_PATH","BUNDLE_NAME","VOICE_TEXT_BALLOON","currState","recording","currBgSize","guideCallback","guideCallback2","fixBg","taskNode","instantiate","addChild","i","length","element","setNodes","handNode","onHandCompleted","bind","name","ydis","height","roleList","playSide","onRecordResult","result","evaluate","startRecordAudio","initData","taskData","bundleName","imgList","zoomState","playMusic","frameSize","view","getFrameSize","designResolution","Canvas","designSize","size","width","frameAspectRatio","screenSize","__assign","ratio","onClick","ret","stop","playStars","emit","LIFE_CYCLE_COMPLETE","showTip","msg","string","fade2","delayTime","showHand","update","dt","RABBIT_INDEX","Prefab","Label","GState","Role","side","balloon2","playStandby","playHope","playCry","playHappy","showBalloon","showBalloon2","walkTo","abs","scaleX","SpineList","ToFloatEx_1","TheThreeState","tofloat","destBgSize","currBgPos","destBgPos","gameWordData","gameWordAudio","addComponent","onZoomFinished","onClosed","onGameBegan","zoomFromShop","PI_2","PI","setData","progress","sin","updateZoom","run","data","JSON","stringify","eventName","role_1","currRole","success","balloon_1","currBall","role","Timer","currTime","totalTime","running","cb","pause","resume","ToFloatEx","toFloatFrom","toFloatTo","toFloatDuration","toFloatFlag","toFloatCallback","toFloatCurrTime","from","to","onDestroy","BoardState_1","ZoomState","wdt","Widget","top","zoomToShop","currScreenSize","sw","sh","bgw","bgh","rawShopWidth","rawShopHeight","rawBgWidth","rawBgHeight","zoomShopW","zoomShopH","zoomBgW","zoomBgH","rawLeft","rawBottom","shopLeft","shopBottom","dx","dy","moveBy"],"mappings":"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","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nexport default class ActionHelper {\n    /**\n     * 移动动到\n     * @param pos \n     */\n    static moveTo(target: cc.Node, pos: cc.Node, duration = 1, callback: () => void = () => void {}) {\n        ActionHelper.moveToXY(target, pos.x, pos.y, duration, callback)\n    }\n\n    static moveToV2(target: cc.Node, pos: cc.Vec2, duration = 1, callback: () => void = () => void {}) {\n        ActionHelper.moveToXY(target, pos.x, pos.y, duration, callback)\n    }\n\n    static moveToXY(target: cc.Node, x: number, y: number, duration = 1, callback: () => void = () => void {}) {\n        let mov = cc.moveTo(duration, x, y).easing(cc.easeSineOut())\n        let seq = cc.sequence(mov, cc.callFunc(() => {\n            callback()\n        }))\n        target.runAction(seq)\n    }\n\n    /**\n     * 淡出\n     * @param target \n     * @param duration \n     * @param callback \n     */\n    static fadeOut(target: cc.Node, duration = 1, callback: () => void = () => void {}) {\n        let fade = cc.fadeOut(duration).easing(cc.easeSineOut())\n        let seq = cc.sequence(fade, cc.callFunc(() => {\n            callback()\n        }))\n        target.runAction(seq)\n    }\n\n    /**\n     * 淡入\n     * @param target \n     * @param duration \n     * @param callback \n     */\n    static fadeIn(target: cc.Node, duration = 1, callback: () => void = () => void {}) {\n        let fade = cc.fadeIn(duration).easing(cc.easeSineOut())\n        let seq = cc.sequence(fade, cc.callFunc(() => {\n            callback()\n        }))\n        target.runAction(seq)\n    }\n\n}\n","// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport ActionHelper from \"./ActionHelper\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Balloon2 extends cc.Component {\n    @property(cc.Node)\n    shape: cc.Node = null\n\n    @property(cc.Node)\n    origin: cc.Node = null\n\n    start() {\n\n    }\n    /**\n     * 折叠好的形态\n     */\n    showShape() {\n        this.shape.active = true\n        this.origin.active = true\n        this.shape.opacity = 0\n        this.origin.opacity = 255\n        ActionHelper.fadeIn(this.shape, 0.5)\n        ActionHelper.fadeOut(this.origin, 0.5)\n    }\n\n    /**\n     * 原始形态\n     */\n    showOrigin() {\n        this.shape.active = true\n        this.origin.active = true\n        this.shape.opacity = 255\n        this.origin.opacity = 0\n        ActionHelper.fadeOut(this.shape, 0.5)\n        ActionHelper.fadeIn(this.origin, 0.5)\n    }\n}","// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport AudioManager from \"../../../kit/system/audio/AudioManager\";\nimport Bubble from \"./Bubble\";\nimport BoardState from \"./states/BoardState\";\nimport TheThreeState from \"./states/TheThreeState\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Balloon extends cc.Component {\n    @property({ type: sp.Skeleton, displayName: '饱气球动画' })\n    blink: sp.Skeleton = null;\n\n    @property({ type: sp.Skeleton, displayName: '空气球动画' })\n    empty: sp.Skeleton = null;\n\n    @property({ type: cc.Integer, displayName: '序号' })\n    index = 0;\n\n    touchEndFunc: Function = null\n    touchBeganFunc: Function = null\n\n    private hotArea: cc.Node = null\n    private hotBg: cc.Node = null\n\n    public static STATE_EMPTY = 0 //未打气\n    public static STATE_PUMP = 1 //打气中\n    public static STATE_FLY_CENTER = 2 //飞向中心\n    public static STATE_TO_CLICK = 3 //等待点击\n    public static STATE_FLY_FRAME = 4 //飞向虚框\n    public static STATE_FINISH = 5 //流程完毕\n\n    public state = Balloon.STATE_EMPTY\n\n    private context: Bubble = null\n\n    private flag_block = false\n    private full_btn: cc.Node = null\n\n    onLoad() {\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this)\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this)\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this)\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this)\n        this.hotArea = cc.find('pump_mouse', this.node.parent)\n        this.hotBg = cc.find('bg', this.hotArea)\n        this.context = this.node.parent.parent.parent.getComponent(Bubble)\n        this.full_btn = cc.find('full_btn', this.node)\n    }\n\n    private initPos: cc.Vec2 = cc.Vec2.ZERO\n    private currPos: cc.Vec2 = cc.Vec2.ZERO\n\n    private onFullClicked() {\n        if (this.state != Balloon.STATE_TO_CLICK) {\n            return\n        }\n        this.context.hand.hide()\n        this.context.unScheduleGuideFinish()\n        this.context.playVoice()\n        this.state = Balloon.STATE_FLY_FRAME\n        AudioManager.playEffect('Bubble','sound/SE_QQyouleyuan02')\n        this.moveTo(this.context.step1.poses_fly[this.index], 1, () => {\n            AudioManager.playEffect('Bubble','sound/SE_QQyouleyuan03')\n            this.state = Balloon.STATE_FINISH\n            Bubble.instance.currBalloonId = -1\n            this.playNormal()\n            if (this.context.isAllFinished()) {\n                this.context.taskBoard.show(0, (isShowing: boolean) => {\n                    AudioManager.playEffect('common','gameTask/audio/SE_luoyefense_03')\n                    this.context.taskBoard.playFinished()\n                    this.context.scheduleOnce(() => {\n                        this.context.taskBoard.hide()\n                        let state = new TheThreeState(this.context)\n                        this.context.setState(state)\n                    }, 3)\n                })\n            } else {\n                let state = this.context.getCurrState()\n                if (state.id == 'BoardState') {\n                    let bstate = state as BoardState\n                    bstate.onGuideFinish()\n                }\n            }\n        })\n    }\n\n    private onTouchBegan(event: cc.Event.EventTouch) {\n        if (this.state == Balloon.STATE_FINISH) {\n            return\n        }\n        if (this.flag_block) {\n            return\n        }\n\n        if (Bubble.instance.currBalloonId != this.index && Bubble.instance.currBalloonId != -1) {\n            return\n        }\n        Bubble.instance.currBalloonId = this.index\n\n        this.context.hand.hide()\n        this.context.unScheduleGuideFinish()\n        this.context.playVoice()\n        // console.log(`touch x: ${event.getLocationX()} y: ${event.getLocationY()}`)\n        // this.currPos.x = event.getLocationX()\n        // this.currPos.y = event.getLocationY()\n        this.currPos.x = this.node.x\n        this.currPos.y = this.node.y\n        this.initPos.x = this.node.x\n        this.initPos.y = this.node.y\n\n        this.hotBg.active = true\n    }\n\n    private onTouchMove(event: cc.Event.EventTouch) {\n        if (this.state == Balloon.STATE_FINISH) {\n            return\n        }\n        if (this.flag_block) {\n            return\n        }\n        if (Bubble.instance.currBalloonId != this.index) {\n            return\n        }\n        // console.log(`touch x: ${event.getLocationX()} y: ${event.getLocationY()}`)\n        let deltaX = event.getDeltaX()\n        let deltaY = event.getDeltaY()\n        this.currPos.x += deltaX\n        this.currPos.y += deltaY\n        this.node.x = this.currPos.x\n        this.node.y = this.currPos.y\n        let worldPos = this.node.parent.convertToWorldSpaceAR(this.node.position)\n\n        // if (this.hotArea.getBoundingBoxToWorld().contains(cc.v2(worldPos.x, worldPos.y))) {\n        //     this.hotBg.active = true\n        // } else {\n        //     this.hotBg.active = false\n        // }\n    }\n\n    private onTouchEnd(event: cc.Event.EventTouch) {\n        if (this.state == Balloon.STATE_FINISH) {\n            return\n        }\n        if (this.flag_block) {\n            return\n        }\n        if (Bubble.instance.currBalloonId != this.index) {\n            return\n        }\n        // console.log(`touch x: ${event.getLocationX()} y: ${event.getLocationY()}`)\n\n        let currX = event.getLocationX()\n        let currY = event.getLocationY()\n\n        let dis = Math.sqrt((currX - this.initPos.x) * (currX - this.initPos.x) + (currY - this.initPos.y) * (currY - this.initPos.y))\n        if (dis > 20) {\n            let worldPos = this.node.parent.convertToWorldSpaceAR(this.node.position)\n            let isInArea = false\n            if (this.hotArea.getBoundingBoxToWorld().contains(cc.v2(worldPos.x, worldPos.y))) {\n                isInArea = true\n            } else {\n                isInArea = false\n            }\n\n            if (isInArea) {\n                if (this.state == Balloon.STATE_EMPTY) {\n                    this.state = Balloon.STATE_PUMP\n                    this.context.playVoice()\n                    this.moveTo(this.context.step1.mouth, 0.5, () => {\n                        this.state = Balloon.STATE_PUMP\n                        this.playPump(() => {\n                            this.state = Balloon.STATE_FLY_CENTER\n                            AudioManager.playEffect('Bubble','sound/SE_QQyouleyuan02')\n                            this.moveTo(this.context.step1.center, 1, () => {\n                                AudioManager.playEffect('Bubble','sound/SE_QQyouleyuan03')\n                                this.state = Balloon.STATE_TO_CLICK\n                                this.flag_block = true\n                                this.playBlink()\n                                //计时\n                                // if (this.index == 0) {//first balloon\n                                this.onGuideFinish()\n                                // }\n                            })\n                        })\n                    })\n                }\n            } else {\n                //飞回\n                this.moveTo(this.context.step1.poses_init[this.index], 0.2, () => {\n                    Bubble.instance.currBalloonId = -1\n                })\n            }\n\n            this.hotBg.active = false\n        }\n    }\n\n    guiding = false\n    /**\n     * 引导球\n     */\n    guideClickBallon() {\n        if (this.guiding) {\n            return\n        }\n        let currIndex = 0\n        let count = 0\n        this.context.hand.onCompleted = () => {\n            if (count == 0) {\n                count++\n                this.context.hand.playClick()\n            } else {\n                this.guiding = false\n                this.context.hand.hide()\n                this.onGuideFinish()\n            }\n        }\n\n        this.guiding = true\n        this.context.hand.setTargetNode(this.full_btn, this.context.node)\n        this.context.hand.playClick()\n    }\n\n    onGuideFinish() {\n        this.context.clickGuideTimer.start(5, () => {\n            this.guideClickBallon()\n        })\n    }\n\n    start() {\n\n    }\n\n    private flagChangeAnim = false\n    // update (dt) {}\n    /**\n     * 播放大气动画\n     * @param callback \n     */\n    playPump(callback: () => void) {\n        AudioManager.playEffect('Bubble','sound/SE_QQyouleyuan01')\n        // this.empty.animation = 'normal'\n        this.empty.setAnimation(0, 'normal', false)\n        this.context.step1.smoke.node.active = true\n        this.context.step1.smoke.front.setAnimation(0, 'animation', true)\n        this.empty.setCompleteListener(() => {\n            console.log('completed >>>>>')\n            this.blink.node.active = true\n            this.context.step1.smoke.node.active = false\n            this.playNormal()\n            this.empty.node.active = false\n            if (callback) {\n                callback()\n            }\n        })\n        this.empty.setEndListener(() => {\n\n        })\n    }\n\n    /**\n     * 播放充满气后动画\n     */\n    playNormal() {\n        this.blink.setAnimation(0, 'normal', true)\n    }\n\n    /**\n     * 播放闪光动画\n     */\n    playBlink() {\n        this.blink.setAnimation(0, 'blink', true)\n    }\n\n    /**\n     * 飘动到\n     * @param pos \n     */\n    moveTo(pos: cc.Node, duration = 1, callback: () => void = () => void {}) {\n        this.flag_block = true\n        let mov = cc.moveTo(duration, pos.x, pos.y)\n        let seq = cc.sequence(mov, cc.callFunc(() => {\n            this.flag_block = false\n            callback()\n        }))\n        this.node.runAction(seq)\n    }\n}\n","import TaskBoard from \"../../../../common/gameTask/scripts/TaskBoard\";\nimport Hand from \"../../../../common/hand/Hand\";\nimport Balloon from \"../Balloon\";\nimport GState from \"../GState\";\n\nexport default class BoardState extends GState {\n    override id = 'BoardState'\n\n    constructor(context) {\n        super(context)\n    }\n\n    taskBoard: TaskBoard = null\n    hand: Hand = null\n\n    override init() {\n        this.taskBoard = this.context.taskBoard\n        this.hand = this.context.hand\n    }\n\n    static SHOW_TASK_TIME = 4 //task1面板展示时间\n\n    override exec() {\n        //show任务1\n        this.taskBoard.show(0, (isShowing) => {\n            if (!isShowing) {\n                //关掉任务了\n                this.guidePumpBallon()\n            }\n        })\n        this.context.pumpGuideTimer.start(BoardState.SHOW_TASK_TIME, () => {\n            if (this.taskBoard.isShowing) {\n                //计时后任务仍未关闭\n                this.taskBoard.hide()\n            }\n            this.guidePumpBallon()\n        })\n    }\n\n\n\n    /**\n     * 引导充气球\n     */\n    guidePumpBallon() {\n        if (this.context.hand.isShowing) {\n            return\n        }\n        if (this.context.isAllFinished()) {\n            return\n        }\n\n        let index = this.context.getCurrGuideIndex()\n        if (index == -1) {\n            return\n        }\n        let angle = 45\n        if (index == 1) {\n            angle = 30\n        } else if (index == 2) {\n            angle = 15\n        }\n\n        let balloon = this.context.step1.balloons[index]\n        if (balloon.state == Balloon.STATE_EMPTY) {\n            let balloon_area = this.context.emptyFrames[index]\n            this.hand.setTargetNode(balloon_area, this.context.node)\n\n            let animIndex = 1\n            let count = 0\n            this.context.hand.onCompleted = () => {\n                if (animIndex == 0) {\n                    animIndex = 1\n                    this.context.hand.playSwipeByAngle(angle, 'you-zuo', false)\n                } else if (animIndex == 1) {\n                    if (count == 0) {\n                        count++\n                        this.context.hand.playSwipeByAngle(angle, 'you-zuo', false)\n                    } else {\n                        this.context.hand.hide()\n                        this.onGuideFinish()\n                    }\n                }\n            }\n\n            // this.context.hand.playClick()\n            this.context.hand.playSwipeByAngle(angle, 'you-zuo', false)\n        } else {\n            balloon.guideClickBallon()\n        }\n\n\n\n    }\n\n\n\n    onGuideFinish() {\n        this.context.pumpGuideTimer.start(5, () => {\n            this.guidePumpBallon()\n        })\n    }\n\n\n\n    override onFinished() {\n\n    }\n\n}","// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport Balloon from \"./Balloon\";\nimport Role from \"./Role\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class BubbleStep1 extends cc.Component {\n    /**\n     * 气球框\n     */\n    @property({ type: [cc.Node], displayName: '气球框' })\n    shapes: cc.Node[] = []\n\n    /**\n     * 气球\n     */\n    @property({ type: [Balloon], displayName: '气球' })\n    balloons: Balloon[] = []\n\n    /**\n     * 气球放飞位置\n     */\n    @property({ type: [cc.Node], displayName: '气球放飞位置' })\n    poses_fly: cc.Node[] = []\n\n    /**\n     * 气球初始位置\n     */\n    @property({ type: [cc.Node], displayName: '气球初始位置' })\n    poses_init: cc.Node[] = []\n\n\n    @property({ type: cc.Node, displayName: '气筒' })\n    pump: cc.Node = null\n\n    @property({ type: cc.Node, displayName: '气筒嘴' })\n    pump_mouse: cc.Node = null\n\n    @property({ type: cc.Node, displayName: '题板' })\n    board: cc.Node = null\n\n    @property({ type: cc.Node, displayName: '中心' })\n    center: cc.Node = null\n    /**\n     * 气嘴\n     */\n    @property({ type: cc.Node, displayName: '气嘴' })\n    mouth: cc.Node = null\n    // onLoad () {}\n\n    @property({ type: Role, displayName: '烟气' })\n    smoke: Role = null\n    \n    start() {\n\n    }\n\n    // update (dt) {}\n}\n","// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport Balloon2 from \"./Balloon2\";\nimport Role from \"./Role\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class BubbleStep2 extends cc.Component {\n\n  /**\n   * 最终位置\n   */\n  @property({ type: [cc.Node], displayName: '最终位置' })\n  poses_final: cc.Node[] = []\n\n\n  /**\n   * 起始位置\n   */\n  @property({ type: cc.Node, displayName: '起始位置' })\n  pos_init: cc.Node = null\n\n  /**\n  * 角色\n  */\n  @property({ type: [Role], displayName: '角色' })\n  private roles: Role[] = []\n\n  get roleList(){\n    return this.roles\n  }\n\n  /**\n  * 角色\n  */\n  @property({ type: Role, displayName: '烟雾' })\n  smoke: Role = null\n\n  /**\n    * 三色瘪球\n    */\n  @property({ type: [Balloon2], displayName: '三色长球' })\n  private balls: Balloon2[] = []\n\n  private _currIndex = 0//初始为大象\n\n  get currRole() {\n    return this.roles[this._currIndex]\n  }\n\n  get currBall() {\n    return this.balls[this._currIndex]\n  }\n\n  get currPos() {\n    return this.poses_final[this._currIndex]\n  }\n\n  next() {\n      this._currIndex++\n  }\n\n  get currIndex() {\n    return this._currIndex\n  }\n\n  start() {\n\n  }\n\n  // update (dt) {}\n}\n","\nimport TaskBoard from \"../../../common/gameTask/scripts/TaskBoard\";\nimport Hand from \"../../../common/hand/Hand\";\nimport ChapterGameComponent from \"../../../common/scripts/ChapterGameComponent\";\nimport { LIFE_CYCLE_COMPLETE } from \"../../../kit/events/events\";\nimport AudioManager from \"../../../kit/system/audio/AudioManager\";\nimport EventSystem from \"../../../kit/system/event/EventSystem\";\nimport Balloon from \"./Balloon\";\nimport BubbleStep1 from \"./BubbleStep1\";\nimport BubbleStep2 from \"./BubbleStep2\";\nimport GState from \"./GState\";\nimport TheThreeState from \"./states/TheThreeState\";\nimport ZoomState from \"./states/ZoomState\";\nimport Timer from \"./Timer\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Bubble extends ChapterGameComponent {\n    /**\n     * 图片上商店尺寸\n     */\n    @property({ displayName: '商店图片宽高' })\n    public shopSize: cc.Size = cc.Size.ZERO\n    /**\n     * 商店(left|bottom)\n     */\n    @property({ displayName: '商店(left|bottom)' })\n    public shopPos: cc.Vec2 = cc.Vec2.ZERO\n    /**\n     * 背景图\n     */\n    @property({ type: cc.Node, displayName: '背景图' })\n    public bg: cc.Node = null\n    /**\n     * spine\n     */\n    @property({ type: cc.Prefab, displayName: '引导手' })\n    public handPrefab: cc.Prefab = null\n\n    public hand: Hand = null\n\n    // ---------------step1-----------------------------\n    @property({ type: BubbleStep1, displayName: 'step1' })\n    public step1: BubbleStep1 = null\n\n    // ---------------step2-----------------------------\n    @property({ type: BubbleStep2, displayName: 'step2' })\n    public step2: BubbleStep2 = null\n\n    public static RABBIT_INDEX = 2\n    /**\n     * 任务框内容\n     */\n    @property({ type: [cc.Node], displayName: '任务框内容' })\n    public taskNodes: cc.Node[] = []\n    /**\n     * 任务框\n     */\n    public taskBoard: TaskBoard = null\n    /**\n     * 任务框\n     */\n    @property({ type: cc.Prefab, displayName: '任务框prefab' })\n    public taskBoardPrefab: cc.Prefab = null\n\n    @property({ type: cc.Label, displayName: 'tip' })\n    public tip: cc.Label = null\n\n    public currBalloonId = -1\n\n    /**\n     * 任务框内容\n     */\n    @property({ type: [cc.Node], displayName: '瘪气球框' })\n    public emptyFrames: cc.Node[] = []\n\n    public MUSIC_PATH: string = \"audio/\";\n    public BUNDLE_NAME: string = \"Bubble\";\n    public VOICE_TEXT_BALLOON: string = \"气球\";\n\n    /**\n     * 当前状态\n     */\n    private currState: GState = null\n\n    public static instance: Bubble = null\n\n\n    public getCurrState() {\n        return this.currState\n    }\n\n    public override onLoad() {\n        super.onLoad()\n        this.fixBg()\n        Bubble.instance = this\n        let taskNode = cc.instantiate(this.taskBoardPrefab)\n        this.node.addChild(taskNode)\n        this.taskBoard = taskNode.getComponent(TaskBoard)\n        for (let i = 0; i < this.taskNodes.length; i++) {\n            const element = this.taskNodes[i];\n            element.active = false\n        }\n        this.taskBoard.setNodes(this.taskNodes)\n        this.taskBoard.node.active = false\n        this.step1.node.active = true\n        this.step2.node.active = false\n        let handNode = cc.instantiate(this.handPrefab)\n        handNode.active = false\n        this.node.addChild(handNode)\n        this.hand = handNode.getComponent(Hand)\n        this.hand.onCompleted = this.onHandCompleted.bind(this)\n        this.pumpGuideTimer = new Timer()\n        this.pumpGuideTimer.name = 'pumpGuideTimer'\n        this.clickGuideTimer = new Timer()\n        this.clickGuideTimer.name = 'clickGuideTimer'\n\n        // 修正动物位置\n        let ydis = -281.688 * this.bg.height / 750\n        for (let i = 0; i < this.step2.poses_final.length; i++) {\n            const element = this.step2.poses_final[i];\n            element.y = ydis\n        }\n        this.step2.pos_init.y = ydis\n\n        // 初始化角色位置\n        for (let i = 0; i < this.step2.roleList.length; i++) {\n            const element = this.step2.roleList[i];\n            element.node.x = this.step2.pos_init.x\n            element.node.y = this.step2.pos_init.y\n            // element.node.active = false\n            element.playSide()\n        }\n\n        // 修正task位置\n        // const screenSize = cc.Canvas.instance.designResolution\n        // for (let i = 0; i < this.taskBoard.poses.length; i++) {\n        //     const element = this.taskBoard.poses[i];\n        //     element.y = -screenSize.height / 2\n        // }\n        this.playVoice('背景音')\n    }\n\n\n    public pumpGuideTimer: Timer = null\n    public clickGuideTimer: Timer = null\n\n    /**\n     *\n     * @param result\n     */\n    public override onRecordResult(result) {\n        this.recording = false\n        super.onRecordResult(result)\n        let state = this.currState as TheThreeState\n        state.onRecordResult(result)\n    }\n\n    public recording = false\n\n    public evaluate() {\n        if (this.recording) {\n            return\n        }\n        this.recording = true\n        this.startRecordAudio(this.VOICE_TEXT_BALLOON, this.BUNDLE_NAME, `sound/balloon`, 'res/bubble');\n    }\n\n    public override initData() {\n        super.initData()\n        this.taskData = {\n            bundleName: 'Bubble',\n            imgList: []\n        };\n    }\n\n    public override start() {\n        // //初始状态\n        // step1\n        let zoomState = new ZoomState(this)\n        this.setState(zoomState)\n\n        AudioManager.playMusic(this.BUNDLE_NAME, \"sound/BGM_balloon\");\n        // step2\n        // let state = new TheThreeState(this)\n        // this.setState(state)\n    }\n\n    /**\n     * 切换状态\n     * @param state\n     */\n    public setState(state: GState) {\n        if (this.currState && this.currState.id == state.id) {\n            return\n        }\n        this.currState = state\n        state.init()\n        state.exec()\n    }\n\n    public currBgSize: cc.Size = cc.Size.ZERO\n\n    /**\n     * 适配背景图\n     */\n    public fixBg() {\n        let frameSize: cc.Size = cc.view.getFrameSize() // 屏幕尺寸\n        let designResolution: cc.Size = cc.Canvas.instance.designResolution\n        let designSize: cc.Size = cc.size(designResolution.width, designResolution.height)  // cc.Canvas.instance.designResolution\n        let frameAspectRatio: number = frameSize.width / frameSize.height\n        let screenSize: cc.Size = { ...designSize } as cc.Size\n\n        let ratio: number = this.bg.width / this.bg.height\n        if (ratio > frameAspectRatio) {\n            let width = this.bg.width * screenSize.height / this.bg.height\n            this.bg.width = width\n            this.bg.height = screenSize.height\n        } else {\n            let height = this.bg.height * screenSize.width / this.bg.width\n            this.bg.width = screenSize.width\n            this.bg.height = height\n        }\n\n        this.bg.x = 0\n        this.bg.y = 0\n        this.currBgSize.width = this.bg.width\n        this.currBgSize.height = this.bg.height\n\n    }\n\n    // update (dt) {}\n    public onClick() {\n    }\n\n    public getCurrGuideIndex() {\n        let index = -1\n        for (let i = 0; i < this.step1.balloons.length; i++) {\n            const element = this.step1.balloons[i]\n            if (element.state != Balloon.STATE_FINISH) {\n                index = i\n                break\n            }\n        }\n        return index\n    }\n\n    public isAllFinished() {\n        let ret = true\n        for (let i = 0; i < this.step1.balloons.length; i++) {\n            const element = this.step1.balloons[i]\n            if (element.state != Balloon.STATE_FINISH) {\n                ret = false\n                break\n            }\n        }\n        return ret\n    }\n\n    public guideCallback = null\n    public guideCallback2 = null\n\n    public unScheduleGuideFinish() {\n        this.pumpGuideTimer.stop()\n        this.clickGuideTimer.stop()\n    }\n\n    /**\n     * 播放语音\n     */\n    public playVoice(name = '气球') {\n        switch (name) {\n            case '气球':\n\n                break;\n            case '太棒了':\n\n                break;\n            case '再试一次':\n\n                break;\n            default:\n                break;\n        }\n        // this.showTip(\"播放声音:\\\"\" + name + \"\\\"\")\n        // AudioManager.playEffect(\n        //     this.BUNDLE_NAME,\n        //     `气球`\n        //   );\n    }\n\n    public playStars() {\n        EventSystem.emit(LIFE_CYCLE_COMPLETE);\n    }\n\n    public showTip(msg) {\n        this.tip.string = msg\n        let fade = cc.fadeIn(0.5).easing(cc.easeSineOut())\n        let fade2 = cc.fadeOut(0.3).easing(cc.easeSineOut())\n        let seq = cc.sequence(fade, cc.delayTime(2), fade2)\n        this.tip.node.runAction(seq)\n    }\n\n    /**\n     * 手动画回调\n     */\n    public onHandCompleted() {\n\n    }\n\n    public showHand(target: cc.Node) {\n        this.hand.setTargetNode(target, this.node)\n        this.hand.node.active = true\n    }\n\n    // --------timers---------\n    public override update(dt) {\n        this.pumpGuideTimer.update(dt)\n        this.clickGuideTimer.update(dt)\n    }\n}\n","import Bubble from \"./Bubble\"\n\nexport default class GState {\n    context: Bubble = null\n    id = ''\n    constructor(context: Bubble) {\n        this.context = context\n    }\n\n    init() { }\n    exec() { }\n    onFinished() { }\n\n}","// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport AudioManager from \"../../../kit/system/audio/AudioManager\";\nimport ActionHelper from \"./ActionHelper\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Role extends cc.Component {\n\n    @property({ type: sp.Skeleton, displayName: '侧面动画' })\n    side: sp.Skeleton = null;\n\n    @property({ type: sp.Skeleton, displayName: '正面动画' })\n    front: sp.Skeleton = null;\n\n    @property({ type: cc.Node, displayName: '参考点' })\n    bg: cc.Node = null;\n\n    @property({ type: cc.Node, displayName: '手持气球' })\n    balloon: cc.Node = null;\n\n    @property({ type: cc.Node, displayName: '手持气球侧面' })\n    balloon2: cc.Node = null;\n\n    start() {\n\n    }\n\n    playSide() {\n        this.side.node.active = true\n        this.front.node.active = false\n        this.side.setAnimation(0, 'walk', true)\n    }\n\n    playStandby() {\n        this.side.node.active = false\n        this.front.node.active = true\n        this.front.setAnimation(0, 'standby', true)\n    }\n\n    playHope() {\n        AudioManager.playEffect('Bubble','sound/SE_QQyouleyuan05')\n        this.side.node.active = false\n        this.front.node.active = true\n        this.front.setAnimation(0, 'hope', true)\n    }\n\n    playCry() {\n        this.side.node.active = false\n        this.front.node.active = true\n        this.front.setAnimation(0, 'cry', true)\n    }\n\n    playHappy() {\n        this.side.node.active = false\n        this.front.node.active = true\n        this.front.setAnimation(0, 'happy', true)\n    }\n\n    showBalloon() {\n        this.balloon.active = true\n        ActionHelper.fadeIn(this.balloon, 0.2)\n    }\n\n    showBalloon2() {\n        this.balloon2.active = true\n        // ActionHelper.fadeIn(this.balloon2, 0.2)\n    }\n\n    /**\n     * 走到node\n     * @param node \n     */\n    walkTo(node: cc.Node, callback: Function) {\n        AudioManager.playEffect('Bubble','sound/SE_QQyouleyuan04')\n        if (Math.abs(node.x - this.node.x) > 5) {\n            if (node.x > this.node.x) {//left\n                this.node.scaleX = -1\n            }\n            this.playSide()\n        }\n        ActionHelper.moveTo(this.node, node, 3, () => {\n            this.node.scaleX = 1\n            this.playStandby()\n            callback()\n        })\n    }\n}\n","// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class SpineList extends cc.Component {\n\n    // @property({ type: sp.Skeleton })\n    // blink_round: sp.Skeleton = null;\n\n    // @property({ type: sp.Skeleton })\n    // blink_long: sp.Skeleton = null;\n\n    // @property({ type: sp.Skeleton })\n    // blink_head: sp.Skeleton = null;\n    start() {\n\n    }\n\n    // update (dt) {}\n}\n","import { FOLLOW_CLIENT_TO_MODULE, FOLLOW_MODULE_TO_CLIENT } from \"../../../../kit/events/events\"\nimport AudioManager from \"../../../../kit/system/audio/AudioManager\"\nimport EventSystem from \"../../../../kit/system/event/EventSystem\"\nimport ActionHelper from \"../ActionHelper\"\nimport Bubble from \"../Bubble\"\nimport GState from \"../GState\"\nimport ToFloatEx from \"../ToFloatEx\"\nimport BoardState from \"./BoardState\"\n\nexport default class TheThreeState extends GState {\n    override id = 'ZoomState'\n\n    constructor(context: Bubble) {\n        super(context)\n    }\n\n    tofloat: ToFloatEx = null\n    /**\n    * 图片上商店尺寸\n    */\n    shopSize: cc.Size = cc.Size.ZERO\n    /**\n     * 商店(left|bottom)\n     */\n    shopPos: cc.Vec2 = cc.Vec2.ZERO\n\n    currBgSize: cc.Size = cc.Size.ZERO\n    destBgSize: cc.Size = cc.Size.ZERO\n\n    currBgPos: cc.Vec2 = cc.Vec2.ZERO\n    destBgPos: cc.Vec2 = cc.Vec2.ZERO\n\n    bg: cc.Node = null\n\n    // currIndex = 0 //大象初始\n\n    override init() {\n        this.context.step1.node.active = false\n        this.context.step2.node.active = true\n\n        this.shopPos = this.context.shopPos\n        this.shopSize = this.context.shopSize\n        this.bg = this.context.bg\n        let tofloat = this.bg.getComponent(ToFloatEx)\n        if (!tofloat) {\n            tofloat = this.bg.addComponent(ToFloatEx)\n        }\n        this.tofloat = tofloat\n        this.tofloat.onFinished = this.onZoomFinished.bind(this)\n        this.destBgSize = cc.size(this.context.currBgSize.width, this.context.currBgSize.height)\n        this.currBgSize = cc.size(this.bg.width, this.bg.height)\n        this.currBgPos = cc.v2(this.bg.x, this.bg.y)\n        this.destBgPos = cc.Vec2.ZERO\n    }\n\n    private gameWordData = ['气球']\n    private gameWordAudio = ['balloon']\n\n    /**\n     * 视野还原完毕\n     */\n    onZoomFinished() {\n        this.context.taskBoard.onClosed = ()=>{//玩家主动点击关闭\n            this.onGameBegan()\n            this.context.taskBoard.onClosed = null\n        }\n\n        this.context.taskBoard.show(1, (isShowing: boolean) => {\n            if (isShowing) {\n                this.context.scheduleOnce(() => {//5秒超时\n                    this.context.taskBoard.hide()\n                }, 6)//6.任务单发布 @ https://shimo.im/docs/16q80Bm4zpiOZxq7/read\n            } else {\n            }\n        })\n    }\n\n    /**\n     * 聚焦到商店\n     */\n    zoomFromShop() {\n        const PI_2 = Math.PI / 2\n        this.tofloat.setData(1, 0, 1, (progress) => {\n            // console.log('progress' + progress)\n            let x = progress * PI_2\n            let ratio = Math.sin(x)\n            this.updateZoom(ratio)\n        })\n        this.tofloat.run()\n    }\n\n    /**\n     * \n     * @param ratio \n     */\n    updateZoom(ratio: number) {\n        // console.log('ratio:' + ratio)\n        this.bg.width = (this.destBgSize.width - this.currBgSize.width) * ratio + this.currBgSize.width\n        this.bg.height = (this.destBgSize.height - this.currBgSize.height) * ratio + this.currBgSize.height\n        this.bg.x = (this.destBgPos.x - this.currBgPos.x) * ratio + this.currBgPos.x\n        this.bg.y = (this.destBgPos.y - this.currBgPos.y) * ratio + this.currBgPos.y\n    }\n\n    override exec() {\n        this.zoomFromShop()\n    }\n\n    override onFinished() {\n        //所有结束\n        this.context.taskBoard.show(1, () => {\n            this.context.taskBoard.playFinished()\n            this.context.scheduleOnce(() => {\n                this.context.taskBoard.hide()\n                this.context.playVoice('欢呼')\n                this.context.playStars()\n            }, 2)\n        })\n    }\n\n\n    /**\n     * 录音回调\n     * @param result \n     */\n    onRecordResult(result) {\n        // result.data.success = false //test\n        result = result.data\n        console.log('onRecordResult >>>>>>>>>>>>> '+JSON.stringify(result))\n        if (result.eventName && result.eventName == 'ResultCb') {\n            let role = this.context.step2.currRole\n            if (result.success) {\n                console.log('onRecordResult >>>>>>>>')\n                this.context.playVoice('太棒了')\n                role.playHappy()\n                this.context.step2.smoke.front.setCompleteListener(() => {\n                    role.playStandby()\n                    balloon.node.active = true\n                    ActionHelper.fadeOut(balloon.node, 0.2)\n                    role.showBalloon()\n                    this.context.scheduleOnce(() => {\n                        if (this.context.step2.currIndex != Bubble.RABBIT_INDEX) {\n                            role.showBalloon2()\n                        }\n                        role.walkTo(this.context.step2.currPos, () => {\n                            this.context.step2.next()//下一个\n                            if (this.context.step2.currIndex <= 2) {\n                                this.context.scheduleOnce(()=>{\n                                    this.onGameBegan()\n                                },1)\n                            } else {\n                                this.onFinished()\n                            }\n                        })\n                    }, 2)\n                })\n                AudioManager.playEffect('Bubble','sound/SE_QQyouleyuan06')\n                this.context.step2.smoke.front.setAnimation(0, 'bomb', false)\n                let balloon = this.context.step2.currBall\n                balloon.showShape()\n            } else {\n                role.playCry()\n                this.context.scheduleOnce(() => {\n                    role.playHope()\n                    // this.context.playVoice('再试一次')\n                    this.context.scheduleOnce(() => {\n                        this.context.evaluate()\n                    }, 2)\n                }, 3)\n            }\n        }\n\n    }\n\n    /**\n     * 游戏流程开始(大象第一个登场)\n     */\n    onGameBegan() {\n        console.log('start game>>>>>>>>>')\n        let role = this.context.step2.currRole\n        role.node.active = true\n        role.playSide()\n        let balloon = this.context.step2.currBall\n        let pos = this.context.step2.poses_final[Bubble.RABBIT_INDEX]//中央\n        AudioManager.playEffect('Bubble','sound/SE_QQyouleyuan04')\n        ActionHelper.moveToXY(role.node, pos.position.x, role.node.y, 3, () => {\n            role.playHope()\n            AudioManager.playEffect('Bubble','sound/SE_QQyouleyuan07')\n            ActionHelper.moveTo(balloon.node, this.context.step2.smoke.node, 0.5, () => {\n                this.context.evaluate()\n            })\n        })\n    }\n\n\n\n}","// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nexport default class Timer {\n    callback: Function = null\n    currTime = 0\n    totalTime = 0\n    running = false\n    name = ''\n    update(dt) {\n        if (this.running) {\n            this.currTime += dt\n            if (this.currTime >= this.totalTime) {\n                this.running = false\n                console.log('timer: ' + this.name + ' finished>>>>>')\n                if (this.callback) {\n                    let cb = this.callback\n                    cb()\n                } else {\n                    console.log(this.name + ':callback is null')\n                }\n            }\n        }\n    }\n    stop() {\n        console.log('timer: ' + this.name + ' stopped>>>>>')\n        this.running = false\n        this.totalTime = 0\n        this.currTime = 0\n    }\n\n    pause() {\n        this.running = false\n    }\n\n    resume() {\n        this.running = true\n    }\n\n    start(duration: number, callback: Function) {\n        console.log('timer: ' + this.name + ' started')\n        this.totalTime = duration\n        this.currTime = 0\n        this.running = true\n        this.callback = callback\n    }\n}\n","// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class ToFloatEx extends cc.Component {\n\n    toFloatFrom = 0\n    toFloatTo = 0\n    toFloatDuration = 0\n    toFloatFlag = false\n    toFloatCallback: (value: number) => void = null\n    toFloatCurrTime = 0\n\n    onFinished: () => void = null\n\n    setData(duration, from, to, callback) {\n        if (this.toFloatFlag) {\n            this.toFloatFlag = false\n        }\n        this.toFloatFrom = from\n        this.toFloatTo = to\n        this.toFloatDuration = duration\n        this.toFloatCallback = callback\n    }\n\n    run() {\n        this.toFloatCurrTime = 0\n        this.toFloatFlag = true\n    }\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n\n    }\n\n    stop() {\n        this.toFloatFlag = false\n    }\n\n    onDestroy() {\n\n    }\n\n    update(dt) {\n        if (this.toFloatFlag) {\n            this.toFloatCurrTime += dt\n            let ratio = this.toFloatCurrTime / this.toFloatDuration\n            if (ratio > 1) {\n                ratio = 1\n            }\n            if (this.toFloatCallback) {\n                let cb = this.toFloatCallback\n                cb(this.toFloatFrom + (this.toFloatTo - this.toFloatFrom) * ratio)\n            }\n            if (ratio >= 1) {\n                this.toFloatFlag = false\n                if (this.onFinished) {\n                    let cb = this.onFinished\n                    cb()\n                }\n            }\n        }\n    }\n}\n","import GState from \"../GState\"\nimport ToFloatEx from \"../ToFloatEx\"\nimport BoardState from \"./BoardState\"\n\nexport default class ZoomState extends GState {\n    override id = 'ZoomState'\n\n    constructor(context) {\n        super(context)\n    }\n\n    tofloat: ToFloatEx = null\n    /**\n    * 图片上商店尺寸\n    */\n    shopSize: cc.Size = cc.Size.ZERO\n    /**\n     * 商店(left|bottom)\n     */\n    shopPos: cc.Vec2 = cc.Vec2.ZERO\n\n    currBgSize: cc.Size = cc.Size.ZERO\n    destBgSize: cc.Size = cc.Size.ZERO\n\n    currBgPos: cc.Vec2 = cc.Vec2.ZERO\n    destBgPos: cc.Vec2 = cc.Vec2.ZERO\n\n    bg: cc.Node = null\n\n    override init() {\n        let board = this.context.step1.board\n        // board.y = \n        this.context.step1.node.active = false\n        let wdt = board.getComponent(cc.Widget)\n        wdt.top = -board.height\n\n        this.shopPos = this.context.shopPos\n        this.shopSize = this.context.shopSize\n        this.bg = this.context.bg\n        let tofloat = this.bg.addComponent(ToFloatEx)\n        this.tofloat = tofloat\n        this.tofloat.onFinished = this.onZoomFinished.bind(this)\n        \n    }\n\n    /**\n     * 聚焦到商店\n     */\n    zoomToShop() {\n        const currScreenSize = cc.Canvas.instance.designResolution\n        //屏幕尺寸\n        let sw = currScreenSize.width\n        let sh = currScreenSize.height\n        //缩放前背景尺寸\n        let bgw = this.bg.width\n        let bgh = this.bg.height\n        //图片上商店尺寸\n        let rawShopWidth = this.shopSize.width\n        let rawShopHeight = this.shopSize.height\n        //背景图尺寸\n        let rawBgWidth = 1334\n        let rawBgHeight = 750\n\n        //缩放后商店尺寸\n        let zoomShopW = 1\n        let zoomShopH = 1\n\n        //缩放后背景尺寸\n        let zoomBgW = 1\n        let zoomBgH = 1\n\n        if (rawShopWidth / rawShopHeight > currScreenSize.width / currScreenSize.height) {\n            zoomShopW = sw\n            zoomShopH = zoomShopW * rawShopHeight / rawShopWidth\n        } else {\n            zoomShopH = sh\n            zoomShopW = zoomShopH * rawShopWidth / rawShopHeight\n        }\n\n        zoomBgW = rawBgWidth * zoomShopW / rawShopWidth\n        zoomBgH = rawBgHeight * zoomShopH / rawShopHeight\n\n        //缩放后bg坐标\n        let rawLeft = this.shopPos.x\n        let rawBottom = this.shopPos.y\n\n        let shopLeft = rawLeft * zoomShopW / rawShopWidth\n        let shopBottom = rawBottom * zoomShopH / rawShopHeight\n\n        let dx = zoomBgW / 2 - (shopLeft + zoomShopW / 2)\n        let dy = zoomBgH / 2 - (shopBottom + zoomShopH / 2)\n\n\n        console.log('dx:' + dx + ' dy:' + dy)\n        console.log('bgw:' + zoomBgW + ' bgh:' + zoomBgH)\n        console.log('raw left:' + rawLeft + ' bottom:' + rawBottom)\n        //变换\n        // this.bg.width = zoomBgW\n        // this.bg.height = zoomBgH\n        // this.bg.x = dx\n        // this.bg.y = dy\n\n        this.currBgSize = cc.size(this.bg.width, this.bg.height)\n\n        this.destBgPos = cc.v2(dx, dy)\n        this.destBgSize = cc.size(zoomBgW, zoomBgH)\n\n        const PI_2 = Math.PI / 2\n\n        this.tofloat.setData(1, 0, 1, (progress) => {\n            // console.log('progress' + progress)\n            let x = progress * PI_2\n            let ratio = Math.sin(x)\n            this.updateZoom(ratio)\n        })\n        this.tofloat.run()\n    }\n\n    /**\n     * \n     * @param ratio \n     */\n    updateZoom(ratio: number) {\n        // console.log('ratio:' + ratio)\n        this.bg.width = (this.destBgSize.width - this.currBgSize.width) * ratio + this.currBgSize.width\n        this.bg.height = (this.destBgSize.height - this.currBgSize.height) * ratio + this.currBgSize.height\n        this.bg.x = (this.destBgPos.x - this.currBgPos.x) * ratio + this.currBgPos.x\n        this.bg.y = (this.destBgPos.y - this.currBgPos.y) * ratio + this.currBgPos.y\n    }\n\n    /**\n     * 商店聚焦结束\n     */\n    onZoomFinished() {\n        this.context.scheduleOnce(() => {\n            let board = this.context.step1.board\n            this.context.step1.node.active = true\n            let dis = board.height\n            let mov = cc.moveBy(0.4, 0, -dis).easing(cc.easeSineOut())\n            let seq = cc.sequence(mov, cc.callFunc(() => {\n                this.onFinished()\n            }))\n            this.context.step1.board.runAction(seq)\n        }, 1)\n    }\n\n    override exec() {\n        this.context.scheduleOnce(() => {\n            this.zoomToShop()\n        }, 1)\n    }\n\n    override onFinished() {\n        let state = new BoardState(this.context)\n        this.context.setState(state)\n    }\n}"],"file":"index.js"}