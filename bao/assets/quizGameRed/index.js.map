{"version":3,"sources":["assets/bundles/quizGameRed/scripts/QuizGameRedConfig.ts","assets/bundles/quizGameRed/scripts/QuizGameRed.ts"],"names":["EleSpineName","exports","SpineType","QuizRedSoundConfig","round1CorrectConfig","round1CorrectWrong","round2CorrectConfig","round2WrongConfig","CompEnum_1","require","AudioManager_1","TemplateGameBase_1","QuizGameRedConfig_1","_a","cc","_decorator","ccclass","property","QUIZGAMERED","QuizGameRed","_super","__extends","_this","apply","this","arguments","eleSpine","idlePosNode","game4Item","tuzice","tuzizheng","tuzibei","targetPos1","selectTargetNode","selectCorrect","guidFun","prototype","start","node","zIndex","default","playMusic","BG","guidRound12","playEffect","KeyWord","nodeArr","roundNodeArr","curRoundIndex","children","map","tween","call","to","scale","openAniStart","log","playOpenAniStart1","_b","sent","bind","schedule","playOpenAniStart2","playOpenAniStart3","playOpenAniStart4","roundStateTypeChanged","RoundStateType","RoundOpenAniComplete","endAniStart","console","playWalkSound","skinName","WalkWithBall","WalkWithCar","skinName2","dropBall","dropCar","changeSpine","ce","playEleAnimation","move2TargetPos","v3","x","y","bei","scheduleOnce","getChildByName","active","SE_shoushifangjian02","zheng","Promise","resolve","reject","SE_shoushifangjian03","happy","then","SE_shoushifangjian04","kunhuo","showResultSpine","pos","position","curRoundResult","win","WalkWithBook","SE_shoushifangjian05","dropBook","RoundEndAniComplete","__awaiter","find","delay","catch","e","startAudioCallFunc","startRecordAudio","CC_PREVIEW","onRecordResult","result","data","eventName","success","RoundComplete","eleMove1TargetPosWithAni","Walk","stayWithBall","stayWithCar","stay","stayWithBook","opacity","eleMove2TargetPosWithAni","moveAniName","time","stayAniName","scaleX","aniName","loop","le","setAnimation","setTrackCompleteListener","spineName","skeletonData","itemTouchCall","event","unschedule","target","currentTarget","worldPos","parent","convertToWorldSpaceAR","convertToNodeSpaceAR","n","Number","btn","getComponent","Button","interactable","play","playLoopEffect","SE_shoushifangjian01","stopLoopEffect","__decorate","type","sp","Skeleton","displayName","Node","SkeletonData"],"mappings":"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","sourcesContent":["import { AnimationConfig } from \"../../../common/structure/CompInterface\";\n\nexport enum EleSpineName {\n    Walk = 'walk',\n    stay = 'stay',\n    WalkWithCar = 'qiche_walk',\n    WalkWithBall = 'piqiu_walk2',\n    WalkWithBook = 'book_walk2',\n    stayWithBall = 'stay-qiu',\n    stayWithCar = 'stay-qiche',\n    stayWithBook = 'stay-book2',\n    dropBall = 'fangqiu-JH',\n    dropCar = 'fangqiche-JH',\n    dropBook = 'fangshu_Jh',\n    happy = 'happy',\n    kunhuo = 'KunHuo'\n\n}\n\nexport enum SpineType {\n    ce = \"tuzi-ce\",\n    zheng = \"tuzi-zhengmian\",\n    bei = \"tuzi-Beimian\"\n}\n\nexport enum QuizRedSoundConfig {\n    BG = 'audios/BGM_shoushifangjian01', //背景\n    KeyWord = 'audios/hongse', //关键词\n    SE_shoushifangjian01 = 'audios/SE_shoushifangjian01', //嘟嘟走动的音效\n    SE_shoushifangjian02 = 'audios/SE_shoushifangjian02', //嘟嘟往盒子里放东西的音效\n    SE_shoushifangjian03 = 'audios/SE_shoushifangjian03', //嘟嘟高兴哈哈笑的表情~的音效\n    SE_shoushifangjian04 = 'audios/SE_shoushifangjian04', //嘟嘟困惑的音效\n    SE_shoushifangjian05 = 'audios/SE_shoushifangjian05', //嘟嘟把书放进书架的声音\n}\n\n\n\nlet  round1CorrectConfig: AnimationConfig[] = [\n    \n];\n\nlet round1CorrectWrong: AnimationConfig[] = [\n    \n];\n\nlet round2CorrectConfig: AnimationConfig[] = [\n    \n];\n\nlet round2WrongConfig: AnimationConfig[] = [\n   \n];\n\nexport { round1CorrectConfig, round2CorrectConfig, round2WrongConfig }","import { SpineUtils } from './../../../common/utils/SpineUtils';\nimport { RoundStateType } from \"../../../common/structure/CompEnum\";\nimport ResourcesManager, { ResourceType } from \"../../../kit/manager/ResourcesManager\";\nimport AudioManager from \"../../../kit/system/audio/AudioManager\";\nimport TemplateGameBase from \"../../templateGame/scripts/TemplateGameBase\";\nimport { SpineType, EleSpineName, QuizRedSoundConfig } from \"./QuizGameRedConfig\";\nimport { AnimationConfig } from '../../../common/structure/CompInterface';\nimport { QuizBlueSoundConfig } from '../../quizGameBlue/scripts/QuizGameBlueConfig';\nconst { ccclass, property } = cc._decorator;\n\nconst QUIZGAMERED = 'quizGameRed';\n@ccclass\nexport default class QuizGameRed extends TemplateGameBase {\n\n    @property({ type: sp.Skeleton, displayName: \"大象动画\" })\n    eleSpine: sp.Skeleton = null;\n\n    @property({ type: cc.Node, displayName: \"大象待机位置\" })\n    idlePosNode: cc.Node = null;\n\n    @property({ type: cc.Node, displayName: \"书架\" })\n    game4Item: cc.Node = null;\n\n    @property({ type: sp.SkeletonData, displayName: \"兔子侧面\" })\n    tuzice: sp.SkeletonData = null;\n\n    @property({ type: sp.SkeletonData, displayName: \"兔子正面\" })\n    tuzizheng: sp.SkeletonData = null;\n\n    @property({ type: sp.SkeletonData, displayName: \"兔子背面\" })\n    tuzibei: sp.SkeletonData = null;\n\n    targetPos1: cc.Vec3 = null;\n    selectTargetNode: cc.Node = null;\n    selectCorrect = false;\n    guidFun: () => void = null\n\n    start() {\n        this.eleSpine.node.zIndex = 100;\n        //  this.roundNodeArr[2].zIndex = 110;\n        AudioManager.playMusic( QUIZGAMERED, QuizRedSoundConfig.BG);\n    }\n\n    guidRound12() {\n\n        AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.KeyWord);\n\n        let nodeArr = this.roundNodeArr[this.curRoundIndex].children\n        // if (this.curRoundIndex == 2) {\n        //     let node = cc.find('bg/ItemsLayer', this.roundNodeArr[this.curRoundIndex])\n        //     nodeArr = node.children\n        // }\n        nodeArr.map((node) => {\n            cc.tween(node)\n                .call(() => { })\n                .to(0.15, { scale: 1.1 })\n                .to(0.15, { scale: 0.9 })\n                .to(0.15, { scale: 1.1 })\n                .to(0.15, { scale: 1 })\n                .start()\n        })\n    }\n\n    // 开场动画开始\n    async openAniStart() {\n        cc.log(\" openAniStart =====this.curRoundIndex: \", this.curRoundIndex)\n        switch (this.curRoundIndex) {\n            case 0:\n                await this.playOpenAniStart1();\n                AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.KeyWord);\n                this.guidFun = this.guidRound12.bind(this)\n                this.schedule(this.guidFun, 5);\n                break;\n            case 1:\n                await this.playOpenAniStart2();\n                AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.KeyWord);\n                this.guidFun = this.guidRound12.bind(this)\n                this.schedule(this.guidFun, 5);\n                break;\n            case 2:\n                await this.playOpenAniStart3();\n                break;\n            default:\n                await this.playOpenAniStart4();\n                break;\n        }\n\n        this.roundStateTypeChanged(RoundStateType.RoundOpenAniComplete);\n    }\n\n    // // 开场动画播完\n    // openAniComplete() { }\n    // // 环节开始\n    // roundStart() { }\n    // // 环节进行中 状态同步\n    // roundProceeding() { }\n    // 环节完成\n    // roundComplete(params: Comp2TemplateParams) { }\n    // 完成动画开始播放\n\n\n    async endAniStart() {\n        console.log(\" endAniStart  ===this.curRoundIndex: \", this.curRoundIndex);\n        switch (this.curRoundIndex) {\n            case 0:\n            case 1:\n                this.playWalkSound(true);\n                let skinName = this.curRoundIndex == 0 ? EleSpineName.WalkWithBall : EleSpineName.WalkWithCar;\n                let skinName2 = this.curRoundIndex == 0 ? EleSpineName.dropBall : EleSpineName.dropCar;\n                await this.changeSpine(SpineType.ce);\n                this.playEleAnimation(skinName, true, -.5);\n                await this.move2TargetPos(2, cc.v3(this.targetPos1.x, this.eleSpine.node.y));\n                this.playWalkSound(false);\n                await this.changeSpine(SpineType.bei);\n                this.scheduleOnce(() => {\n                    this.selectTargetNode.getChildByName('item').active = true;\n                }, .5)\n                AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian02)\n                await this.playEleAnimation(skinName2, false, .5);\n                await this.changeSpine(SpineType.zheng);\n                if (this.selectCorrect) {\n                    await new Promise<void>((resolve, reject) => {\n                        AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian03)\n                        this.playEleAnimation(EleSpineName.happy, false, .5).then(() => {\n                            resolve();\n                        });\n                    });\n                } else {\n                    await new Promise<void>((resolve, reject) => {\n                        AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian04)\n                        this.playEleAnimation(EleSpineName.kunhuo, false, .5).then(() => {\n                            resolve();\n                        });\n                    });\n                }\n                break;\n            case 2:\n                // this.eleSpine.node.active = true;\n                // this.roundNodeArr[this.curRoundIndex].active = false\n                // if (this.curRoundResult.win == 1) {\n                //     this.node.getChildByName(\"showSp\").active = true\n                //     cc.tween(this.node).delay(0.5).call(()=>{ \n                        \n                //     })\n                //     AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian03)\n                //     await this.playEleAnimation(EleSpineName.happy, false, .5);\n                // } else {\n                //     AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian04)\n                //     await this.playEleAnimation(EleSpineName.kunhuo, false, .5);\n                // }\n                await this.showResultSpine()\n                break;\n            case 3:\n\n                let pos = this.game4Item.position;\n                if (this.curRoundResult.win == 1) {\n                    await this.changeSpine(SpineType.ce);\n                    this.playWalkSound(true);\n                    this.playEleAnimation(EleSpineName.WalkWithBook, true, -.5);\n                    await this.move2TargetPos(2, cc.v3(pos.x, this.eleSpine.node.y));\n                    this.playWalkSound(false);\n                    await this.changeSpine(SpineType.bei);\n                    this.scheduleOnce(() => {\n                        this.game4Item.getChildByName(\"book\").active = true\n                    }, .5)\n                    AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian05)\n                    await this.playEleAnimation(EleSpineName.dropBook, false, .5);\n                    await this.changeSpine(SpineType.zheng)\n                    await new Promise<void>((resolve, reject) => {\n                        AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian03)\n                        this.playEleAnimation(EleSpineName.happy, false, .5).then(() => {\n                            resolve();\n                        });\n                    });\n\n                } else {\n                    await new Promise<void>((resolve, reject) => {\n                        AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian04)\n                        this.playEleAnimation(EleSpineName.kunhuo, false, .5).then(() => {\n                            resolve();\n                        });\n                    });\n                }\n                break;\n\n            default:\n                break;\n        }\n        console.log(\" endAniStart  ===this.curRoundIndex: 1111\", this.curRoundIndex);\n        this.roundStateTypeChanged(RoundStateType.RoundEndAniComplete);\n    }\n    // // 完成动画播放结束\n    // endAniComplete() { }\n\n    showResultSpine(){\n        return new Promise<void>(async(resolve, reject) => {\n            if (this.curRoundResult.win == 1) {\n                cc.find(\"puzzleComponent/showSp\", this.node).active = true\n                cc.find(\"puzzleComponent/tipSp\", this.node).active = false\n                cc.find(\"puzzleComponent/heartContr\", this.node).active = false\n                cc.tween(this.node).delay(1).call(async()=>{ \n                    this.eleSpine.node.active = true;\n                    this.roundNodeArr[this.curRoundIndex].active = false\n                    AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian03)\n                    await this.playEleAnimation(EleSpineName.happy, false, .5);\n                    resolve()\n                }).start()\n            } else {\n                this.eleSpine.node.active = true\n                this.roundNodeArr[this.curRoundIndex].active = false\n                AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian04)\n                await this.playEleAnimation(EleSpineName.kunhuo, false, .5);\n                resolve()\n            }\n        }).catch((e)=>{\n            console.log(e)\n        })\n    }\n\n    startAudioCallFunc() {\n        cc.log(\"QuizGameBlue start record!\")\n        this.startRecordAudio(\"红色\", QUIZGAMERED, QuizRedSoundConfig.KeyWord, \"images/hongse\");\n        if (CC_PREVIEW) {\n            this.scheduleOnce(() => {\n                let result = { data: { success: true, eventName: \"ResultCb\" } }\n                this.onRecordResult(result);\n            }, 4);\n        }\n    }\n\n    onRecordResult(result) {\n        cc.log(\"onRecordResult ===== \", result)\n        if (result.data.eventName == 'ResultCb') {\n            if (result.data.success) {\n                this.roundStateTypeChanged(RoundStateType.RoundComplete, { win: 1 })\n            }\n            else {\n                this.roundStateTypeChanged(RoundStateType.RoundComplete, { win: 0 })\n            }\n        }\n    }\n\n    playOpenAniStart1() {\n        return new Promise<void>((resolve, reject) => {\n            this.playWalkSound(true);\n            this.eleMove1TargetPosWithAni(EleSpineName.Walk, 3, this.idlePosNode.position, EleSpineName.stayWithBall).then(() => {\n                this.playWalkSound(false);\n                resolve();\n            });\n        })\n    }\n\n    playOpenAniStart2() {\n        return new Promise<void>((resolve, reject) => {\n            this.playWalkSound(true);\n            this.eleMove1TargetPosWithAni(EleSpineName.Walk, 3, this.idlePosNode.position, EleSpineName.stayWithCar).then(() => {\n                this.playWalkSound(false);\n                resolve();\n            });\n        })\n    }\n\n\n    playOpenAniStart3() {\n        return new Promise<void>((resolve, reject) => {\n            this.playWalkSound(true);\n            this.eleMove1TargetPosWithAni(EleSpineName.Walk, 3, this.idlePosNode.position, EleSpineName.stay).then(() => {\n                this.playWalkSound(false);\n                AudioManager.playEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian04);\n                this.playEleAnimation(EleSpineName.kunhuo, false, .5).then(() => {\n                    this.eleSpine.node.active = false;\n                    resolve();\n                })\n            });\n        })\n    }\n\n    playOpenAniStart4() {\n        return new Promise<void>(async (resolve, reject) => {\n            await this.playEleAnimation(EleSpineName.stayWithBook, true, .5);\n            cc.tween(this.game4Item).to(1, { opacity: 255 }).start();\n            resolve();\n        });\n    }\n\n    async eleMove2TargetPosWithAni(moveAniName, time, pos, stayAniName) {\n        await this.changeSpine(SpineType.ce);\n        let scaleX = this.eleSpine.node.x > pos.x ? .5 : -.5;\n        this.playEleAnimation(moveAniName, true, scaleX);\n        await this.move2TargetPos(time, pos);\n        await this.changeSpine(SpineType.bei);\n        this.playEleAnimation(stayAniName, true, .5);\n    }\n\n    async eleMove1TargetPosWithAni(moveAniName, time, pos, stayAniName) {\n        await this.changeSpine(SpineType.ce);\n        let scaleX = this.eleSpine.node.x > pos.x ? .5 : -.5;\n        this.playEleAnimation(moveAniName, true, scaleX);\n        await this.move2TargetPos(time, pos);\n        await this.changeSpine(SpineType.zheng);\n        this.playEleAnimation(stayAniName, true, .5);\n    }\n\n\n    /**\n     * \n     * @param aniName \n     * @param loop \n     * @param scale 朝向\n     */\n    playEleAnimation(aniName, loop = true, scale = .5) {\n        // this.eleSpine.node.scaleX = 1;\n        if (loop) {\n            Promise.resolve().then(() => {\n                this.eleSpine.node.scaleX = scale;\n                let le = this.eleSpine.setAnimation(0, aniName, loop);\n            });\n        } else {\n            return new Promise<void>((resolve, reject) => {\n                this.eleSpine.node.scaleX = scale;\n                let le = this.eleSpine.setAnimation(0, aniName, loop);\n                this.eleSpine.setTrackCompleteListener(le, () => {\n                    resolve();\n                })\n            }).catch((e)=>{\n                console.log(e)\n            });\n        }\n    }\n\n    changeSpine(spineName: SpineType) {\n        return new Promise<void>((resolve, reject) => {\n            // ResourcesManager.instance.loadRes(QUIZGAMERED, `spine/${spineName}`, ResourceType.Normal, sp.SkeletonData, (err, res: sp.SkeletonData) => {\n            //     if (err) {\n            //         cc.error(err);\n            //         resolve();\n            //         return\n            //     }\n            //     this.eleSpine.skeletonData = res;\n\n            // });\n            switch (spineName) {\n                case SpineType.ce:\n                    this.eleSpine.skeletonData = this.tuzice\n                    break;\n                case SpineType.zheng:\n                    this.eleSpine.skeletonData = this.tuzizheng\n                    break;\n                case SpineType.bei:\n                    this.eleSpine.skeletonData = this.tuzibei\n                    break;\n            }\n            resolve();\n        })\n    }\n\n    move2TargetPos(time = 1, pos) {\n        return new Promise<void>((resolve, reject) => {\n            cc.tween(this.eleSpine.node).to(time, {\n                position: pos\n            }\n            )\n                .call(() => {\n                    resolve()\n                })\n                .start();\n        })\n    }\n\n    itemTouchCall(event: cc.Event.EventTouch, data) {\n        this.unschedule(this.guidFun);\n        let target: cc.Node = event.currentTarget;\n        this.selectTargetNode = target;\n        let worldPos = target.parent.convertToWorldSpaceAR(target.position);\n        this.targetPos1 = this.node.convertToNodeSpaceAR(worldPos);\n\n        let n = Number(data);\n        this.selectCorrect = (0 == n);\n        console.log(\" ====this.selectCorrect: \", this.selectCorrect, \" n: \", n);\n\n        if (0 == n) {\n            AudioManager.playEffect(QUIZGAMERED, \"audios/game_right\")\n            //选择正确\n            this.roundStateTypeChanged(RoundStateType.RoundComplete, { win: 1 })\n        }\n        else {\n            AudioManager.playEffect(QUIZGAMERED, \"audios/game_error\")\n            //选择错误\n            this.roundStateTypeChanged(RoundStateType.RoundComplete, { win: 0 })\n        }\n\n        //jinyong\n        this.roundNodeArr[this.curRoundIndex].children.map((node) => {\n            let btn = node.getComponent(cc.Button);\n            btn && (btn.interactable = false);\n        });\n\n        // \n        let nodeArr = this.roundNodeArr[this.curRoundIndex].children\n        nodeArr.map((node) => {\n            if (node != target) {\n                node.active = false\n            }\n        })\n    }\n\n    playWalkSound(play: boolean = true) {\n        if (play) {\n            AudioManager.playLoopEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian01);\n        } else {\n            AudioManager.stopLoopEffect(QUIZGAMERED, QuizRedSoundConfig.SE_shoushifangjian01);\n        }\n    }\n\n\n\n}\n\n\n"],"file":"index.js"}