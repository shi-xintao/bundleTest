{"version":3,"sources":["assets/bundles_en/hippo/script/Hippo.ts","assets/bundles_en/hippo/script/state/focusBoyState.ts","assets/bundles_en/hippo/script/state/focusZebraState.ts","assets/bundles_en/hippo/script/guideManager.ts","assets/bundles_en/hippo/script/state/guideState.ts","assets/bundles_en/hippo/script/state/state1.ts","assets/bundles_en/hippo/script/state/state2.ts","assets/bundles_en/hippo/script/state/state3.ts","assets/bundles_en/hippo/script/state/state4.ts","assets/bundles_en/hippo/script/state/state5.ts","assets/bundles_en/hippo/script/utils.ts"],"names":["StateMachine_1","require","TimerSystem_1","notifierCenter_1","guideManager_1","focusBoyState_1","state1_1","_a","cc","_decorator","ccclass","property","Hippo","_super","__extends","_this","apply","this","arguments","mainCamera","boy","pop","girl","tap","hippos","monkeys","zebras","stages","bgs","points","completeNode","screenScale","isLock","prototype","onLoad","screenSize","Canvas","instance","designResolution","node","scale","height","window","webframe","Notify","default","console","log","Camera","main","x","init","active","forEach","element","opacity","start","stateMachine","ChangeState","AddGlobalState","update","dt","Update","__decorate","sp","Skeleton","Node","Component","exports","FocusBoyState","left","onMessage","entity","telegram","Error","enter","data","sc","execute","exit","FocusZebraState","offX","moved","tween","to","call","AudioManager_1","GuideManager","Object","defineProperty","get","_instance","showGuide","y","delay","timerKey","clearTimeout","warn","setTimeout","playEffect","hideGuide","GuideState","clearInterval","state2_1","State1","doOnce","setAnimation","setPosition","position","utils_1","state3_1","State2","targetY","tapIndex","parent","children","hippo","on","callback","event","stopEffect","target","index","parseInt","name","substr","targetHippos_1","nextHippos","move2Middle","p","jump2Target","state4_1","State3","monkey","setCompleteListener","toNextPosition","onComplete","step","setEndListener","m1","m2","focusZebraState_1","state5_1","State4","p1","p0","p2","p3","bgWidth","speed1","speed0","sceneSpeed","startP","outTime","bg1","bg2","bg3","bg4","showTap","RemoveGlobalState","isRun","dis","off","getChildByName","getComponent","currentZebra","nextZebra","playLoopEffect","showNext","changeNext","goNextState","temp","targetNode","zebraOut","State5","isComplete","endPoint","stopLoopEffect","trigger","middleX","middleY"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IACA,IAAAA,iBAAAC,QAAA;IACA,IAAAC,gBAAAD,QAAA;IACA,IAAAE,mBAAAF,QAAA;IACA,IAAAG,iBAAAH,QAAA;IACA,IAAAI,kBAAAJ,QAAA;IACA,IAAAK,WAAAL,QAAA;IAMM,IAAAM,KAAAC,GAAAC,YAAAC,UAAAH,GAAAG,SAAAC,WAAAJ,GAAAI;IAGN,IAAAC,QAAA,SAAAC;MAAmCC,UAAAF,OAAAC;MAAnC,SAAAD;QAAA,IAAAG,QAAA,SAAAF,UAAAA,OAAAG,MAAAC,MAAAC,cAAAD;QAKWF,MAAAI,aAAA;QAGAJ,MAAAK,MAAA;QAGAL,MAAAM,MAAA;QAGAN,MAAAO,OAAA;QAGAP,MAAAQ,MAAA;QAGAR,MAAAS,SAAA;QAGAT,MAAAU,UAAA;QAGAV,MAAAW,SAAA;QAGAX,MAAAY,SAAA;QAGAZ,MAAAa,MAAA;QAGAb,MAAAc,SAAA;QAGAd,MAAAe,eAAA;QAEAf,MAAAgB,cAAA;QACAhB,MAAAiB,SAAA;;;MAEApB,MAAAqB,UAAAC,SAAA;QACH,IAAAC,aAAA3B,GAAA4B,OAAAC,SAAAC;QACArB,KAAAsB,KAAAC,QAAAL,WAAAM,SAAAxB,KAAAsB,KAAAE;QACAxB,KAAAc,cAAAd,KAAAsB,KAAAC;QACAvB,KAAAa,aAAAU,QAAAvB,KAAAsB,KAAAE,SAAAN,WAAAM;QAEAC,OAAAC,WAAA;QACAD,OAAAC,SAAAC,SAAA,IAAAzC,iBAAA0C;QACAC,QAAAC,IAAA;QAEA9B,KAAAE,aAAAX,GAAAwC,OAAAC;QACA,MAAAhC,KAAAsB,KAAAC,QACIvB,KAAAE,WAAAoB,KAAAW,IAAAjC,KAAAW,IAAA,GAAAsB,IAAA,MAEAjC,KAAAE,WAAAoB,KAAAW,IAAAjC,KAAAW,IAAA,GAAAsB,IAAAjC,KAAAsB,KAAAC;QAEJtC,cAAA2C,QAAAR,SAAAc;QACAlC,KAAAa,aAAAsB,SAAA;QACAnC,KAAAU,OAAA,GAAAyB,SAAA;QACAnC,KAAAU,OAAA,GAAAyB,SAAA;QACAnC,KAAAU,OAAA,GAAAyB,SAAA;QACAnC,KAAAU,OAAA,GAAAyB,SAAA;QACAnC,KAAAU,OAAA,GAAAyB,SAAA;QACAnC,KAAAK,KAAAiB,KAAAa,SAAA;QACAnC,KAAAY,OAAAwB,QAAA,SAAAC;UACIA,QAAAC,UAAA;;QAEJnD,eAAAyC,QAAAR,SAAAc,KAAAlC,KAAAM,IAAAgB;;MAGG3B,MAAAqB,UAAAuB,QAAA;QACHvC,KAAAwC,eAAA,IAAAzD,eAAA6C,QAAA5B;QACAA,KAAAwC,aAAAC,YAAApD,SAAAuC;QACA5B,KAAAwC,aAAAE,eAAAtD,gBAAAwC;;MAMGjC,MAAAqB,UAAA2B,SAAA,SAAAC;QACH5C,KAAAwC,gBACIxC,KAAAwC,aAAAK,OAAAD;;MA/ERE,WAAA,EADCpD,SAAAH,GAAAwC,WACmCpC,MAAAqB,WAAA,mBAAA;MAGpC8B,WAAA,EADCpD,SAAAqD,GAAAC,aAC8BrD,MAAAqB,WAAA,YAAA;MAG/B8B,WAAA,EADCpD,SAAAqD,GAAAC,aAC8BrD,MAAAqB,WAAA,YAAA;MAG/B8B,WAAA,EADCpD,SAAAqD,GAAAC,aAC+BrD,MAAAqB,WAAA,aAAA;MAGhC8B,WAAA,EADCpD,SAAAqD,GAAAC,aAC8BrD,MAAAqB,WAAA,YAAA;MAG/B8B,WAAA,EADCpD,SAAA,EAAAqD,GAAAC,eACiCrD,MAAAqB,WAAA,eAAA;MAGlC8B,WAAA,EADCpD,SAAA,EAAAqD,GAAAC,eACkCrD,MAAAqB,WAAA,gBAAA;MAGnC8B,WAAA,EADCpD,SAAA,EAAAqD,GAAAC,eACiCrD,MAAAqB,WAAA,eAAA;MAGlC8B,WAAA,EADCpD,SAAA,EAAAH,GAAA0D,WAC6BtD,MAAAqB,WAAA,eAAA;MAG9B8B,WAAA,EADCpD,SAAA,EAAAH,GAAA0D,WAC0BtD,MAAAqB,WAAA,YAAA;MAG3B8B,WAAA,EADCpD,SAAA,EAAAH,GAAA0D,WAC6BtD,MAAAqB,WAAA,eAAA;MAG9B8B,WAAA,EADCpD,SAAAH,GAAA0D,SACmCtD,MAAAqB,WAAA,qBAAA;MAtCnBrB,QAAAmD,WAAA,EADpBrD,WACoBE;MAuFrB,OAAAA;KAvFA,CAAAJ,GAAA2D;IAAqBC,QAAAvB,UAAAjC;;;;;;;;;;;;;;;;;ICPrB,IAAAyD,gBAAA;MAAA,SAAAA;QAGYpD,KAAAqD,QAAA;;MAEDD,cAAApC,UAAAsC,YAAA,SAAAC,QAAAC;QACH,MAAA,IAAAC,MAAA;;MAEGL,cAAApC,UAAA0C,QAAA,SAAAC;QACH,IAAAzC,aAAA3B,GAAA4B,OAAAC,SAAAC;QACArB,KAAA4D,KAAA1C,WAAAM,SAAAxB,KAAAuD,OAAAjC,KAAAE;;MAEG4B,cAAApC,UAAA6C,UAAA,SAAAF;QACH3D,KAAAuD,OAAArD,WAAAoB,KAAAW,IAAAjC,KAAAuD,OAAApD,IAAAmB,KAAAW,IAAAjC,KAAA4D;QACA5D,KAAAuD,OAAArD,WAAAoB,KAAAW,IAAAjC,KAAAqD,OAAArD,KAAA4D,OACI5D,KAAAuD,OAAArD,WAAAoB,KAAAW,IAAAjC,KAAAqD,OAAArD,KAAA4D;;MAGDR,cAAApC,UAAA8C,OAAA,SAAAH;MAGX,OAAAP;KArBA;;;;;;;;;;;ICAA,IAAAW,kBAAA;MAAA,SAAAA;QAGY/D,KAAAqD,QAAA;QACArD,KAAAgE,OAAA;QACAhE,KAAAiE,QAAA;;MAEDF,gBAAA/C,UAAAsC,YAAA,SAAAC,QAAAC;QACH,MAAA,IAAAC,MAAA;;MAEGM,gBAAA/C,UAAA0C,QAAA,SAAAC;QAAP,IAAA7D,QAAAE;QACI,IAAAkB,aAAA3B,GAAA4B,OAAAC,SAAAC;QACArB,KAAA4D,KAAA1C,WAAAM,SAAAxB,KAAAuD,OAAAjC,KAAAE;QACAjC,GAAA2E,MAAAlE,KAAAuD,OAAArD,WAAAoB,MAAA6C,GAAA,GAAA;UAAAlC,GAAAjC,KAAAuD,OAAApD,IAAAmB,KAAAW,IAAAjC,KAAA4D,KAAA5D,KAAAgE;WAAAI,KAAA;UACItE,MAAAmE,QAAA;WACJ1B;;MAEGwB,gBAAA/C,UAAA6C,UAAA,SAAAF;QACH,IAAA3D,KAAAiE,OAAA;UACIjE,KAAAuD,OAAArD,WAAAoB,KAAAW,IAAAjC,KAAAuD,OAAApD,IAAAmB,KAAAW,IAAAjC,KAAA4D,KAAA5D,KAAAgE;UACAhE,KAAAuD,OAAArD,WAAAoB,KAAAW,IAAAjC,KAAAqD,OAAArD,KAAA4D,OACI5D,KAAAuD,OAAArD,WAAAoB,KAAAW,IAAAjC,KAAAqD,OAAArD,KAAA4D;;;MAILG,gBAAA/C,UAAA8C,OAAA,SAAAH;MAGX,OAAAI;KA5BA;;;;;;;;;;;ICRA,IAAAM,iBAAArF,QAAA;IAIA,IAAAsF,eAAA;MAAA,SAAAA;MAKIC,OAAAC,eAAAF,cAAA,YAAA;QAAAG,KAAA;UACI,QAAAH,aAAAI,cACIJ,aAAAI,YAAA,IAAAJ;UAEJ,OAAAA,aAAAI;;;;;MAGGJ,aAAAtD,UAAAkB,OAAA,SAAA5B;QACHN,KAAAM,MAAAA;;MAGGgE,aAAAtD,UAAA2D,YAAA,SAAA1C,GAAA2C,GAAAC;QAAP,IAAA/E,QAAAE;aAAuC,MAAA6E,UAAAA,QAAA;QACnC,IAAA7E,KAAA8E,UAAA;UACIC,aAAA/E,KAAA8E;UACAvF,GAAAyF,KAAA;;QAEJhF,KAAA8E,WAAAG,WAAA;UACIZ,eAAAzC,QAAAsD,WAAA,SAAA;UACApF,MAAAQ,IAAA6B,SAAA;UACArC,MAAAQ,IAAA2B,IAAAA;UACAnC,MAAAQ,IAAAsE,IAAAA;WACJC;;MAGGP,aAAAtD,UAAAmE,YAAA;QACH,IAAAnF,KAAA8E,UAAA;UACIC,aAAA/E,KAAA8E;UACA9E,KAAA8E,WAAA;;QAEJ9E,KAAAM,IAAA6B,SAAA;;MAER,OAAAmC;KApCA;;;;;;;;;;;;;ICIA,IAAAc,aAAA;MAAA,SAAAA;MAIWA,WAAApE,UAAAsC,YAAA,SAAAC,QAAAC;QACH,MAAA,IAAAC,MAAA;;MAEG2B,WAAApE,UAAA0C,QAAA,SAAAC;MAEAyB,WAAApE,UAAA6C,UAAA,SAAAF;MAEAyB,WAAApE,UAAA8C,OAAA,SAAAH;QACH0B,cAAArF,KAAA8E;;MAGR,OAAAM;KAfA;;;;;;;;;;;ICRA,IAAAf,iBAAArF,QAAA;IAIA,IAAAC,gBAAAD,QAAA;IAEA,IAAAsG,WAAAtG,QAAA;IAKA,IAAAuG,SAAA;MAAA,SAAAA;MAEWA,OAAAvE,UAAAsC,YAAA,SAAAC,QAAAC;QACH,MAAA,IAAAC,MAAA;;MAEG8B,OAAAvE,UAAA0C,QAAA,SAAAC;QAAP,IAAA7D,QAAAE;QACIA,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAuD,OAAAnD,IAAAkB,KAAAa,SAAA;QACAnC,KAAAuD,OAAAjD,IAAAgB,KAAAa,SAAA;QAEAlD,cAAA2C,QAAAR,SAAAoE,OAAA,KAAA;UACI1F,MAAAyD,OAAApD,IAAAsF,aAAA,GAAA,UAAA;;QAEJxG,cAAA2C,QAAAR,SAAAoE,OAAA,KAAA;UACI1F,MAAAyD,OAAAnD,IAAAkB,KAAAa,SAAA;;QAEJlD,cAAA2C,QAAAR,SAAAoE,OAAA,MAAA;UACInB,eAAAzC,QAAAsD,WAAA,SAAA;;QAEJjG,cAAA2C,QAAAR,SAAAoE,OAAA,KAAA;UACI1F,MAAAyD,OAAAjD,IAAAgB,KAAAa,SAAA;UACArC,MAAAyD,OAAAjD,IAAAgB,KAAAoE,YAAA5F,MAAAyD,OAAAhD,OAAA,GAAAe,KAAAqE;UACA7F,MAAAyD,OAAApD,IAAAsF,aAAA,GAAA,QAAA;UACApB,eAAAzC,QAAAsD,WAAA,SAAA;;QAGJjG,cAAA2C,QAAAR,SAAAoE,OAAA,MAAA;UACI1F,MAAAyD,OAAAnD,IAAAkB,KAAAa,SAAA;UACArC,MAAAyD,OAAAjD,IAAAgB,KAAAa,SAAA;UACArC,MAAAyD,OAAAf,aAAAC,YAAA6C,SAAA1D;;;MAID2D,OAAAvE,UAAA6C,UAAA,SAAAF;MAIA4B,OAAAvE,UAAA8C,OAAA,SAAAH;MAGX,OAAA4B;KA1CA;;;;;;;;;;;;;;;ICXA,IAAAlB,iBAAArF,QAAA;IAKA,IAAAG,iBAAAH,QAAA;IAEA,IAAA4G,UAAA5G,QAAA;IACA,IAAAI,kBAAAJ,QAAA;IACA,IAAA6G,WAAA7G,QAAA;IAKA,IAAA8G,SAAA;MAAA,SAAAA;QAIY9F,KAAA+F,WAAA;;MAEDD,OAAA9E,UAAAsC,YAAA,SAAAC,QAAAC;QACH,MAAA,IAAAC,MAAA;;MAEGqC,OAAA9E,UAAA0C,QAAA,SAAAC;QAAP,IAAA7D,QAAAE;QACIA,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAgG,WAAA;QAOA7G,eAAAyC,QAAAR,SAAAuD,UAAA3E,KAAAuD,OAAAhD,OAAA,GAAAe,KAAA2E,OAAAN,SAAA1D,IAAA,IAAAjC,KAAAuD,OAAAhD,OAAA,GAAAe,KAAA2E,OAAAN,SAAAf,IAAA,IAAA;QAEA5E,KAAAuD,OAAA7C,OAAA,GAAAwF,SAAA9D,QAAA,SAAA+D;UACIA,MAAAC,GAAA,SAAAtG,MAAAuG,UAAAvG;;QAGJE,KAAAuD,OAAAf,aAAAE,eAAAtD,gBAAAwC;;MAEGkE,OAAA9E,UAAA6C,UAAA,SAAAF;MAGAmC,OAAA9E,UAAA8C,OAAA,SAAAH;QACH3D,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;;MAMI2D,OAAA9E,UAAAqF,WAAA,SAAAC;QAAR,IAAAxG,QAAAE;QACIqE,eAAAzC,QAAA2E;QACAlC,eAAAzC,QAAAsD,WAAA,SAAA;QACA,IAAAsB,SAAAF,MAAAE;QACA,IAAAC,QAAAC,SAAAF,OAAAG,KAAAC,OAAA;QACA,KAAA5G,KAAAuD,OAAAxC,QACI,IAAAf,KAAAgG,aAAAS,OAAA;UACIzG,KAAAuD,OAAAxC,SAAA;UACA,IAAA8F,iBAAA7G,KAAAuD,OAAAhD,OAAAP,KAAAgG,WAAA;UACA,IAAAc,aAAA9G,KAAAuD,OAAAhD,OAAAP,KAAAgG;UAEA,QAAAS;WACI,KAAA;YACIzG,KAAAuD,OAAAjD,IAAAgB,KAAAa,SAAA;YACAnC,KAAA+G,YAAAF,gBAAA;cACIA,eAAApB,aAAA,GAAA,SAAA;cACA,IAAAuB,IAAAR,OAAAb;cACAqB,EAAApC,IAAA4B,OAAAb,SAAAf,IAAA;cACAoC,EAAA/E,IAAAuE,OAAAb,SAAA1D,IAAA;cACA2D,QAAAqB,YAAAnH,MAAAyD,OAAApD,KAAA6G,GAAA;gBACI3C,eAAAzC,QAAAsD,WAAA,SAAA;gBACApF,MAAAyD,OAAAxC,SAAA;;;YAGR5B,eAAAyC,QAAAR,SAAAuD,UAAAmC,WAAAxF,KAAA2E,OAAAhE,IAAA,IAAA6E,WAAAxF,KAAA2E,OAAArB,IAAA;YACA;;WACJ,KAAA;WAcA,KAAA;YACIzF,eAAAyC,QAAAR,SAAA+D;YACAnF,KAAA+G,YAAAF,gBAAA;cACIA,eAAApB,aAAA,GAAA,SAAA;cACA,IAAAuB,IAAAR,OAAAb;cACAqB,EAAApC,IAAA4B,OAAAb,SAAAf,IAAA;cACAoC,EAAA/E,IAAAuE,OAAAb,SAAA1D,IAAA;cACA2D,QAAAqB,YAAAnH,MAAAyD,OAAApD,KAAA6G,GAAA;gBACI3C,eAAAzC,QAAAsD,WAAA,SAAA;gBACApF,MAAAyD,OAAAxC,SAAA;;;YAGR5B,eAAAyC,QAAAR,SAAAuD,UAAAmC,WAAAxF,KAAA2E,OAAAhE,IAAA,IAAA6E,WAAAxF,KAAA2E,OAAArB,IAAA;YACA;;WACJ,KAAA;YACIzF,eAAAyC,QAAAR,SAAA+D;YACA0B,eAAApB,aAAA,GAAA,SAAA;YACA,IAAAuB,IAAAR,OAAAb;YACAqB,EAAApC,IAAA4B,OAAAb,SAAAf,IAAA;YACAoC,EAAA/E,IAAAuE,OAAAb,SAAA1D,IAAA;YACA2D,QAAAqB,YAAAjH,KAAAuD,OAAApD,KAAA6G,GAAA;cACI3C,eAAAzC,QAAAsD,WAAA,SAAA;cACA/F,eAAAyC,QAAAR,SAAA+D;cACArF,MAAAyD,OAAAxC,SAAA;cAKA5B,eAAAyC,QAAAR,SAAAuD,UAAA7E,MAAAyD,OAAA/C,QAAA,GAAAc,KAAA2E,OAAAN,SAAA1D,IAAA,IAAAnC,MAAAyD,OAAA/C,QAAA,GAAAc,KAAA2E,OAAAN,SAAAf,IAAA,KAAA;;YAEJ5E,KAAAuD,OAAAf,aAAAC,YAAAoD,SAAAjE;;UAGR5B,KAAAgG,YAAA;eAEAhG,KAAAuD,OAAAhD,OAAAkG,QAAA,GAAAhB,aAAA,GAAA,WAAA;;MAKJK,OAAA9E,UAAA+F,cAAA,SAAAP,QAAAH;QACJ9G,GAAA2E,MAAAsC,OAAAlF,KAAA2E,QAAA9B,GAAA,GAAA;UAAAS,GAAA5E,KAAA+F;WAAA3B,KAAA;UACIiC,YACIA;WAER9D;;MAGR,OAAAuD;KA9HA;;;;;;;;;;;;;;;;;ICdA,IAAAzB,iBAAArF,QAAA;IAIA,IAAAG,iBAAAH,QAAA;IAEA,IAAAkI,WAAAlI,QAAA;IAKA,IAAAmI,SAAA;MAAA,SAAAA;MAIWA,OAAAnG,UAAAsC,YAAA,SAAAC,QAAAC;QACH,MAAA,IAAAC,MAAA;;MAEG0D,OAAAnG,UAAA0C,QAAA,SAAAC;QAAP,IAAA7D,QAAAE;QACIA,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAgG,WAAA;QAEAhG,KAAAuD,OAAA7C,OAAA,GAAAwF,SAAA9D,QAAA,SAAAgF;UACIA,OAAAhB,GAAA,SAAAtG,MAAAuG,UAAAvG;;;MAGDqH,OAAAnG,UAAA6C,UAAA,SAAAF;MAGAwD,OAAAnG,UAAA8C,OAAA,SAAAH;QACH3D,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;;MAKIgF,OAAAnG,UAAAqF,WAAA,SAAAC;QAAR,IAAAxG,QAAAE;QACIqE,eAAAzC,QAAA2E;QACAlC,eAAAzC,QAAAsD,WAAA,SAAA;QACA,IAAAsB,SAAAF,MAAAE;QACA,IAAAC,QAAAC,SAAAF,OAAAG,KAAAC,OAAA;QACArH,GAAAuC,IAAA,UAAA2E;QACA,IAAAA,UAAAzG,KAAAgG,WAAA,GACI;QAEJ,KAAAhG,KAAAuD,OAAAxC,QACI,IAAAf,KAAAgG,aAAAS,OAAA;UACIzG,KAAAuD,OAAAxC,SAAA;UACAf,KAAAgG,YAAA;UACA,QAAAS;WACI,KAAA;YAEIxB,WAAA;cACInF,MAAAyD,OAAApD,IAAAmB,KAAAgB,UAAA;eACJ;YACAtC,KAAAuD,OAAApD,IAAAmB,KAAAgB,UAAA;YACAtC,KAAAuD,OAAA/C,QAAA,GAAAiF,aAAA,GAAA,YAAA;YACAzF,KAAAuD,OAAA/C,QAAA,GAAA6G,oBAAA;cACIvH,MAAAyD,OAAAxC,SAAA;cACAjB,MAAAyD,OAAA/C,QAAA,GAAA6G,oBAAA;cACAvH,MAAAyD,OAAA/C,QAAA,GAAAiF,aAAA,GAAA,SAAA;cACA3F,MAAAwH,eAAAxH,MAAAyD,OAAA/C,QAAA,GAAAc,KAAA2E,OAAAN;;YAEJ3F,KAAAuD,OAAAjD,IAAAgB,KAAAa,SAAA;YACAhD,eAAAyC,QAAAR,SAAAuD,UAAA3E,KAAAuD,OAAA/C,QAAA,GAAAc,KAAA2E,OAAAhE,IAAA,IAAAjC,KAAAuD,OAAA/C,QAAA,GAAAc,KAAA2E,OAAArB,IAAA;YACA;;WACJ,KAAA;YACIzF,eAAAyC,QAAAR,SAAA+D;YACAnF,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;YACAnC,KAAAuD,OAAA/C,QAAA,GAAAiF,aAAA,GAAA,SAAA;YACAzF,KAAAsH,eAAAtH,KAAAuD,OAAA/C,QAAA,GAAAc,KAAA2E,OAAAN;YACA3F,KAAAuD,OAAA/C,QAAA,GAAA6G,oBAAA;cACIvH,MAAAyD,OAAA/C,QAAA,GAAA6G,oBAAA;cACAvH,MAAAyD,OAAA/C,QAAA,GAAA6G,oBAAA;cACAvH,MAAAyD,OAAA/C,QAAA,GAAAiF,aAAA,GAAA,SAAA;cACA3F,MAAAyD,OAAApD,IAAAmB,KAAAgB,UAAA;cACAxC,MAAAyD,OAAA/C,QAAA,GAAAiF,aAAA,GAAA,YAAA;cACA3F,MAAAyD,OAAA/C,QAAA,GAAA6G,oBAAA;gBACIvH,MAAAyD,OAAA/C,QAAA,GAAA6G,oBAAA;gBACAvH,MAAAyD,OAAA/C,QAAA,GAAAiF,aAAA,GAAA,SAAA;gBACA3F,MAAAwH,eAAAxH,MAAAyD,OAAA3C,OAAA,GAAA+E,UAAA;kBACI7F,MAAAyH;;gBAEJzH,MAAAyD,OAAA/C,QAAA,GAAA6G,oBAAA;kBACIvH,MAAAyD,OAAAxC,SAAA;kBACAjB,MAAAyD,OAAApD,IAAAmB,KAAAgB,UAAA;kBACAxC,MAAAyD,OAAApD,IAAAsF,aAAA,GAAA,QAAA;kBACA3F,MAAAyD,OAAA/C,QAAA,GAAAiF,aAAA,GAAA,SAAA;kBACA3F,MAAAyD,OAAA/C,QAAA,GAAA6G,oBAAA;;;;YAIZ;;WACJ;YACIhD,eAAAzC,QAAAsD,WAAA,SAAA;YACA/F,eAAAyC,QAAAR,SAAA+D;YACAnF,KAAAwH,KAAAxH,KAAAuD,OAAA/C,QAAAiG,QAAA,IAAAzG,KAAAuD,OAAA/C,QAAAiG,QAAA,IAAA;cACI3G,MAAAyD,OAAAxC,SAAA;;YAEJ5B,eAAAyC,QAAAR,SAAAuD,UAAA3E,KAAAuD,OAAA/C,QAAAiG,OAAAnF,KAAA2E,OAAAhE,IAAA,IAAAjC,KAAAuD,OAAA/C,QAAAiG,OAAAnF,KAAA2E,OAAArB,IAAA;;eAGL;UACH5E,KAAAuD,OAAA/C,QAAAiG,QAAA,GAAAhB,aAAA,GAAA,UAAA;UACAzF,KAAAuD,OAAA/C,QAAAiG,QAAA,GAAAY,oBAAA;YAEIvH,MAAAyD,OAAA/C,QAAAiG,QAAA,GAAAgB,eAAA;YACA3H,MAAAyD,OAAA/C,QAAAiG,QAAA,GAAAhB,aAAA,GAAA,SAAA;;;;MAKR0B,OAAAnG,UAAAuG,aAAA;QACJvH,KAAAuD,OAAAf,aAAAC,YAAAyE,SAAAtF;;MAGIuF,OAAAnG,UAAAwG,OAAA,SAAAE,IAAAC,IAAAtB;QAAR,IAAAvG,QAAAE;QACI0H,GAAAjC,aAAA,GAAA,SAAA;QACAzF,KAAAsH,eAAAK,GAAArG,KAAA2E,OAAAN;QACA+B,GAAAL,oBAAA;UACIK,GAAAL,oBAAA;UACAK,GAAAD,eAAA;UACAC,GAAAjC,aAAA,GAAA,SAAA;UACA3F,MAAAyD,OAAApD,IAAAmB,KAAAgB,UAAA;UACAqF,GAAAlC,aAAA,GAAA,YAAA;UACAkC,GAAAN,oBAAA;YACIM,GAAAN,oBAAA;YACAM,GAAAlC,aAAA,GAAA,SAAA;YACAY,YACIA;;;;MAKRc,OAAAnG,UAAAsG,iBAAA,SAAAd,QAAAH;QAAR,IAAAvG,QAAAE;QACIT,GAAA2E,MAAAlE,KAAAuD,OAAApD,IAAAmB,MAAA6C,GAAA,IAAA;UAAAlC,GAAAuE,OAAAvE,IAAA;UAAA2C,GAAA4B,OAAA5B,IAAA;WAAAR,KAAA;UACIiC,YACIA,SAAAtG,MAAAD;WAERyC;;MAER,OAAA4E;KAlIA;;;;;;;;;;;;;;;ICXA,IAAA9C,iBAAArF,QAAA;IAIA,IAAAC,gBAAAD,QAAA;IACA,IAAAG,iBAAAH,QAAA;IAEA,IAAA4G,UAAA5G,QAAA;IACA,IAAAI,kBAAAJ,QAAA;IACA,IAAA4I,oBAAA5I,QAAA;IACA,IAAA6I,WAAA7I,QAAA;IAKA,IAAA8I,SAAA;MAAA,SAAAA;QAUY9H,KAAA+H,KAAA;QACA/H,KAAAgI,KAAA;QACAhI,KAAAiI,KAAA;QACAjI,KAAAkI,KAAA;QACAlI,KAAAmI,UAAA;QACAnI,KAAAoI,SAAA;QACApI,KAAAqI,SAAA;QACArI,KAAAsI,aAAAtI,KAAAqI;QACArI,KAAAuI,SAAAvI,KAAA+H,KAAA;QACA/H,KAAAwI,UAAA;;MAEDV,OAAA9G,UAAAsC,YAAA,SAAAC,QAAAC;QACH,MAAA,IAAAC,MAAA;;MAEGqE,OAAA9G,UAAA0C,QAAA,SAAAC;QAAP,IAAA7D,QAAAE;QACIA,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QAEAnC,KAAAgG,WAAA;QACAhG,KAAAuD,OAAA7C,OAAA,GAAAwF,SAAA9D,QAAA,SAAAgF;UACIA,OAAAhB,GAAA,SAAAtG,MAAAuG,UAAAvG;;QAEJE,KAAAyI,MAAAzI,KAAAuD,OAAA5C,IAAA;QACAX,KAAA0I,MAAA1I,KAAAuD,OAAA5C,IAAA;QACAX,KAAA2I,MAAA3I,KAAAuD,OAAA5C,IAAA;QACAX,KAAA4I,MAAA5I,KAAAuD,OAAA5C,IAAA;QAEAX,KAAA6I,QAAA7I,KAAAuD,OAAA9C,OAAA,GAAAa,KAAA2E;QAEAjG,KAAAuD,OAAA9C,OAAA,GAAAa,KAAA2E,OAAAhE,IAAAjC,KAAAkI;QAEAlI,KAAAuD,OAAAf,aAAAsG,kBAAA1J,gBAAAwC;QACA5B,KAAAuD,OAAAf,aAAAE,eAAAkF,kBAAAhG;;MAEGkG,OAAA9G,UAAA6C,UAAA,SAAAjB;QACH,IAAA5C,KAAA+I,OAAA;UACI,IAAAC,MAAAhJ,KAAAsI,aAAA1F;UACA5C,KAAAyI,IAAAxG,KAAA+G;UACAhJ,KAAA0I,IAAAzG,KAAA+G;UACAhJ,KAAA2I,IAAA1G,KAAA+G;UACAhJ,KAAA4I,IAAA3G,KAAA+G;UACA,IAAAhJ,KAAAyI,IAAAxG,KAAAjC,KAAAmI,UAAAnI,KAAAuI,QAAA;YACIvI,KAAAyI,IAAAxG,KAAAjC,KAAAmI;YACAnI,KAAA0I,IAAAzG,KAAAjC,KAAAmI;YACAnI,KAAA2I,IAAA1G,KAAAjC,KAAAmI;YACAnI,KAAA4I,IAAA3G,KAAAjC,KAAAmI;;;;MAILL,OAAA9G,UAAA8C,OAAA,SAAAH;QAAP,IAAA7D,QAAAE;QACIA,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAuD,OAAA7C,OAAA,GAAAwF,SAAA9D,QAAA,SAAAgF;UACIA,OAAA6B,IAAA,SAAAnJ,MAAAuG,UAAAvG;;QAEJ,IAAAE,KAAAyI,IAAAxG,IAAA,GAAA;UACIjC,KAAAyI,IAAAxG,KAAAjC,KAAAmI;UACAnI,KAAA0I,IAAAzG,KAAAjC,KAAAmI;UACAnI,KAAA2I,IAAA1G,KAAAjC,KAAAmI;UACAnI,KAAA4I,IAAA3G,KAAAjC,KAAAmI;;QAEJ5I,GAAAuC,IAAA,cAAA9B,KAAAyI,IAAAxG;;MAEI6F,OAAA9G,UAAAqF,WAAA,SAAAC;QAAR,IAAAxG,QAAAE;QACIqE,eAAAzC,QAAA2E;QACA,IAAAC,SAAAF,MAAAE;QACA,IAAAC,QAAAC,SAAAF,OAAAG,KAAAC,OAAA;QACArH,GAAAuC,IAAA,mBAAA9B,KAAAgG;QACA3B,eAAAzC,QAAAsD,WAAA,SAAA;QACA,KAAAlF,KAAAuD,OAAAxC,QAAA;UACI,IAAAuF,MAAAE,OAAA0C,eAAA,SAAAC,aAAA,kBAAAnJ,KAAAoJ,cACI;UAEJ,IAAApJ,KAAAgG,YAAA,GAAA;YACIhG,KAAAuD,OAAAxC,SAAA;YACA,QAAAf,KAAAgG;aACI,KAAA;cACI7G,eAAAyC,QAAAR,SAAA+D;cACAnF,KAAAoJ,eAAApJ,KAAAuD,OAAA9C,OAAA;cACAT,KAAAqJ,YAAArJ,KAAAuD,OAAA9C,OAAA;cACAmF,QAAAqB,YAAAjH,KAAAuD,OAAApD,KAAAH,KAAAoJ,aAAA9H,KAAA2E,OAAAN,UAAA;gBACItB,eAAAzC,QAAA0H,eAAA,SAAA;gBACAxJ,MAAAyD,OAAApD,IAAAmB,KAAAgB,UAAA;gBACA/C,GAAA2E,MAAApE,MAAAyD,OAAApD,IAAAmB,MAAA6C,GAAA,KAAA;kBAAAlC,GAAAnC,MAAAiI;mBAAAxF;gBACAzC,MAAAyD,OAAA9C,OAAA,GAAAgF,aAAA,GAAA,QAAA;gBACAlG,GAAA2E,MAAApE,MAAAsJ,aAAA9H,KAAA2E,QAAA9B,GAAArE,MAAA0I,SAAA;kBAAAvG,GAAAnC,MAAAiI;mBAAA3D,KAAA;kBACItE,MAAAyJ,SAAA;oBACIzJ,MAAA+I,QAAA/I,MAAAyD,OAAA9C,OAAA,GAAAa,KAAA2E;;kBAEJnG,MAAAyD,OAAAf,aAAAsG,kBAAAlB,kBAAAhG;kBACA9B,MAAAiJ,QAAA;mBACJxG;;cAEJ;;aACJ,KAAA;cACIvC,KAAAuD,OAAAjD,IAAAgB,KAAAa,SAAA;cACAnC,KAAAuD,OAAApD,IAAAmB,KAAAgB,UAAA;cACAtC,KAAAoJ,aAAA3D,aAAA,GAAA,QAAA;cACAG,QAAAqB,YAAAjH,KAAAuD,OAAApD,KAAAH,KAAAqJ,UAAA/H,KAAA2E,OAAAN,UAAA;gBACI7F,MAAAyD,OAAApD,IAAAmB,KAAAgB,UAAA;gBACAxC,MAAAuJ,UAAA5D,aAAA,GAAA,QAAA;gBACA3F,MAAAuJ,UAAAhC,oBAAA;kBACIvH,MAAAuJ,UAAAhC,oBAAA;kBACA9H,GAAA2E,MAAApE,OAAAqE,GAAA,IAAA;oBAAAmE,YAAAxI,MAAAsI;qBAAA7F;kBACAzC,MAAA0J;kBAEAjK,GAAA2E,MAAApE,MAAAsJ,aAAA9H,KAAA2E,QAAA9B,GAAA,GAAA;oBAAAlC,GAAAnC,MAAAiI;qBAAAxF;kBACAhD,GAAA2E,MAAApE,MAAAyD,OAAApD,IAAAmB,MAAA6C,GAAA,GAAA;oBAAAlC,GAAAnC,MAAAiI;qBAAAxF;kBAEAzC,MAAAuJ,UAAA5D,aAAA,GAAA,QAAA;kBACAlG,GAAA2E,MAAApE,MAAAuJ,UAAA/H,KAAA2E,QAAA9B,GAAArE,MAAA0I,SAAA;oBAAAvG,GAAAnC,MAAAkI;qBAAA5D,KAAA;oBACItE,MAAAyJ,SAAA;sBACIpK,eAAAyC,QAAAR,SAAAuD,UAAA7E,MAAAuJ,UAAA/H,KAAA2E,OAAAhE,IAAA,IAAAnC,MAAAuJ,UAAA/H,KAAA2E,OAAArB,IAAA;;qBAERrC;;;cAIR;;aACJ,KAAA;cACIpD,eAAAyC,QAAAR,SAAA+D;cACAnF,KAAAuD,OAAApD,IAAAmB,KAAAgB,UAAA;cACAtC,KAAAoJ,aAAA3D,aAAA,GAAA,QAAA;cACAG,QAAAqB,YAAAjH,KAAAuD,OAAApD,KAAAH,KAAAqJ,UAAA/H,KAAA2E,OAAAN,UAAA;gBACI7F,MAAAyD,OAAApD,IAAAmB,KAAAgB,UAAA;gBACAxC,MAAAuJ,UAAA5D,aAAA,GAAA,QAAA;gBACA3F,MAAAuJ,UAAAhC,oBAAA;kBACIvH,MAAAuJ,UAAAhC,oBAAA;kBACA9H,GAAA2E,MAAApE,OAAAqE,GAAA,IAAA;oBAAAmE,YAAAxI,MAAAsI;qBAAA7F;kBACAzC,MAAA0J;kBAEAjK,GAAA2E,MAAApE,MAAAsJ,aAAA9H,KAAA2E,QAAA9B,GAAA,GAAA;oBAAAlC,GAAAnC,MAAAiI;qBAAAxF;kBACAhD,GAAA2E,MAAApE,MAAAyD,OAAApD,IAAAmB,MAAA6C,GAAA,GAAA;oBAAAlC,GAAAnC,MAAAiI;qBAAAxF;kBAEAzC,MAAAuJ,UAAA5D,aAAA,GAAA,QAAA;kBACAlG,GAAA2E,MAAApE,MAAAuJ,UAAA/H,KAAA2E,QAAA9B,GAAArE,MAAA0I,SAAA;oBAAAvG,GAAAnC,MAAAkI;qBAAA5D,KAAA;oBACItE,MAAAyJ,SAAA;sBACIpK,eAAAyC,QAAAR,SAAAuD,UAAA7E,MAAAuJ,UAAA/H,KAAA2E,OAAAhE,IAAA,IAAAnC,MAAAuJ,UAAA/H,KAAA2E,OAAArB,IAAA;;qBAERrC;;;cAIR;;aACJ,KAAA;cACIpD,eAAAyC,QAAAR,SAAA+D;cACAnF,KAAAuD,OAAApD,IAAAmB,KAAAgB,UAAA;cACAtC,KAAAoJ,aAAA3D,aAAA,GAAA,QAAA;cACAG,QAAAqB,YAAAjH,KAAAuD,OAAApD,KAAAH,KAAAqJ,UAAA/H,KAAA2E,OAAAN,UAAA;gBACI7F,MAAAyD,OAAApD,IAAAmB,KAAAgB,UAAA;gBACAxC,MAAAuJ,UAAA5D,aAAA,GAAA,QAAA;gBACA3F,MAAAuJ,UAAAhC,oBAAA;kBACIvH,MAAAuJ,UAAAhC,oBAAA;kBACA9H,GAAA2E,MAAApE,OAAAqE,GAAA,IAAA;oBAAAmE,YAAAxI,MAAAsI;qBAAA7F;kBACAzC,MAAA0J;kBAEAjK,GAAA2E,MAAApE,MAAAsJ,aAAA9H,KAAA2E,QAAA9B,GAAA,GAAA;oBAAAlC,GAAAnC,MAAAiI;qBAAAxF;kBAEAzC,MAAAuJ,UAAA5D,aAAA,GAAA,QAAA;kBACAlG,GAAA2E,MAAApE,MAAAuJ,UAAA/H,KAAA2E,QAAA9B,GAAArE,MAAA0I,SAAA;oBAAAvG,GAAAnC,MAAAkI;qBAAA5D,KAAA;oBACItE,MAAA2J;qBACJlH;;;;;;;MAYpBuF,OAAA9G,UAAAwI,aAAA;QACJ,IAAAE,OAAA1J,KAAAoJ;QACApJ,KAAAoJ,eAAApJ,KAAAqJ;QACArJ,KAAAqJ,YAAAK;;MAGI5B,OAAA9G,UAAAuI,WAAA,SAAAlD;QAAR,IAAAvG,QAAAE;QACIT,GAAAuC,IAAA;QACA7C,cAAA2C,QAAAR,SAAAoE,OAAA,IAAA;UACI1F,MAAAuJ,UAAA/H,KAAA2E,OAAAhE,IAAAnC,MAAAoI;UACApI,MAAAuJ,UAAA5D,aAAA,GAAA,QAAA;UACAlG,GAAA2E,MAAApE,MAAAuJ,UAAA/H,KAAA2E,QAAA9B,GAAA,GAAA;YAAAlC,GAAAnC,MAAAmI;aAAA7D,KAAA;YACItE,MAAAyD,OAAAxC,SAAA;YACAsF,YACIA,SAAAtG,MAAAD;aAERyC;WACJvC;QACAT,GAAA2E,MAAAlE,MAAAmE,GAAA,GAAA;UAAAmE,YAAAtI,KAAAqI;WAAA9F;QACAvC,KAAAgG,YAAA;;MAGI8B,OAAA9G,UAAAyI,cAAA;QACJzJ,KAAA+I,QAAA;QAEA/I,KAAAuD,OAAAf,aAAAC,YAAAoF,SAAAjG;;MAGIkG,OAAA9G,UAAA6H,UAAA,SAAAc;QACJxK,eAAAyC,QAAAR,SAAAuD,UAAAgF,WAAAhE,SAAA1D,IAAA,IAAA0H,WAAAhE,SAAAf,IAAA,KAAA;;MAIIkD,OAAA9G,UAAA4I,WAAA;QAAR,IAAA9J,QAAAE;QACIA,KAAAqJ,UAAA5D,aAAA,GAAA,QAAA;QACAlG,GAAA2E,MAAAlE,KAAAqJ,UAAA/H,KAAA2E,QAAA9B,GAAA,GAAA;UAAAlC,GAAAjC,KAAAgI;WAAA5D,KAAA;UACItE,MAAA2J;WACJlH;;MAER,OAAAuF;KA7NA;;;;;;;;;;;;;;;;;;;ICfA,IAAAzD,iBAAArF,QAAA;IAIA,IAAAC,gBAAAD,QAAA;IAMA,IAAA6K,SAAA;MAAA,SAAAA;QAEY7J,KAAA8J,aAAA;QACA9J,KAAA+J,WAAA;;MACDF,OAAA7I,UAAAsC,YAAA,SAAAC,QAAAC;QACH,MAAA,IAAAC,MAAA;;MAEGoG,OAAA7I,UAAA0C,QAAA,SAAAC;QACH3D,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAuD,OAAA7C,OAAA,GAAAyB,SAAA;QACAnC,KAAAuD,OAAAlD,KAAAiB,KAAAa,SAAA;QACAnC,KAAAuD,OAAAlD,KAAAoF,aAAA,GAAA,QAAA;QACAzF,KAAA+J,WAAA/J,KAAAuD,OAAA3C,OAAA,GAAAqB;QACA1C,GAAA2E,MAAAlE,KAAAuD,OAAAlD,KAAAiB,MAAA6C,GAAA,GAAA;UAAAlC,GAAAjC,KAAA+J,WAAA;WAAAxH;QAEAhD,GAAA2E,MAAAlE,KAAAuD,OAAA9C,OAAA,GAAAa,KAAA2E,QAAA9B,GAAA,KAAA;UAAAlC,GAAA;WAAAM;QACAhD,GAAA2E,MAAAlE,KAAAuD,OAAArD,WAAAoB,MAAA6C,GAAA,KAAA;UAAAlC,GAAAjC,KAAA+J;WAAAxH;;MAGGsH,OAAA7I,UAAA6C,UAAA,SAAAF;QAAP,IAAA7D,QAAAE;QACI,KAAAA,KAAA8J,cAAA9J,KAAAuD,OAAA9C,OAAA,GAAAa,KAAA2E,OAAAhE,KAAAjC,KAAA+J,UAAA;UACI/J,KAAA8J,aAAA;UAEA9J,KAAAuD,OAAApD,IAAAmB,KAAAgB,UAAA;UACAtC,KAAAuD,OAAApD,IAAAmB,KAAAoE,YAAA1F,KAAAuD,OAAA3C,OAAA,GAAA+E;UACA3F,KAAAuD,OAAA9C,OAAA,GAAAgF,aAAA,GAAA,QAAA;UACAzF,KAAAuD,OAAApD,IAAAsF,aAAA,GAAA,SAAA;UACAlG,GAAA2E,MAAAlE,KAAAuD,OAAApD,IAAAmB,MAAA6C,GAAA,IAAA;YAAAS,IAAA;aAAAT,GAAA,IAAA;YAAAS,IAAA;aAAAR,KAAA;YACItE,MAAAyD,OAAApD,IAAAsF,aAAA,GAAA,SAAA;YACA3F,MAAAyD,OAAAlD,KAAAoF,aAAA,GAAA,SAAA;YACAxG,cAAA2C,QAAAR,SAAAoE,OAAA,KAAA1F,MAAAyH,YAAAzH;YACAb,cAAA2C,QAAAR,SAAAoE,OAAA,KAAA;cACInB,eAAAzC,QAAAsD,WAAA,SAAA;;YAEJjG,cAAA2C,QAAAR,SAAAoE,OAAA,KAAA;cACInB,eAAAzC,QAAAoI,eAAA;;aAERzH;;;MAIDsH,OAAA7I,UAAA8C,OAAA,SAAAH;MAGCkG,OAAA7I,UAAAuG,aAAA;QAEJvH,KAAAuD,OAAA1C,aAAAoB,IAAAjC,KAAAuD,OAAApD,IAAAmB,KAAAW;QACAjC,KAAAuD,OAAA1C,aAAAsB,SAAA;QACAkC,eAAAzC,QAAAsD,WAAA,SAAA;QACAjG,cAAA2C,QAAAR,SAAAoE,OAAA,MAAA;UACI/D,OAAAC,SAAAC,OAAAsI,QAAA,aAAA;;;MAIZ,OAAAJ;KAtDA;;;;;;;;;;;;;;;ICRA,SAAA5C,YAAA9G,KAAAwF,UAAAU;MACIlG,IAAAsF,aAAA,GAAA,SAAA;MACA,IAAAyE,UAAA/J,IAAAmB,KAAAW,KAAA9B,IAAAmB,KAAAW,IAAA0D,SAAA1D,KAAA;MACA,IAAAkI,UAAAxE,SAAAf,IAAAzE,IAAAmB,KAAAsD,IAAAe,SAAAf,IAAA,KAAAzE,IAAAmB,KAAAsD,IAAA;MACArF,GAAA2E,MAAA/D,IAAAmB,MAAAuD,MAAA,IAAAV,GAAA,IAAA;QAAAS,GAAAuF;QAAAlI,GAAAiI;SAAA/F,GAAA,IAAA;QAAAlC,GAAA0D,SAAA1D;QAAA2C,GAAAe,SAAAf;SAAAR,KAAAiC,UAAA9D;;IAJJY,QAAA8D,cAAAA","sourcesContent":["import IEntity from \"../../../kit/system/fsm/entity/IEntity\";\nimport StateMachine from \"../../../kit/system/fsm/StateMachine\";\nimport TimerSystem from \"../../../kit/system/timer/TimerSystem\";\nimport NotifierCenter from \"../../common_en/notifierCenter\";\nimport GuideManager from \"./guideManager\";\nimport FocusBoyState from \"./state/focusBoyState\";\nimport State1 from \"./state/state1\";\nimport State2 from \"./state/state2\";\nimport State3 from \"./state/state3\";\nimport State4 from \"./state/state4\";\nimport State5 from \"./state/state5\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Hippo extends cc.Component implements IEntity {\n    public stateMachine: StateMachine<Hippo>;\n    public sid?: string;\n\n    @property(cc.Camera)\n    public mainCamera: cc.Camera = null;\n\n    @property(sp.Skeleton)\n    public boy: sp.Skeleton = null;\n\n    @property(sp.Skeleton)\n    public pop: sp.Skeleton = null;\n\n    @property(sp.Skeleton)\n    public girl: sp.Skeleton = null;\n\n    @property(sp.Skeleton)\n    public tap: sp.Skeleton = null;\n\n    @property([sp.Skeleton])\n    public hippos: sp.Skeleton[] = [];\n\n    @property([sp.Skeleton])\n    public monkeys: sp.Skeleton[] = [];\n\n    @property([sp.Skeleton])\n    public zebras: sp.Skeleton[] = [];\n\n    @property([cc.Node])\n    public stages: cc.Node[] = [];\n\n    @property([cc.Node])\n    public bgs: cc.Node[] = [];\n\n    @property([cc.Node])\n    public points: cc.Node[] = [];\n\n    @property(cc.Node)\n    public completeNode: cc.Node = null;\n\n    public screenScale: number = 1;\n    public isLock: boolean = false;\n\n    public onLoad() {\n        let screenSize: cc.Size = cc.Canvas.instance.designResolution;\n        this.node.scale = screenSize.height / this.node.height;\n        this.screenScale = this.node.scale;\n        this.completeNode.scale = this.node.height / screenSize.height;\n\n        window.webframe = {};\n        window.webframe.Notify = new NotifierCenter();\n        console.log(\"use web_config!!!!!\");\n\n        this.mainCamera = cc.Camera.main;\n        if (this.node.scale === 1) {\n            this.mainCamera.node.x = this.bgs[0].x + 334;\n        } else {\n            this.mainCamera.node.x = this.bgs[0].x * this.node.scale;\n        }\n        TimerSystem.instance.init();\n        this.completeNode.active = false;\n        this.stages[0].active = false;\n        this.stages[1].active = false;\n        this.stages[2].active = false;\n        this.stages[3].active = false;\n        this.stages[4].active = false;\n        this.girl.node.active = false;\n        this.points.forEach((element: cc.Node) => {\n            element.opacity = 0;\n        })\n        GuideManager.instance.init(this.tap.node);\n    }\n\n    public start() {\n        this.stateMachine = new StateMachine<Hippo>(this);\n        this.stateMachine.ChangeState(State1);\n        this.stateMachine.AddGlobalState(FocusBoyState);\n        // this.stateMachine.ChangeState(State4);\n        // this.boy.node.setPosition(this.points[1].position);\n    }\n\n\n    public update(dt: number) {\n        if (this.stateMachine) {\n            this.stateMachine.Update(dt);\n        }\n    }\n}\n","import IEntity from \"../../../../kit/system/fsm/entity/IEntity\";\nimport Telegram from \"../../../../kit/system/fsm/message/Telegram\";\nimport IState from \"../../../../kit/system/fsm/state/IState\";\nimport Hippo from \"../Hippo\";\n\n/**\n * 游戏流程\n */\nexport default class FocusBoyState implements IState<Hippo>{\n    public entity: Hippo;\n    private sc: number;\n    private left: number = -2500;\n\n    public onMessage(entity: IEntity, telegram: Telegram): boolean {\n        throw new Error(\"Method not implemented.\");\n    }\n    public enter(data?: any): void {\n        let screenSize: cc.Size = cc.Canvas.instance.designResolution;\n        this.sc = screenSize.height / this.entity.node.height;\n    }\n    public execute(data?: any): void {\n        this.entity.mainCamera.node.x = this.entity.boy.node.x * this.sc\n        if (this.entity.mainCamera.node.x < this.left * this.sc) {\n            this.entity.mainCamera.node.x = this.left * this.sc;\n        }\n    }\n    public exit(data?: any): void {\n    }\n\n}","import IEntity from \"../../../../kit/system/fsm/entity/IEntity\";\nimport Telegram from \"../../../../kit/system/fsm/message/Telegram\";\nimport IState from \"../../../../kit/system/fsm/state/IState\";\nimport Hippo from \"../Hippo\";\n\n/**\n * 游戏流程\n */\nexport default class FocusZebraState implements IState<Hippo>{\n    public entity: Hippo;\n    private sc: number;\n    private left: number = -2500;\n    private offX: number = 300;\n    private moved: boolean = false;\n\n    public onMessage(entity: IEntity, telegram: Telegram): boolean {\n        throw new Error(\"Method not implemented.\");\n    }\n    public enter(data?: any): void {\n        let screenSize: cc.Size = cc.Canvas.instance.designResolution;\n        this.sc = screenSize.height / this.entity.node.height;\n        cc.tween(this.entity.mainCamera.node).to(1, { x: this.entity.boy.node.x * this.sc + this.offX }).call(() => {\n            this.moved = true;\n        }).start();\n    }\n    public execute(data?: any): void {\n        if (this.moved) {\n            this.entity.mainCamera.node.x = this.entity.boy.node.x * this.sc + this.offX;\n            if (this.entity.mainCamera.node.x < this.left * this.sc) {\n                this.entity.mainCamera.node.x = this.left * this.sc;\n            }\n        }\n    }\n    public exit(data?: any): void {\n    }\n\n}","import AudioManager from \"../../../kit/system/audio/AudioManager\";\n\n\n\nexport default class GuideManager {\n    private static _instance: GuideManager;\n    private timerKey: any;\n    private tap: cc.Node;\n\n    public static get instance(): GuideManager {\n        if (GuideManager._instance == null) {\n            GuideManager._instance = new GuideManager();\n        }\n        return GuideManager._instance;\n    }\n\n    public init(tap: cc.Node): void {\n        this.tap = tap;\n    }\n\n    public showGuide(x: number, y: number, delay: number = 4000): void {\n        if (this.timerKey) {\n            clearTimeout(this.timerKey);\n            cc.warn('有未释放的计时器，请调用hideGuide')\n        }\n        this.timerKey = setTimeout(() => {\n            AudioManager.playEffect('hippo', 'sound/tishiyinxiao');\n            this.tap.active = true;\n            this.tap.x = x;\n            this.tap.y = y;\n        }, delay)\n    }\n\n    public hideGuide(): void {\n        if (this.timerKey) {\n            clearTimeout(this.timerKey);\n            this.timerKey = null;\n        }\n        this.tap.active = false;\n    }\n}","import IEntity from \"../../../../kit/system/fsm/entity/IEntity\";\nimport Telegram from \"../../../../kit/system/fsm/message/Telegram\";\nimport IState from \"../../../../kit/system/fsm/state/IState\";\nimport Hippo from \"../Hippo\";\n\n/**\n * 游戏流程\n */\nexport default class GuideState implements IState<Hippo>{\n    public entity: Hippo;\n    private timerKey: any;\n\n    public onMessage(entity: IEntity, telegram: Telegram): boolean {\n        throw new Error(\"Method not implemented.\");\n    }\n    public enter(data?: any): void {\n    }\n    public execute(data?: any): void {\n    }\n    public exit(data?: any): void {\n        clearInterval(this.timerKey);\n    }\n\n}","import AudioManager from \"../../../../kit/system/audio/AudioManager\";\nimport IEntity from \"../../../../kit/system/fsm/entity/IEntity\";\nimport Telegram from \"../../../../kit/system/fsm/message/Telegram\";\nimport IState from \"../../../../kit/system/fsm/state/IState\";\nimport TimerSystem from \"../../../../kit/system/timer/TimerSystem\";\nimport Hippo from \"../Hippo\";\nimport State2 from \"./state2\";\n\n/**\n * 开场\n */\nexport default class State1 implements IState<Hippo>{\n    public entity: Hippo;\n    public onMessage(entity: IEntity, telegram: Telegram): boolean {\n        throw new Error(\"Method not implemented.\");\n    }\n    public enter(data?: any): void {\n        this.entity.stages[0].active = true;\n        this.entity.stages[1].active = true;\n        this.entity.stages[2].active = true;\n        this.entity.pop.node.active = false;\n        this.entity.tap.node.active = false;\n\n        TimerSystem.instance.doOnce(1000, () => {\n            this.entity.boy.setAnimation(0, 'naotou', false);\n        })\n        TimerSystem.instance.doOnce(2000, () => {\n            this.entity.pop.node.active = true;\n        })\n        TimerSystem.instance.doOnce(2300,()=>{\n            AudioManager.playEffect('hippo','sound/SE_conglintanxian_02');\n        })\n        TimerSystem.instance.doOnce(4000, () => {\n            this.entity.tap.node.active = true;\n            this.entity.tap.node.setPosition(this.entity.hippos[0].node.position)\n            this.entity.boy.setAnimation(0, 'idle', false);\n            AudioManager.playEffect('hippo', 'sound/clickAndListen')\n        })\n\n        TimerSystem.instance.doOnce(5500, () => {\n            this.entity.pop.node.active = false;\n            this.entity.tap.node.active = false;\n            this.entity.stateMachine.ChangeState(State2);\n        })\n    }\n\n    public execute(data?: any): void {\n        // throw new Error(\"Method not implemented.\");\n    }\n\n    public exit(data?: any): void {\n    }\n\n}","import AudioManager from \"../../../../kit/system/audio/AudioManager\";\nimport IEntity from \"../../../../kit/system/fsm/entity/IEntity\";\nimport Telegram from \"../../../../kit/system/fsm/message/Telegram\";\nimport IState from \"../../../../kit/system/fsm/state/IState\";\nimport TimerSystem from \"../../../../kit/system/timer/TimerSystem\";\nimport GuideManager from \"../guideManager\";\nimport Hippo from \"../Hippo\";\nimport { jump2Target } from \"../utils\";\nimport FocusBoyState from \"./focusBoyState\";\nimport State3 from \"./state3\";\n\n/**\n * 游戏流程-河马\n */\nexport default class State2 implements IState<Hippo>{\n    public entity: Hippo;\n    private tapIndex: number;\n    private current: sp.Skeleton;\n    private targetY: number = -165;\n\n    public onMessage(entity: IEntity, telegram: Telegram): boolean {\n        throw new Error(\"Method not implemented.\");\n    }\n    public enter(data?: any): void {\n        this.entity.stages[0].active = true;\n        this.entity.stages[1].active = true;\n        this.entity.stages[2].active = true;\n        this.tapIndex = 1;\n\n        // this.entity.tap.node.active = true;\n        // this.entity.tap.node.setPosition(this.entity.hippos[0].node.parent.position);\n        // this.entity.tap.node.y = this.entity.tap.node.y - 70;\n        // this.entity.tap.node.x = this.entity.tap.node.x + 50;\n\n        GuideManager.instance.showGuide(this.entity.hippos[0].node.parent.position.x + 50, this.entity.hippos[0].node.parent.position.y - 70, 0);\n\n        this.entity.stages[1].children.forEach((hippo: cc.Node) => {\n            hippo.on('click', this.callback, this);\n        })\n\n        this.entity.stateMachine.AddGlobalState(FocusBoyState)\n    }\n    public execute(data?: any): void {\n        // throw new Error(\"Method not implemented.\");\n    }\n    public exit(data?: any): void {\n        this.entity.stages[0].active = false;\n        // this.entity.stages[1].children.forEach((hippo: cc.Node) => {\n        //     hippo.off('click', this.callback, this);\n        // })\n    }\n\n    private callback(event: any): void {\n        AudioManager.stopEffect();\n        AudioManager.playEffect('hippo', 'sound/hippo');\n        let target: cc.Node = event.target;\n        let index: number = parseInt(target.name.substr(7));\n        if (!this.entity.isLock) {\n            if (this.tapIndex === index) {\n                this.entity.isLock = true;\n                let targetHippos: sp.Skeleton = this.entity.hippos[this.tapIndex - 1];\n                let nextHippos: sp.Skeleton = this.entity.hippos[this.tapIndex];\n\n                switch (index) {\n                    case 1:\n                        this.entity.tap.node.active = false;\n                        this.move2Middle(targetHippos, () => {\n                            targetHippos.setAnimation(0, 'idle2', false);\n                            let p: cc.Vec3 = target.position\n                            p.y = target.position.y + 60;\n                            p.x = target.position.x + 30;\n                            jump2Target(this.entity.boy, p, () => {\n                                AudioManager.playEffect('hippo', 'sound/SE_conglintanxian_01');\n                                this.entity.isLock = false;\n                            });\n                        })\n                        GuideManager.instance.showGuide(nextHippos.node.parent.x + 60, nextHippos.node.parent.y - 30);\n                        break;\n                    case 2:\n                        GuideManager.instance.hideGuide();\n                        this.move2Middle(targetHippos, () => {\n                            targetHippos.setAnimation(0, 'idle2', false);\n                            let p: cc.Vec3 = target.position\n                            p.y = target.position.y + 60;\n                            p.x = target.position.x + 30;\n                            jump2Target(this.entity.boy, p, () => {\n                                AudioManager.playEffect('hippo', 'sound/SE_conglintanxian_01');\n                                this.entity.isLock = false;\n                            });\n                        })\n                        GuideManager.instance.showGuide(nextHippos.node.parent.x + 60, nextHippos.node.parent.y - 30);\n                        break;\n                    case 3:\n                        GuideManager.instance.hideGuide();\n                        this.move2Middle(targetHippos, () => {\n                            targetHippos.setAnimation(0, 'idle2', false);\n                            let p: cc.Vec3 = target.position\n                            p.y = target.position.y + 60;\n                            p.x = target.position.x + 30;\n                            jump2Target(this.entity.boy, p, () => {\n                                AudioManager.playEffect('hippo', 'sound/SE_conglintanxian_01');\n                                this.entity.isLock = false;\n                            })\n                        })\n                        GuideManager.instance.showGuide(nextHippos.node.parent.x + 60, nextHippos.node.parent.y - 30);\n                        break;\n                    case 4:\n                        GuideManager.instance.hideGuide();\n                        targetHippos.setAnimation(0, 'idle2', false);\n                        let p: cc.Vec3 = target.position\n                        p.y = target.position.y + 60;\n                        p.x = target.position.x + 30;\n                        jump2Target(this.entity.boy, p, () => {\n                            AudioManager.playEffect('hippo', 'sound/SE_conglintanxian_01');\n                            GuideManager.instance.hideGuide();\n                            this.entity.isLock = false;\n                            // this.entity.tap.node.active = true;\n                            // this.entity.tap.node.setPosition(this.entity.monkeys[0].node.parent.position);\n                            // this.entity.tap.node.y = this.entity.tap.node.y - 100;\n                            // this.entity.tap.node.x = this.entity.tap.node.x + 50;\n                            GuideManager.instance.showGuide(this.entity.monkeys[0].node.parent.position.x + 50, this.entity.monkeys[0].node.parent.position.y - 100, 0);\n                        });\n                        this.entity.stateMachine.ChangeState(State3);\n                        break;\n                }\n                this.tapIndex += 1;\n            } else {\n                this.entity.hippos[index - 1].setAnimation(0, 'houjiao', false);\n            }\n        }\n    }\n\n    private move2Middle(target: sp.Skeleton, callback?: Function): void {\n        cc.tween(target.node.parent).to(1, { y: this.targetY }).call(() => {\n            if (callback) {\n                callback();\n            }\n        }).start();\n    }\n\n}","import AudioManager from \"../../../../kit/system/audio/AudioManager\";\nimport IEntity from \"../../../../kit/system/fsm/entity/IEntity\";\nimport Telegram from \"../../../../kit/system/fsm/message/Telegram\";\nimport IState from \"../../../../kit/system/fsm/state/IState\";\nimport GuideManager from \"../guideManager\";\nimport Hippo from \"../Hippo\";\nimport State4 from \"./state4\";\n\n/**\n * 游戏流程-猴子\n */\nexport default class State3 implements IState<Hippo>{\n    public entity: Hippo;\n    private tapIndex: number;\n\n    public onMessage(entity: IEntity, telegram: Telegram): boolean {\n        throw new Error(\"Method not implemented.\");\n    }\n    public enter(data?: any): void {\n        this.entity.stages[0].active = false;\n        this.entity.stages[1].active = true;\n        this.tapIndex = 1;\n\n        this.entity.stages[2].children.forEach((monkey: cc.Node) => {\n            monkey.on('click', this.callback, this);\n        })\n    }\n    public execute(data?: any): void {\n        // throw new Error(\"Method not implemented.\");\n    }\n    public exit(data?: any): void {\n        this.entity.stages[1].active = false;\n        // this.entity.stages[2].children.forEach((monkey: cc.Node) => {\n        //     monkey.off('click', this.callback, this);\n        // })\n    }\n    private callback(event: any): void {\n        AudioManager.stopEffect();\n        AudioManager.playEffect('hippo', 'sound/monkey');\n        let target: cc.Node = event.target;\n        let index: number = parseInt(target.name.substr(7));\n        cc.log(`index${index}`)\n        if (index === (this.tapIndex - 1)) {\n            return;\n        }\n        if (!this.entity.isLock) {\n            if (this.tapIndex === index) {\n                this.entity.isLock = true;\n                this.tapIndex += 1;\n                switch (index) {\n                    case 1:\n                        // 点第一个候特殊处理\n                        setTimeout(() => {\n                            this.entity.boy.node.opacity = 0;\n                        }, 900);\n                        this.entity.boy.node.opacity = 0;\n                        this.entity.monkeys[0].setAnimation(0, 'shenshou', false);\n                        this.entity.monkeys[0].setCompleteListener(() => {\n                            this.entity.isLock = false;\n                            this.entity.monkeys[0].setCompleteListener(null);\n                            this.entity.monkeys[0].setAnimation(0, 'idle3', true);\n                            this.toNextPosition(this.entity.monkeys[0].node.parent.position);\n                        })\n                        this.entity.tap.node.active = false;\n                        GuideManager.instance.showGuide(this.entity.monkeys[1].node.parent.x + 50, this.entity.monkeys[1].node.parent.y - 100);\n                        break;\n                    case 4:\n                        GuideManager.instance.hideGuide();\n                        this.entity.stages[3].active = true;\n                        this.entity.monkeys[2].setAnimation(0, 'dang2', false);\n                        this.toNextPosition(this.entity.monkeys[3].node.parent.position);\n                        this.entity.monkeys[2].setCompleteListener(() => {\n                            this.entity.monkeys[2].setCompleteListener(null);\n                            this.entity.monkeys[2].setCompleteListener(null);\n                            this.entity.monkeys[2].setAnimation(0, 'idle1', true);\n                            this.entity.boy.node.opacity = 0;\n                            this.entity.monkeys[3].setAnimation(0, 'shenshou', false);\n                            this.entity.monkeys[3].setCompleteListener(() => {\n                                this.entity.monkeys[3].setCompleteListener(null);\n                                this.entity.monkeys[3].setAnimation(0, 'dang2', false);\n                                this.toNextPosition(this.entity.points[1].position, () => {\n                                    this.onComplete();\n                                });\n                                this.entity.monkeys[3].setCompleteListener(() => {\n                                    this.entity.isLock = false;\n                                    this.entity.boy.node.opacity = 255;\n                                    this.entity.boy.setAnimation(0, 'idle', true)\n                                    this.entity.monkeys[3].setAnimation(0, 'idle1', true);\n                                    this.entity.monkeys[3].setCompleteListener(null);\n                                })\n                            })\n                        })\n                        break;\n                    default:\n                        AudioManager.playEffect('hippo', 'sound/SE_conglintanxian_04');\n                        GuideManager.instance.hideGuide();\n                        this.step(this.entity.monkeys[index - 2], this.entity.monkeys[index - 1], () => {\n                            this.entity.isLock = false;\n                        });\n                        GuideManager.instance.showGuide(this.entity.monkeys[index].node.parent.x + 50, this.entity.monkeys[index].node.parent.y - 100);\n                        break;\n                }\n            } else {\n                this.entity.monkeys[index - 1].setAnimation(0, 'naotou', false);\n                this.entity.monkeys[index - 1].setCompleteListener(() => {\n                    // this.entity.isLock = false;\n                    this.entity.monkeys[index - 1].setEndListener(null);\n                    this.entity.monkeys[index - 1].setAnimation(0, 'idle1', false);\n                })\n            }\n        }\n    }\n    private onComplete() {\n        this.entity.stateMachine.ChangeState(State4);\n\n    }\n    private step(m1: sp.Skeleton, m2: sp.Skeleton, callback?: Function): void {\n        m1.setAnimation(0, 'dang2', false);\n        this.toNextPosition(m2.node.parent.position);\n        m1.setCompleteListener(() => {\n            m1.setCompleteListener(null);\n            m1.setEndListener(null);\n            m1.setAnimation(0, 'idle1', true);\n            this.entity.boy.node.opacity = 0;\n            m2.setAnimation(0, 'shenshou', false);\n            m2.setCompleteListener(() => {\n                m2.setCompleteListener(null);\n                m2.setAnimation(0, 'idle3', true);\n                if (callback) {\n                    callback();\n                }\n            })\n        })\n    }\n    private toNextPosition(target: cc.Vec3, callback?: Function): void {\n        cc.tween(this.entity.boy.node).to(0.5, { x: target.x + 50, y: target.y - 50 }).call(() => {\n            if (callback) {\n                callback.apply(this);\n            }\n        }).start()\n    }\n}","import AudioManager from \"../../../../kit/system/audio/AudioManager\";\nimport IEntity from \"../../../../kit/system/fsm/entity/IEntity\";\nimport Telegram from \"../../../../kit/system/fsm/message/Telegram\";\nimport IState from \"../../../../kit/system/fsm/state/IState\";\nimport TimerSystem from \"../../../../kit/system/timer/TimerSystem\";\nimport GuideManager from \"../guideManager\";\nimport Hippo from \"../Hippo\";\nimport { jump2Target } from \"../utils\";\nimport FocusBoyState from \"./focusBoyState\";\nimport FocusZebraState from \"./focusZebraState\";\nimport State5 from \"./state5\";\n\n/**\n * 游戏流程-斑马\n */\nexport default class State4 implements IState<Hippo>{\n    public entity: Hippo;\n    private tapIndex: number;\n    private bg1: cc.Node;\n    private bg2: cc.Node;\n    private bg3: cc.Node;\n    private bg4: cc.Node;\n    private isRun: boolean;\n    private currentZebra: sp.Skeleton;\n    private nextZebra: sp.Skeleton;\n    private p1: number = 1700;\n    private p0: number = 400;   // 向左退出屏幕的点\n    private p2: number = 2300;  // 出现后停止点\n    private p3: number = 2900;  // 马从前面出现的点\n    private bgWidth: number = 1000;\n    private speed1: number = 1000;  // 换马后速度\n    private speed0: number = 600;  // 默认速度\n    private sceneSpeed: number = this.speed0;\n    private startP: number = this.p1 - 300;\n    private outTime: number = 2.5 // 退出时间\n\n    public onMessage(entity: IEntity, telegram: Telegram): boolean {\n        throw new Error(\"Method not implemented.\");\n    }\n    public enter(data?: any): void {\n        this.entity.stages[1].active = false;\n        this.entity.stages[3].active = true;\n\n        this.tapIndex = 1;\n        this.entity.stages[3].children.forEach((monkey: cc.Node) => {\n            monkey.on('click', this.callback, this);\n        })\n        this.bg1 = this.entity.bgs[4]\n        this.bg2 = this.entity.bgs[5]\n        this.bg3 = this.entity.bgs[6]\n        this.bg4 = this.entity.bgs[7]\n\n        this.showTap(this.entity.zebras[0].node.parent);\n\n        this.entity.zebras[1].node.parent.x = this.p3;\n\n        this.entity.stateMachine.RemoveGlobalState(FocusBoyState);\n        this.entity.stateMachine.AddGlobalState(FocusZebraState);\n    }\n    public execute(dt?: number): void {\n        if (this.isRun) {\n            let dis = this.sceneSpeed * dt;\n            this.bg1.x -= dis;\n            this.bg2.x -= dis;\n            this.bg3.x -= dis;\n            this.bg4.x -= dis;\n            if (this.bg1.x < -this.bgWidth + this.startP) {\n                this.bg1.x += this.bgWidth;\n                this.bg2.x += this.bgWidth;\n                this.bg3.x += this.bgWidth;\n                this.bg4.x += this.bgWidth;\n            }\n        }\n    }\n    public exit(data?: any): void {\n        this.entity.stages[2].active = false;\n        this.entity.stages[3].children.forEach((monkey: cc.Node) => {\n            monkey.off('click', this.callback, this);\n        })\n        if (this.bg1.x < 0) {\n            this.bg1.x += this.bgWidth;\n            this.bg2.x += this.bgWidth;\n            this.bg3.x += this.bgWidth;\n            this.bg4.x += this.bgWidth;\n        }\n        cc.log('this.bg1.x', this.bg1.x)\n    }\n    private callback(event: any): void {\n        AudioManager.stopEffect();\n        let target: cc.Node = event.target;\n        let index: number = parseInt(target.name.substr(7));\n        cc.log(`this.tapIndex:${this.tapIndex}`)\n        AudioManager.playEffect('hippo', 'sound/zebra');\n        if (!this.entity.isLock) {\n            if (event.target.getChildByName('banma').getComponent('sp.Skeleton') == this.currentZebra) {\n                return;\n            }\n            if (this.tapIndex <= 4) {\n                this.entity.isLock = true;\n                switch (this.tapIndex) {\n                    case 1:\n                        GuideManager.instance.hideGuide()\n                        this.currentZebra = this.entity.zebras[0];\n                        this.nextZebra = this.entity.zebras[1];\n                        jump2Target(this.entity.boy, this.currentZebra.node.parent.position, () => {\n                            AudioManager.playLoopEffect('hippo', 'sound/SE_conglintanxian_05');\n                            this.entity.boy.node.opacity = 0;\n                            cc.tween(this.entity.boy.node).to(2.5, { x: this.p1 }).start();\n                            this.entity.zebras[0].setAnimation(0, 'run1', true);\n                            cc.tween(this.currentZebra.node.parent).to(this.outTime, { x: this.p1 }).call(() => {\n                                this.showNext(()=>{\n                                    this.showTap(this.entity.zebras[1].node.parent)\n                                });\n                                this.entity.stateMachine.RemoveGlobalState(FocusZebraState);\n                                this.isRun = true;\n                            }).start()\n                        })\n                        break;\n                    case 2:\n                        this.entity.tap.node.active = false;\n                        this.entity.boy.node.opacity = 255;\n                        this.currentZebra.setAnimation(0, 'run2', true);\n                        jump2Target(this.entity.boy, this.nextZebra.node.parent.position, () => {\n                            this.entity.boy.node.opacity = 0;\n                            this.nextZebra.setAnimation(0, 'run1', true);\n                            this.nextZebra.setCompleteListener(() => {\n                                this.nextZebra.setCompleteListener(null);\n                                cc.tween(this).to(0.3, { sceneSpeed: this.speed1 }).start();\n                                this.changeNext();\n                                // 当前马居中\n                                cc.tween(this.currentZebra.node.parent).to(3, { x: this.p1 }).start();\n                                cc.tween(this.entity.boy.node).to(3, { x: this.p1 }).start();\n                                // 下一个马退出屏幕\n                                this.nextZebra.setAnimation(0, 'run2', true);\n                                cc.tween(this.nextZebra.node.parent).to(this.outTime, { x: this.p0 }).call(() => {\n                                    this.showNext(() => {\n                                        GuideManager.instance.showGuide(this.nextZebra.node.parent.x + 50, this.nextZebra.node.parent.y - 100);\n                                    });\n                                }).start()\n                                // 下一个马重置\n                            })\n                        })\n                        break;\n                    case 3:\n                        GuideManager.instance.hideGuide();\n                        this.entity.boy.node.opacity = 255;\n                        this.currentZebra.setAnimation(0, 'run2', true);\n                        jump2Target(this.entity.boy, this.nextZebra.node.parent.position, () => {\n                            this.entity.boy.node.opacity = 0;\n                            this.nextZebra.setAnimation(0, 'run1', true);\n                            this.nextZebra.setCompleteListener(() => {\n                                this.nextZebra.setCompleteListener(null);\n                                cc.tween(this).to(0.3, { sceneSpeed: this.speed1 }).start();\n                                this.changeNext();\n                                // 当前马居中\n                                cc.tween(this.currentZebra.node.parent).to(3, { x: this.p1 }).start();\n                                cc.tween(this.entity.boy.node).to(3, { x: this.p1 }).start();\n                                // 下一个马退出屏幕\n                                this.nextZebra.setAnimation(0, 'run2', true);\n                                cc.tween(this.nextZebra.node.parent).to(this.outTime, { x: this.p0 }).call(() => {\n                                    this.showNext(() => {\n                                        GuideManager.instance.showGuide(this.nextZebra.node.parent.x + 50, this.nextZebra.node.parent.y - 100);\n                                    });\n                                }).start()\n                                // 下一个马重置\n                            })\n                        })\n                        break;\n                    case 4:\n                        GuideManager.instance.hideGuide();\n                        this.entity.boy.node.opacity = 255;\n                        this.currentZebra.setAnimation(0, 'run2', true);\n                        jump2Target(this.entity.boy, this.nextZebra.node.parent.position, () => {\n                            this.entity.boy.node.opacity = 0;\n                            this.nextZebra.setAnimation(0, 'run1', true);\n                            this.nextZebra.setCompleteListener(() => {\n                                this.nextZebra.setCompleteListener(null);\n                                cc.tween(this).to(0.3, { sceneSpeed: this.speed1 }).start();\n                                this.changeNext();\n                                // 当前马居中\n                                cc.tween(this.currentZebra.node.parent).to(3, { x: this.p1 }).start();\n                                // cc.tween(this.entity.boy.node).to(3, { x: this.p1 }).start();\n                                this.nextZebra.setAnimation(0, 'run2', true);\n                                cc.tween(this.nextZebra.node.parent).to(this.outTime, { x: this.p0 }).call(() => {\n                                    this.goNextState();\n                                }).start()\n                                // 下一个马重置\n                            })\n                        })\n                        break;\n                }\n            } else {\n\n            }\n        }\n    }\n\n    private changeNext(): void {\n        let temp = this.currentZebra\n        this.currentZebra = this.nextZebra;\n        this.nextZebra = temp;\n    }\n\n    private showNext(callback?: Function): void {\n        cc.log('showNext')\n        TimerSystem.instance.doOnce(50, () => {\n            this.nextZebra.node.parent.x = this.p3;\n            this.nextZebra.setAnimation(0, 'run2', true);\n            cc.tween(this.nextZebra.node.parent).to(2, { x: this.p2 }).call(() => {\n                this.entity.isLock = false;\n                if (callback) {\n                    callback.apply(this);\n                }\n            }).start();\n        }, this)\n        cc.tween(this).to(2, { sceneSpeed: this.speed0 }).start();\n        this.tapIndex += 1;\n    }\n\n    private goNextState(): void {\n        this.isRun = false;\n        // this.entity.stateMachine.AddGlobalState(FocusBoyState);\n        this.entity.stateMachine.ChangeState(State5);\n    }\n\n    private showTap(targetNode: cc.Node): void {\n        GuideManager.instance.showGuide(targetNode.position.x + 50, targetNode.position.y - 130, 0);\n    }\n\n    // 下一个马退出屏幕\n    private zebraOut(): void {\n        this.nextZebra.setAnimation(0, 'run2', true);\n        cc.tween(this.nextZebra.node.parent).to(2, { x: this.p0 }).call(() => {\n            this.goNextState();\n        }).start()\n    }\n}","import AudioManager from \"../../../../kit/system/audio/AudioManager\";\nimport IEntity from \"../../../../kit/system/fsm/entity/IEntity\";\nimport Telegram from \"../../../../kit/system/fsm/message/Telegram\";\nimport IState from \"../../../../kit/system/fsm/state/IState\";\nimport TimerSystem from \"../../../../kit/system/timer/TimerSystem\";\nimport Hippo from \"../Hippo\";\n\n/**\n * 结束\n */\nexport default class State5 implements IState<Hippo>{\n    public entity: Hippo;\n    private isComplete: boolean = false;\n    private endPoint: number = 0\n    public onMessage(entity: IEntity, telegram: Telegram): boolean {\n        throw new Error(\"Method not implemented.\");\n    }\n    public enter(data?: any): void {\n        this.entity.stages[4].active = true;\n        this.entity.stages[2].active = false;\n        this.entity.girl.node.active = true;\n        this.entity.girl.setAnimation(0, 'idle', true);\n        this.endPoint = this.entity.points[2].x;\n        cc.tween(this.entity.girl.node).to(1, { x: this.endPoint + 150 }).start();\n\n        cc.tween(this.entity.zebras[1].node.parent).to(2.5, { x: 4100 }).start();\n        cc.tween(this.entity.mainCamera.node).to(1.5, { x: this.endPoint }).start();\n    }\n\n    public execute(data?: any): void {\n        if ((!this.isComplete) && this.entity.zebras[1].node.parent.x >= this.endPoint) {\n            this.isComplete = true;\n\n            this.entity.boy.node.opacity = 255;\n            this.entity.boy.node.setPosition(this.entity.points[2].position);\n            this.entity.zebras[1].setAnimation(0, 'run2', true);\n            this.entity.boy.setAnimation(0, 'jump1', false);\n            cc.tween(this.entity.boy.node).to(0.1, { y: -90 }).to(0.2, { y: -250 }).call(() => {\n                this.entity.boy.setAnimation(0, 'happy', true);\n                this.entity.girl.setAnimation(0, 'happy', true);\n                TimerSystem.instance.doOnce(3000, this.onComplete, this);\n                TimerSystem.instance.doOnce(500,()=>{\n                    AudioManager.playEffect('hippo', 'sound/SE_conglintanxian_06');\n                })\n                TimerSystem.instance.doOnce(1000,()=>{\n                    AudioManager.stopLoopEffect('sound/SE_conglintanxian_05');\n                })\n            }).start();\n        }\n    }\n\n    public exit(data?: any): void {\n    }\n\n    private onComplete(): void {\n        // 完成处理 Util.addCoin_midAndMenu(this.entity.node,true);\n        this.entity.completeNode.x = this.entity.boy.node.x;\n        this.entity.completeNode.active = true;\n        AudioManager.playEffect('hippo', 'sound/coin_large')\n        TimerSystem.instance.doOnce(3500, () => {\n            window.webframe.Notify.trigger(\"entryMenu\", true);\n        });\n    }\n\n}","\n\nexport function jump2Target(boy: sp.Skeleton, position: cc.Vec3, callback?: Function): void {\n    boy.setAnimation(0, 'jump1', false);\n    let middleX: number = boy.node.x - (boy.node.x - position.x) / 2;\n    let middleY: number = position.y > boy.node.y ? position.y + 40 : boy.node.y - 40;\n    cc.tween(boy.node).delay(0.5).to(0.2, { y: middleY, x: middleX }).to(0.2, { x: position.x, y: position.y }).call(callback).start();\n}"],"file":"index.js"}