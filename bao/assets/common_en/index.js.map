{"version":3,"sources":["assets/bundles_en/common_en/GameData.ts","assets/bundles_en/common_en/hand/HandEn.ts","assets/bundles_en/common_en/Main.ts","assets/bundles_en/common_en/Tigo.ts","assets/bundles_en/common_en/Util.ts","assets/bundles_en/common_en/coin_fly/coinBoard.ts","assets/bundles_en/common_en/constant.ts","assets/bundles_en/common_en/notifierCenter.ts","assets/bundles_en/common_en/mic/recordAin.ts"],"names":["GameData","this","node_path","nodePath","questionNumber","record_num","totalStar_num","isFrist","Object","defineProperty","get","_Instance","prototype","getStarNum","setStarNum","num","Number","addStarNum","setIsFirst","able","console","log","getIsFirst","getNodePath","page","getQuizNumber","length","getQuestionNumber","getTotalQuestionNumber","reduce","pre","cur","exports","default","getInstance","_a","cc","_decorator","ccclass","property","HandEn","_super","__extends","_this","apply","arguments","sp","cursor","mask","bg","tweens","currResolve","isLoop","times","from","to","needPlayDrag","needHide","guiding","move_duration","onLoad","setCompleteListener","cb","play","name","loop","Promise","resolve","setAnimation","sleep","seconds","scheduleOnce","playClick","fadeIn","node","active","rotation","sent","tween","opacity","easing","start","move","duration","x","y","__awaiter","tw","call","forEach","value","i","slice","push","playDragTo","update","hide","stop","setTargetBound","w","h","width","height","screenSize","Canvas","instance","designResolution","setTargetNode","target","parent","worldPos","convertToWorldSpaceAR","Vec2","ZERO","localPos","convertToNodeSpaceAR","__decorate","type","Skeleton","displayName","Node","Component","GameData_1","require","Util_1","Tigo_1","constant_1","game","on","EVENT_GAME_INITED","macro","ENABLE_MULTI_TOUCH","Main","menuPre","menuItem","node_nowShow","page_num","Lesson_Sign","star","isSecgame","secKey","isTest","gameState","callAppToStorage","sgk","openGame","registerListener","callAppToLoaded","userData","getBaseInfo","ud","JSON","parse","setClassId","lessonId","setUserId","userId","setModuleId","moduleId","setLessonModelId","lessonModuleId","classId","startGameCallApp","entryMenu","endtag","callAppToSpeed","gameAllend","callAppToAnalyse","voiceNode","destroy","openMenu","isGoon","instantiate","addChild","getComponent","initMenu","gid","redVal","openVal","lessonModelId","callAppToHttp","callAppToClose","exitGameCallApp","loadPage","nameProfab_str","loader","loadRes","err","prefab","addPrefab","audioEngine","stopAllEffects","getChildByName","onDestroy","unRegisterListener","testChangePage","event","choose","maxPage","Math","max","min","testQuickBtn","zIndex","Prefab","window","addEventListener","e","data","action","TigoManager","gameId","TotalGameNum","TotalGameErrorNum","TotalGameRightOnce","TotalGameRightTwice","SingleGameErrorNum","SingleGameRightOnce","SingleGameRightTwice","appData","TiGoTotalData","quizTotalNum","gameNum","questionTotlaNum","startGameTime","totalGameTime","errorNum","accuracy","once","twice","TigoSingleData","MaxIndex","answerData","_instance","addGameError","addGameRightOnce","addGameRightTwice","refreshSingleData","setSingleAnswerData","index","q","clearAllTigoData","setGameId","id","gameName","setSingleMax","url","params","speedVal","callAppToCollect","gameIndex","result","timestamp","getTime","handleData","param","method","stringify","tiGo","callApp","webkit","messageHandlers","postMessage","time","Date","now","toString","substr","total","analyseAction","analyseParam","analyseId","analyseData","next","closeNext","callAppToSaveData","callAppToRecord","sec","word","standardText","callAppToStopRecord","callAppToResult","path","getAppData","key","val","String","page_num_1","prompt","api","unique","BaseInfo","BaseInfo_1","callCocos","msg1","webframe","Notify","trigger","Util","coin_small","coin_mid","coin_large","PrefabNode","voice_name","node_name","coin_name_1","coin_name_2","coin_name_3","exitbutton","coin_new_name","addVoice","callBack","that","voice","clickBack","bind","addExitButton","stopVoiceAni","Animation","playVoiceAni","addStartLayer","setStartBtnBack","callBck","btn","addCoin_new","reject","addCoin_midAndMenu","et","coin","spine","clearTracks","AudioManager_1","CoinBoard","setCoinAni","playCoinEffect","reset","playEffect","playSpineAnimation","animation","trackIndex","isRecordState","loadSpriteFrame","SpriteFrame","sprite","loadCocosSpriteFrame","file","callback","error","spriteFrame","loadCocosResSkeletonData","skeletonPath","loadCocosResAsset","SkeletonData","loadCocosPrefab","assetPath","assetType","Asset","asset","then","message","NotifierCenter","_TAG","events","launch","getScopeName","scope","listen","eventName","handler","isOnce","observer","observers","obs","ignore","ignoreScope","idx","splice","isRunning","keys","args","Array","self","ob","isValid","filter","ignoreMsgs","msg","shut","NewClass","centerNode","rightNode","leftNode","initeAniFun","anim","clip","currentClip","defaultClip","speed","n","schedule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA,IAAAA,WAAA;MAAA,SAAAA;QAEEC,KAAAC,YAAA,EACE;UACEC,UAAA;UACAC,gBAAA;;QAIJH,KAAAI,aAAA;QACAJ,KAAAK,gBAAA;QACAL,KAAAM,UAAA;;MAIAC,OAAAC,eAAAT,UAAA,eAAA;QAAAU,KAAA;UACET,KAAAU,cACEV,KAAAU,YAAA,IAAAX;UAEF,OAAAC,KAAAU;;;;;MAGFX,SAAAY,UAAAC,aAAA;QACE,OAAAZ,KAAAK;;MAGFN,SAAAY,UAAAE,aAAA,SAAAC;QACEd,KAAAK,gBAAAU,OAAAD;;MAGFf,SAAAY,UAAAK,aAAA,SAAAF;QACEd,KAAAK,iBAAAS;;MAGFf,SAAAY,UAAAM,aAAA,SAAAC;QACEC,QAAAC,IAAA,gCAAAF;QACAlB,KAAAM,UAAAY;;MAGFnB,SAAAY,UAAAU,aAAA;QACEF,QAAAC,IAAA,gCAAApB,KAAAM;QACA,OAAAN,KAAAM;;MAGFP,SAAAY,UAAAW,cAAA,SAAAC;QACE,OAAAvB,KAAAC,UAAAsB,MAAArB,WACEF,KAAAC,UAAAsB,MAAArB,WAEAF,KAAAC,UAAA,GAAAC;;MAIJH,SAAAY,UAAAa,gBAAA;QACE,OAAAxB,KAAAC,UAAAwB;;MAIF1B,SAAAY,UAAAe,oBAAA,SAAAH;QACE,IAAAvB,KAAAC,UAAAsB,MAAApB,gBACE,OAAAH,KAAAC,UAAAsB,MAAApB;QAEF,OAAA;;MAIFJ,SAAAY,UAAAgB,yBAAA;QACE,IAAAb,MAAAd,KAAAC,UAAA2B,OAAA,SAAAC,KAAAC;UACE,OAAAD,MAAAC,IAAA3B;WACF;QACA,OAAAW;;MAEJ,OAAAf;KAvEA;IAwEAgC,QAAAC,UAAAjC,SAAAkC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC/DM,IAAAC,KAAAC,GAAAC,YAAAC,UAAAH,GAAAG,SAAAC,WAAAJ,GAAAI;IAGN,IAAAC,SAAA,SAAAC;MAAoCC,UAAAF,QAAAC;MAApC,SAAAD;QAAA,IAAAG,QAAA,SAAAF,UAAAA,OAAAG,MAAA3C,MAAA4C,cAAA5C;QAGI0C,MAAAG,KAAA;QAKAH,MAAAI,SAAA;QAIAJ,MAAAK,OAAA;QAGAL,MAAAM,KAAA;QAEAN,MAAAO,SAAA;QAeQP,MAAAQ,cAAA;QAuDRR,MAAAS,SAAA;QACAT,MAAAU,QAAA;QAEAV,MAAAW,OAAA;QACAX,MAAAY,KAAA;QA4CQZ,MAAAa,eAAA;QACAb,MAAAc,WAAA;QACAd,MAAAe,UAAA;QA8BRf,MAAAgB,gBAAA;;;MAhJAnB,OAAA5B,UAAAgD,SAAA;QAAA,IAAAjB,QAAA1C;QACIA,KAAA6C,GAAAe,oBAAA;UACI,IAAAlB,MAAAQ,aAAA;YACI,IAAAW,KAAAnB,MAAAQ;YACAW;;;;MAMNtB,OAAA5B,UAAAmD,OAAA,SAAAC,MAAAC;aAAmB,MAAAA,SAAAA,OAAA;;;;YACrB,OAAA,EAAA,GAAA,IAAAC,QAAA,SAAAC;cACIxB,MAAAG,GAAAsB,aAAA,GAAAJ,MAAAC;cACAtB,MAAAQ,cAAAgB;;;;;MAIF3B,OAAA5B,UAAAyD,QAAA,SAAAC;;;;YACF,OAAA,EAAA,GAAA,IAAAJ,QAAA,SAAAC;cACIxB,MAAA4B,aAAA;gBACIJ;iBACJG;;;;;MAOF9B,OAAA5B,UAAA4D,YAAA;;;;;cACFvE,KAAAwE;cACAxE,KAAAyE,KAAAC,SAAA;cACA1E,KAAA8C,OAAA6B,WAAA;cAEA,OAAA,EAAA,GAAA3E,KAAA8D,KAAA;;;cAAA5B,GAAA0C;cACA,OAAA,EAAA,GAAA5E,KAAAoE,MAAA;;;cAAAlC,GAAA0C;cACA,OAAA,EAAA,GAAA5E,KAAA8D,KAAA;;;cAAA5B,GAAA0C;;;;;;MAKIrC,OAAA5B,UAAA6D,SAAA;QACJrC,GAAA0C,MAAA7E,KAAAgD,IAAAM,GAAAtD,KAAA0D,eAAA;UAAAoB,SAAA;WAAA;UAAAC,QAAA;WAAAC;;MAGEzC,OAAA5B,UAAAsE,OAAA,SAAA5B,MAAAC,IAAA4B;;;;YACFlF,KAAA8C,OAAAqC,IAAA9B,KAAA8B;YACAnF,KAAA8C,OAAAsC,IAAA/B,KAAA+B;YACA,OAAA,EAAA,GAAA,IAAAnB,QAAA,SAAAC;cAAA,OAAAmB,UAAA3C,YAAA,QAAA,GAAA;;;;kBACQ4C,KAAAnD,GAAA0C,MAAA7E,KAAA8C,QACCQ,GAAA4B,UAAA;oBAAAC,GAAA7B,GAAA6B;oBAAAC,GAAA9B,GAAA8B;qBAAA;oBAAAL,QAAA;qBACAQ,KAAA;oBACG7C,MAAAO,OAAAuC,QAAA,SAAAC,OAAAC;sBACI,IAAAD,SAAAH,IAAA;wBACI5C,MAAAO,OAAA0C,MAAAD;wBACA;;;oBAGRxB;qBAEHc;kBACLhF,KAAAiD,OAAA2C,KAAAN;;;;;;;;MAUF/C,OAAA5B,UAAAkF,aAAA,SAAAxC,MAAAC,IAAAU,MAAAZ;aAA2D,MAAAY,SAAAA,OAAA;aAAuB,MAAAZ,UAAAA,QAAA;;;;YACpFpD,KAAAwE;YACAxE,KAAAyE,KAAAC,SAAA;YACA1E,KAAAmD,SAAAa;YACAhE,KAAAoD,QAAAA;YACApD,KAAAoD,QAAA,MACIpD,KAAAoD,QAAA;YAEJpD,KAAA8C,OAAAqC,IAAA9B,KAAA8B;YACAnF,KAAA8C,OAAAsC,IAAA/B,KAAA+B;YACApF,KAAAqD,OAAAA;YACArD,KAAAsD,KAAAA;YACA,OAAA,EAAA,GAAA,IAAAW,QAAA,SAAAC;cAAA,OAAAmB,UAAA3C,YAAA,QAAA,GAAA;;kBAuBI1C,KAAAuD,eAAA;kBACAvD,KAAAyD,UAAA;kBACAzD,KAAAwD,WAAA;kBACAU;;;;;;;;MAQF3B,OAAA5B,UAAAmF,SAAA;;;;;cACE,MAAA9F,KAAAuD,gBAAAvD,KAAAyD,YAAAzD,KAAAwD,WAAA,OAAA,EAAA,GAAA;cACAxD,KAAAuD,eAAA;cACApC,QAAAC,IAAA;cACA,OAAA,EAAA,GAAApB,KAAAiF,KAAAjF,KAAA8C,QAAA9C,KAAAqD,MAAA;;;cAAAnB,GAAA0C;cACA,OAAA,EAAA,GAAA5E,KAAA8D,KAAA;;;cAAA5B,GAAA0C;cACA,OAAA,EAAA,GAAA5E,KAAAoE,MAAA;;;cAAAlC,GAAA0C;cACA,OAAA,EAAA,GAAA5E,KAAAiF,KAAAjF,KAAAqD,MAAArD,KAAAsD,IAAA;;;cAAApB,GAAA0C;cACA,OAAA,EAAA,GAAA5E,KAAA8D,KAAA;;;cAAA5B,GAAA0C;cACA,OAAA,EAAA,GAAA5E,KAAAoE,MAAA;;;cAAAlC,GAAA0C;cACA5E,KAAAyD,UAGIzD,KAAAuD,eAAA,OAFAvD,KAAA+F;;;;cAMR,IAAA/F,KAAAwD,UAAA;gBACIxD,KAAAwD,WAAA;gBACAxD,KAAAmD,SAAA;gBACAnD,KAAAiD,OAAAuC,QAAA,SAAAC,OAAAC;kBACID,MAAAO;;gBAEJhG,KAAAiD,SAAA;gBACAjD,KAAAyE,KAAAC,SAAA;;;;;;;MAQRnC,OAAA5B,UAAAoF,OAAA;QAII/F,KAAAyD,UAAA;QACAzD,KAAAwD,WAAA;;MAGJjD,OAAAC,eAAA+B,OAAA5B,WAAA,aAAA;QAAAF,KAAA;UACI,OAAAT,KAAAyE,KAAAC;;;;;MAGJnC,OAAA5B,UAAAqF,OAAA;MAUAzD,OAAA5B,UAAAsF,iBAAA,SAAAd,GAAAC,GAAAc,GAAAC;QACInG,KAAA+C,KAAAqD,QAAAF;QACAlG,KAAA+C,KAAAsD,SAAAF;QACAnG,KAAA+C,KAAAoC,IAAAA;QACAnF,KAAA+C,KAAAqC,IAAAA;QAEA,IAAAkB,aAAAnE,GAAAoE,OAAAC,SAAAC;QACAzG,KAAAgD,GAAAoD,QAAAE,WAAAF;QACApG,KAAAgD,GAAAqD,SAAAC,WAAAD;QACArG,KAAAgD,GAAAmC,KAAAnF,KAAA+C,KAAAoC;QACAnF,KAAAgD,GAAAoC,KAAApF,KAAA+C,KAAAqC;QACApF,KAAA8C,OAAAqC,IAAAnF,KAAA+C,KAAAoC;QACAnF,KAAA8C,OAAAsC,IAAApF,KAAA+C,KAAAqC;;MAOJ7C,OAAA5B,UAAA+F,gBAAA,SAAAC,QAAAC;QACI,IAAA,QAAAD,QACI;QAEJ,IAAAE,WAAAF,OAAAG,sBAAA3E,GAAA4E,KAAAC;QACAhH,KAAA+C,KAAAqD,QAAAO,OAAAP;QACApG,KAAA+C,KAAAsD,SAAAM,OAAAN;QACA,IAAAY,WAAAL,OAAAM,qBAAAL;QACA7G,KAAAiG,eAAAgB,SAAA9B,GAAA8B,SAAA7B,GAAAuB,OAAAP,OAAAO,OAAAN;;MAzNJc,WAAA,EADC7E,SAAA;QAAA8E,MAAAvE,GAAAwE;QAAAC,aAAA;YACqB/E,OAAA5B,WAAA,WAAA;MAKtBwG,WAAA,EADC7E,SAAA;QAAA8E,MAAAjF,GAAAoF;QAAAD,aAAA;YACqB/E,OAAA5B,WAAA,eAAA;MAItBwG,WAAA,EADC7E,SAAA;QAAA8E,MAAAjF,GAAAoF;QAAAD,aAAA;YACmB/E,OAAA5B,WAAA,aAAA;MAGpBwG,WAAA,EADC7E,SAAA;QAAA8E,MAAAjF,GAAAoF;QAAAD,aAAA;YACiB/E,OAAA5B,WAAA,WAAA;MAfD4B,SAAA4E,WAAA,EADpB9E,WACoBE;MA+NrB,OAAAA;KA/NA,CAAAJ,GAAAqF;IAAqBzF,QAAAC,UAAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICZf,IAAAL,KAAAC,GAAAC,YAAAC,UAAAH,GAAAG,SAAAC,WAAAJ,GAAAI;IACN,IAAAmF,aAAAC,QAAA;IACA,IAAAC,SAAAD,QAAA;IACA,IAAAE,SAAAF,QAAA;IACA,IAAAG,aAAAH,QAAA;IAGAvF,GAAA2F,KAAAC,GAAA5F,GAAA2F,KAAAE,mBAAA;MAEE7F,GAAA8F,MAAAC,qBAAA;MACA/G,QAAAC,IAAA,+CAAAe,GAAA8F,MAAAC;;IAIF,IAAAC,OAAA,SAAA3F;MAAkCC,UAAA0F,MAAA3F;MAAlC,SAAA2F;QAAA,IAAAzF,QAAA,SAAAF,UAAAA,OAAAG,MAAA3C,MAAA4C,cAAA5C;QAEE0C,MAAA0F,UAAA;QAEA1F,MAAA2F,WAAA;QAEA3F,MAAA4F,eAAA;QACA5F,MAAA6F,WAAA;QAEA7F,MAAA8F,cAAA;QACA9F,MAAAnB,OAAA;QACAmB,MAAA+F,OAAA;QACA/F,MAAAtC,aAAA;QAEAsC,MAAAgG,YAAA;QACAhG,MAAAiG,SAAA;QAEAjG,MAAAkG,SAAA;;;MACAT,KAAAxH,UAAAgD,SAAA;QACE3D,KAAAwI,cAAAX,WAAAgB,UAAAL;QACA,IAAAjH,OAAAvB,KAAAwI,cAAAxI,KAAAuB;QACA,IAAAkH,OAAAzI,KAAAwI,cAAAxI,KAAAyI;QACA,IAAArI,aAAAJ,KAAAwI,cAAAxI,KAAAI;QAEAqH,WAAAzF,QAAA5B,aAAAwH,OAAA5F,QAAA8G,iBAAA,OAAA1I,eAAA;QAGA,IAAAU,MAAA8G,OAAA5F,QAAA8G,iBAAA,OAAAL,SAAA;QAEAhB,WAAAzF,QAAAnB,WAAAC;QACAK,QAAAC,IAAA,gEAAAqG,WAAAzF,QAAA5B;QAGAJ,KAAAuI,WAAAX,OAAA5F,QAAA8G,iBAAA,OAAAvH,SAAAvB,KAAAuI;QACApH,QAAAC,IAAA,2DAAApB,KAAAuI;QAEA,IAAAQ,MAAA/I,KAAAwI,cAAAxI,KAAA2I;QACA3I,KAAA0I,YAAAd,OAAA5F,QAAA8G,iBAAA,OAAAC,QAAA;QACA5H,QAAAC,IAAA,2BAAApB,KAAA0I;QAQA1I,KAAAgJ,SAAA;QACAhJ,KAAAiJ;QAEArB,OAAA5F,QAAAkH;;MAIFf,KAAAxH,UAAAqE,QAAA;QAEE,IAAAmE,WAAAvB,OAAA5F,QAAAoH;QACA,IAAAD,UAAA;UACE,IAAAE,KAAAC,KAAAC,MAAAJ;UACAvB,OAAA5F,QAAAwH,WAAAH,GAAAI;UACA7B,OAAA5F,QAAA0H,UAAAL,GAAAM;UACA/B,OAAA5F,QAAA4H,YAAAP,GAAAQ;UACAjC,OAAA5F,QAAA8H,iBAAAT,GAAAU;UACA5I,QAAAC,IAAA,iBAEEwG,OAAA5F,QAAAgI,UACA,iBACApC,OAAA5F,QAAA2H,SACA,gBACA/B,OAAA5F,QAAA6H,WACA,sBACAjC,OAAA5F,QAAA+H;;QAGJnC,OAAA5F,QAAAiI;;MAGF9B,KAAAxH,UAAAsI,mBAAA;MAWAd,KAAAxH,UAAAuJ,YAAA,SAAAC;QAEEnK,KAAAuI;QACAvI,KAAAuI,YAAAd,WAAAzF,QAAA/B,UAAAwB,SAAA,KACEmG,OAAA5F,QAAAoI;QAEFjJ,QAAAC,IAAA,sBAAApB,KAAAuI;QACApH,QAAAC,IAAA,kCAAAqG,WAAAzF,QAAA/B,UAAAwB;QACA,IAAAzB,KAAAuI,YAAAd,WAAAzF,QAAA/B,UAAAwB,QAAA;UACE,IAAAsH,MAAA/I,KAAAwI,cAAAxI,KAAA2I;UACAf,OAAA5F,QAAA8G,iBAAA,OAAAC,KAAA;UACA/I,KAAA0I,YAAA;UACA,IAAAyB,QAAA;YACEhJ,QAAAC,IAAA;YACApB,KAAAqK;YACA;;UAEFrK,KAAAuI,WAAAd,WAAAzF,QAAA/B,UAAAwB,SAAA;;QAIF,IAAAF,OAAAvB,KAAAwI,cAAAxI,KAAAuB;QACA,IAAAkH,OAAAzI,KAAAwI,cAAAxI,KAAAyI;QACA,IAAArI,aAAAJ,KAAAwI,cAAAxI,KAAAI;QACAwH,OAAA5F,QAAA8G,iBAAA,OAAAvH,MAAAvB,KAAAuI;QACAX,OAAA5F,QAAAsI,iBAAA,OAAA;QACA1C,OAAA5F,QAAA8G,iBAAA,OAAAL,MAAAhB,WAAAzF,QAAA3B;QACAuH,OAAA5F,QAAA8G,iBAAA,OAAA1I,YAAAW,OAAA0G,WAAAzF,QAAA5B;QAGA,IAAAJ,KAAAsI,cAAA;UACEX,OAAA3F,QAAAuI,YAAA;UACAvK,KAAAsI,aAAAkC;;QAIFxK,KAAAyK,SAAA;;MAGFtC,KAAAxH,UAAA8J,WAAA,SAAAC;aAAS,MAAAA,WAAAA,SAAA;QACP1K,KAAAqI,WAAAlG,GAAAwI,YAAA3K,KAAAoI;QACApI,KAAAyE,KAAAmG,SAAA5K,KAAAqI;QACArI,KAAAqI,SACGwC,aAAA,YACAC,SAAA9K,KAAAuI,UAAAvI,KAAA0I,WAAAgC,QAAA1K;;MAGLmI,KAAAxH,UAAAqI,WAAA,SAAA+B;QAEE/K,KAAAqI,YACErI,KAAAqI,SAAAmC;;MAKJrC,KAAAxH,UAAA0J,aAAA;QAEE,IAAA5B,OAAAzI,KAAAwI,cAAAxI,KAAAyI;QACAtH,QAAAC,IAAA,gEAAAqG,WAAAzF,QAAA3B;QACAc,QAAAC,IAAA,oDAAAqG,WAAAzF,QAAA5B,aAAA;QACA,IAAA+F,IAAA;UACEwD,QAAA/B,OAAA5F,QAAA2H;UACAF,UAAA7B,OAAA5F,QAAAgI;UACAgB,QAAAvD,WAAAzF,QAAA3B;UACA4K,SAAAxD,WAAAzF,QAAA5B;UAEA8K,eAAAtD,OAAA5F,QAAA+H;;QAEFnC,OAAA5F,QAAAmJ,cAAA,mBAAA,QAAAhF;QAEAyB,OAAA5F,QAAA8G,iBAAA,UAAAL,MAAA;QACAb,OAAA5F,QAAAsI,iBAAA;QACA1C,OAAA5F,QAAAoJ,eAAA,gBAAA;QACAxD,OAAA5F,QAAAqJ;;MAGFlD,KAAAxH,UAAA2K,WAAA,SAAA/C;QAAA,IAAA7F,QAAA1C;QACEmB,QAAAC,IAAA,8EAAAmH;QACA,IAAAgD,iBAAA,aAAA9D,WAAAzF,QAAAV,YAAAiH;QAEApG,GAAAqJ,OAAAC,QAAAF,gBAAA,SAAAG,KAAAC;UACED,MAGEvK,QAAAC,IAAAsK,KAAA,+DAFAhJ,MAAAkJ,UAAAD;;;MAONxD,KAAAxH,UAAAiL,YAAA,SAAAD;QACE,IAAA3L,KAAAsI,cAAA;UACEX,OAAA3F,QAAAuI,YAAA;UACAvK,KAAAsI,aAAAkC;;QAEFrI,GAAA0J,YAAAC;QACA9L,KAAAsI,eAAAnG,GAAAwI,YAAAgB;QAKA3L,KAAAyE,KAAAmG,SAAA5K,KAAAsI;QAEAtI,KAAAyE,KAAAsH,eAAA,WACE/L,KAAAyE,KAAAsH,eAAA,QAAAvB;;MAIJrC,KAAAxH,UAAAqL,YAAA;QACE7K,QAAAC,IAAA;QACApB,KAAAiM;QACArE,OAAA5F,QAAAqJ;;MAGFlD,KAAAxH,UAAAsL,qBAAA;MAKA9D,KAAAxH,UAAAuL,iBAAA,SAAAC,OAAAC;QACE,IAAAC,UAAA5E,WAAAzF,QAAA/B,UAAAwB,SAAA;QACA,IAAA2K,SAAA,KAAA,KAAApM,KAAAuI,UAAA;UACEpH,QAAAC,IAAA;UACA;;QAEF,IAAAgL,SAAA,KAAApM,KAAAuI,YAAA8D,SAAA;UACElL,QAAAC,IAAA;UACA;;QAEFpB,KAAAuI,WAAAvI,KAAAuI,WAAAxH,OAAAqL;QACApM,KAAAuI,WAAA+D,KAAAC,IAAAvM,KAAAuI,UAAA;QACAvI,KAAAuI,WAAA+D,KAAAE,IAAAxM,KAAAuI,UAAA8D;QACAlL,QAAAC,IAAA,uEAAApB,KAAAuI;QACAvI,KAAAsL,SAAAtL,KAAAuI;;MAGFJ,KAAAxH,UAAA8L,eAAA;QACE,IAAAzM,KAAA4I,QAAA;UACE5I,KAAAyE,KAAAsH,eAAA,QAAAW,SAAA;UACA1M,KAAAyE,KAAAsH,eAAA,SAAAW,SAAA;;QAEF1M,KAAAyE,KAAAsH,eAAA,QAAArH,SAAA1E,KAAA4I;QACA5I,KAAAyE,KAAAsH,eAAA,SAAArH,SAAA1E,KAAA4I;;MAlOFzB,WAAA,EADC7E,SAAAH,GAAAwK,WACyBxE,KAAAxH,WAAA,gBAAA;MAFPwH,OAAAhB,WAAA,EADpB9E,WACoB8F;MAsOrB,OAAAA;KAtOA,CAAAhG,GAAAqF;IAAqBzF,QAAAC,UAAAmG;IAwOrBhH,QAAAC,IAAA;IACAwL,OAAAC,iBAAA,WAAA,SAAAC;MAGI3L,QAAAC,IAAA,qBAAA0L,EAAAC;MACAD,EAAAC,KAAAC,UACEJ,OAAA,aAAAE,EAAAC;OAEJ;IAGF5L,QAAAC,IAAA;;;;;;;;;;;;;;;ICjQA,IAAAyG,aAAAH,QAAA;IAEA,IAAAuF,cAAA;MAAA,SAAAA;QAYEjN,KAAAgK,UAAA;QACAhK,KAAAkN,SAAA;QACAlN,KAAA2J,SAAA;QACA3J,KAAA6J,WAAA;QACA7J,KAAA+J,iBAAA;QACA/J,KAAAmN,eAAA;QACAnN,KAAAoN,oBAAA;QACApN,KAAAqN,qBAAA;QACArN,KAAAsN,sBAAA;QACAtN,KAAAuN,qBAAA;QACAvN,KAAAwN,sBAAA;QACAxN,KAAAyN,uBAAA;QAEAzN,KAAA0N,UAAA;QAYA1N,KAAA2N,gBAAA;UAEEC,cAAA;UAEAC,SAAA;UAEAC,kBAAA;UAGAC,eAAA;UAGAC,eAAA;UAEAC,UAAA;UAEAC,UAAA;YACEC,MAAA;YACAC,OAAA;;;QAKJpO,KAAAqO,iBAAA;UACEC,UAAA;UACAL,UAAA;UAEAM,YAAA;UAEAL,UAAA;YACEC,MAAA;YACAC,OAAA;;;;MAjEGnB,YAAAhL,cAAA;QACLjC,KAAAwO,cACExO,KAAAwO,YAAA,IAAAvB;QAEF9L,QAAAC,IAAA;QACA,OAAApB,KAAAwO;;MAgEFvB,YAAAtM,UAAA8N,eAAA;QACEzO,KAAAuN;QACAvN,KAAAoN;QACApN,KAAAqO,eAAAJ,YAAA;QACAjO,KAAA2N,cAAAM,YAAA;;MAEFhB,YAAAtM,UAAA+N,mBAAA;QACE1O,KAAAwN,uBAAA;QACAxN,KAAAqN,sBAAA;QACArN,KAAAqO,eAAAH,SAAAC,OACEnO,KAAAwN,sBAAAxN,KAAAqO,eAAAC,WAAA,MAAA;QACFtO,KAAA2N,cAAAO,SAAAC,OACEnO,KAAAqN,qBAAArN,KAAA2N,cAAAE,UAAA,MAAA;;MAGJZ,YAAAtM,UAAAgO,oBAAA;QACE3O,KAAAyN,wBAAA;QACAzN,KAAAsN,uBAAA;QACAtN,KAAAqO,eAAAH,SAAAE,QACEpO,KAAAyN,uBAAAzN,KAAAqO,eAAAC,WAAA,MAAA;QACFtO,KAAA2N,cAAAO,SAAAE,QACEpO,KAAAsN,sBAAAtN,KAAA2N,cAAAE,UAAA,MAAA;;MAIJZ,YAAAtM,UAAAiO,oBAAA;QACE5O,KAAAwN,sBAAA;QACAxN,KAAAyN,uBAAA;QACAzN,KAAAuN,qBAAA;QACAvN,KAAAqO,eAAAJ,WAAA;QACAjO,KAAAqO,eAAAE,aAAA;QACAvO,KAAAqO,eAAAH,SAAAC,OAAA;QACAnO,KAAAqO,eAAAH,SAAAE,QAAA;;MAIFnB,YAAAtM,UAAAkO,sBAAA,SAAAC,OAAAhO;QACE,IAAAiO,IAAA,MAAAD,QAAA;QACA9O,KAAAqO,eAAAE,WAAAQ,KAAAjO;;MAGFmM,YAAAtM,UAAAqO,mBAAA;QACEhP,KAAA4O;QACA5O,KAAAmN,eAAA;QACAnN,KAAAqN,qBAAA;QACArN,KAAAsN,sBAAA;QACAtN,KAAA2N,cAAAM,WAAA;QACAjO,KAAA2N,cAAAO,SAAAC,OAAA;QACAnO,KAAA2N,cAAAO,SAAAE,QAAA;;MAGFnB,YAAAtM,UAAAsO,YAAA,SAAAC;QACElP,KAAAkN,SAAArF,WAAAgB,UAAAsG,WAAAD;;MAGFjC,YAAAtM,UAAAyO,eAAA,SAAAtO;QACEd,KAAAqO,eAAAC,WAAAxN;;MAIFmM,YAAAtM,UAAA6I,aAAA,SAAA0F;QACElP,KAAAgK,UAAAkF;;MAGFjC,YAAAtM,UAAA+I,YAAA,SAAAwF;QACElP,KAAA2J,SAAAuF;;MAGFjC,YAAAtM,UAAAiJ,cAAA,SAAAsF;QACElP,KAAA6J,WAAAqF;;MAIFjC,YAAAtM,UAAAmJ,mBAAA,SAAAoF;QACElP,KAAA+J,iBAAAmF;;MAQFjC,YAAAtM,UAAAyJ,iBAAA,SAAAtJ;aAAe,MAAAA,QAAAA,MAAA;QACb,IAAAuO,MAAA;QACA,IAAAC,SAAA;UACE3F,QAAA3J,KAAA2J;UACAvC,MAAApH,KAAA6J;UACA0F,UAAAzO;UACAoK,eAAAlL,KAAA+J;;QAEF/J,KAAAmL,cAAAkE,KAAA,QAAAC;;MAIKrC,YAAAtM,UAAA0K,kBAAA;QACL;;MAKK4B,YAAAtM,UAAAsJ,mBAAA;QACL;;MAUKgD,YAAAtM,UAAA6O,mBAAA,SAAAC,WAAArI,MAAAsI;QAKL,IAAAvJ,IAAA;UACEwD,QAAA3J,KAAA2J;UACAF,UAAAzJ,KAAAgK;UACAkB,eAAAlL,KAAA+J;UACA0F,WAAAA;UACArI,MAAAA;UACAsI,QAAA3O,OAAA2O;UACAC,WAAA3P,KAAA4P;;QAEF,IAAAC,aAAA;UACE7C,QAAA;UACA8C,OAAA;YACET,KAAA;YACAU,QAAA;YACAT,QAAAnJ;;;QAGJhF,QAAAC,IAAA,qCAAAkI,KAAA0G,UAAAH;QAGAjD,OAAAqD,QACErD,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;QAEFjD,OAAAuD,UACEvD,OAAAuD,OAAAC,gBAAAF,QAAAG,YAAA/G,KAAA0G,UAAAH;;MAMJ5C,YAAAtM,UAAAiP,UAAA;QACE,IAAAU,OAAAC,KAAAC,MAAAC;QACAH,OAAAA,KAAAI,OAAA,GAAA;QACA,OAAAJ;;MAKFrD,YAAAtM,UAAA2J,mBAAA,SAAA0C,QAAA2D,OAAAb;aAAyB,MAAAa,UAAAA,QAAA;aAAc,MAAAb,UAAAA,QAAA;QACrC,IAAAD,aAAA;UACE7C,QAAA;UACA8C,OAAA;YACEc,eAAA5D;YACA6D,cAAA;cACEC,WAAAH,QAAA3Q,KAAAgK,UAAAhK,KAAAkN;cACA6D,aAAAjB;;;;QAIN3O,QAAAC,IAAA,qCAAAkI,KAAA0G,UAAAH;QAGAjD,OAAAqD,QACErD,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;QAEFjD,OAAAuD,UACEvD,OAAAuD,OAAAC,gBAAAF,QAAAG,YAAA/G,KAAA0G,UAAAH;;MAOJ5C,YAAAtM,UAAAyK,iBAAA,SAAA2B,MAAAiE;aAAqB,MAAAA,SAAAA,OAAA;QACnB,IAAAnB,aAAAmB,OACE;UACIhE,QAAA;UACA8C,OAAA;YACEmB,WAAAlE;;YAGN;UACIC,QAAA;UACA8C,OAAA;;QAEN3O,QAAAC,IAAA,mCAAAkI,KAAA0G,UAAAH;QACAjD,OAAAqD,QACErD,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;QAEFjD,OAAAuD,UACEvD,OAAAuD,OAAAC,gBAAAF,QAAAG,YAAA/G,KAAA0G,UAAAH;;MAOJ5C,YAAAtM,UAAAuQ,oBAAA,SAAAP;aAAkB,MAAAA,UAAAA,QAAA;QAChB,IAAAd,aAAA;UACE7C,QAAA;UACA8C,OAAAa,QAAA3Q,KAAA2N,gBAAA3N,KAAAqO;;QAEFlN,QAAAC,IAAA,sCAAAkI,KAAA0G,UAAAH;QAGAjD,OAAAqD,QACErD,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;QAEFjD,OAAAuD,UACEvD,OAAAuD,OAAAC,gBAAAF,QAAAG,YAAA/G,KAAA0G,UAAAH;;MAOJ5C,YAAAtM,UAAAwQ,kBAAA,SAAAC,KAAAC;QACE,IAAAxB,aAAA;UACE7C,QAAA;UACA8C,OAAA;YACE/L,MAAA;YACAuM,MAAAc,IAAAX;YACAa,cAAAD;;;QAGJlQ,QAAAC,IAAA,oCAAAkI,KAAA0G,UAAAH;QACAjD,OAAAqD,QACErD,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;QAEFjD,OAAAuD,UACEvD,OAAAuD,OAAAC,gBAAAF,QAAAG,YAAA/G,KAAA0G,UAAAH;;MAMJ5C,YAAAtM,UAAA4Q,sBAAA;QACE,IAAA1B,aAAA;UACE7C,QAAA;;QAEF7L,QAAAC,IAAA,wCAAAkI,KAAA0G,UAAAH;QAGAjD,OAAAqD,QACErD,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;QAEFjD,OAAAuD,UACEvD,OAAAuD,OAAAC,gBAAAF,QAAAG,YAAA/G,KAAA0G,UAAAH;;MAOJ5C,YAAAtM,UAAA6Q,kBAAA,SAAAH,MAAAI;QACE,IAAA5B,aAAA;UACE7C,QAAA;UACA8C,OAAA;YACEwB,cAAAD;YACAI,MAAAA;;;QAGJtQ,QAAAC,IAAA,oCAAAkI,KAAA0G,UAAAH;QACAjD,OAAAqD,QACErD,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;QAGFjD,OAAAuD,UACEvD,OAAAuD,OAAAC,gBAAAF,QAAAG,YAAA/G,KAAA0G,UAAAH;;MAOJ5C,YAAAtM,UAAA+Q,aAAA;QACEvP,GAAAf,IAAA;QACA,OAAApB,KAAA0N;;MAGFT,YAAAtM,UAAAmI,mBAAA,SAAAiH,QAAA4B,KAAAC;aAA8B,MAAAA,QAAAA,MAAA;QAC5B,IAAAnM,QAAA;QACA,QAAAsK;SACE,KAAA;UACEtK,QAAAoM,OAAAD;;QAGJ,IAAA/B,aAAA;UACE7C,QAAA;UACA8C,OAAA;YACEC,QAAAA;YACA4B,KAAAA;YACAlM,OAAAA,MAAAgL;;;QAGJtP,QAAAC,IAAA,qCAAAkI,KAAA0G,UAAAH;QAGA,IAAAjD,OAAAqD,MAAA;UACE,IAAA1H,WAAAqE,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;UACA,OAAAtH;;QAEF,IAAAqE,OAAAuD,QAAA;UAEE,IAAA2B,aAAAlF,OAAAmF,OAAA,WAAAzI,KAAA0G,UAAAH;UACA1O,QAAAC,IAAA0Q;UACA,OAAAA;;;MAIJ7E,YAAAtM,UAAAwK,gBAAA,SAAA6G,KAAAjC,QAAAT;QACE,IAAAO,aAAA;UACE7C,QAAA;UACA8C,OAAA;YACET,KAAA2C;YACAjC,QAAAA;YACAT,QAAAA;YACA2C,QAAAjS,KAAAgK;;;QAGJ7I,QAAAC,IAAA,qCAAAkI,KAAA0G,UAAAH;QAGAjD,OAAAqD,QACErD,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;QAEFjD,OAAAuD,UACEvD,OAAAuD,OAAAC,gBAAAF,QAAAG,YAAA/G,KAAA0G,UAAAH;;MAMJ5C,YAAAtM,UAAAuI,kBAAA;QACE,IAAA2G,aAAA;UACE7C,QAAA;UACA8C,OAAA;YACE/L,MAAA;YACA+L,OAAA;;;QAGJ3O,QAAAC,IAAA,oCAAAkI,KAAA0G,UAAAH;QACAjD,OAAAqD,QACErD,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;QAEFjD,OAAAuD,UACEvD,OAAAuD,OAAAC,gBAAAF,QAAAG,YAAA/G,KAAA0G,UAAAH;;MAMJ5C,YAAAtM,UAAAyI,cAAA;QACE,IAAAyG,aAAA;UACE7C,QAAA;;QAEF7L,QAAAC,IAAA,gCAAAkI,KAAA0G,UAAAH;QACA,IAAAjD,OAAAqD,MAAA;UACE,IAAAiC,WAAAtF,OAAAqD,KAAAC,QAAA5G,KAAA0G,UAAAH;UACA1O,QAAAC,IAAA8Q;UACA,OAAAA;;QAEF,IAAAtF,OAAAuD,QAAA;UAEE,IAAAgC,aAAAvF,OAAAmF,OAAA,WAAAzI,KAAA0G,UAAAH;UACA1O,QAAAC,IAAA,0BAAA+Q;UACA,OAAAA;;;MA3bGlF,YAAAuB,YAAA;MA8bT,OAAAvB;KA/bA;IAmcAL,OAAAwF,YAAA,SAAAC;MACE,mBAAAA,KAAArF,SACEJ,OAAA0F,SAAAC,OAAAC,QAAA,sBAEA5F,OAAA0F,SAAAC,OAAAC,QAAA,kBAAAH;MAGF,OAAA;;IAGFtQ,QAAAC,UAAAiL,YAAAhL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC7cA,IAAA2F,SAAAF,QAAA;IAEM,IAAAxF,KAAAC,GAAAC,YAAAC,UAAAH,GAAAG,SAAAC,WAAAJ,GAAAI;IAEN,IAAAmQ,OAAA,SAAAjQ;MAAmBC,UAAAgQ,MAAAjQ;MAAnB,SAAAiQ;QAAA,IAAA/P,QAAA,SAAAF,UAAAA,OAAAG,MAAA3C,MAAA4C,cAAA5C;QAEE0C,MAAAgQ,aAAA;QAGAhQ,MAAAiQ,WAAA;QAGAjQ,MAAAkQ,aAAA;QASAlQ,MAAAmQ,aAAA;QAEAnQ,MAAA6H,YAAA;QACA7H,MAAAoQ,aAAA;QAEApQ,MAAAqQ,YAAA;QACArQ,MAAAsQ,cAAA;QACAtQ,MAAAuQ,cAAA;QACAvQ,MAAAwQ,cAAA;QACAxQ,MAAAyQ,aAAA;QACAzQ,MAAA0Q,gBAAA;;;MA3BIzL,SAAA8K;MAWUA,KAAAxQ,cAAA;QACZ,QAAAjC,KAAAwG,aACExG,KAAAwG,WAAA,IAAAmB;QAEF,OAAA3H,KAAAwG;;MAcFiM,KAAA9R,UAAAgD,SAAA;QACExB,GAAAf,IAAApB,KAAA0S;;MAGFD,KAAA9R,UAAA0S,WAAA,SAAA5O,MAAA6O,UAAAC;QAAA,IAAA7Q,QAAA1C;QACEmC,GAAAqJ,OAAAC,QAAAzL,KAAA8S,YAAA3Q,GAAAwK,QAAA,SAAAjB,KAAAiB;UACE,IAAAjB,KACEvK,QAAAC,IAAAsK,KAAA,yDACK;YACL,IAAA8H,QAAArR,GAAAwI,YAAAgC;YACA,IAAA8G,YAAA;cACEH,YAAAA,SAAAI,KAAAH,KAAAD;;YAEFE,MAAAzL,GAAA,SAAA0L,WAAAF;YACA9O,KAAAmG,SAAA4I,OAAA;YACAA,MAAAzP,OAAA;YACArB,MAAA6H,YAAAiJ;;;;MAKNf,KAAA9R,UAAAgT,gBAAA,SAAAlP,MAAA6O,UAAAC;QACE;;MAyBFd,KAAA9R,UAAAiT,eAAA;QACE5T,KAAAuK,aACEvK,KAAAuK,UAAAM,aAAA1I,GAAA0R,WAAA/P,KAAA;;MAIJ2O,KAAA9R,UAAAmT,eAAA;QACE9T,KAAAuK,aACEvK,KAAAuK,UAAAM,aAAA1I,GAAA0R,WAAA/P,KAAA;;MAIJ2O,KAAA9R,UAAAoT,gBAAA,SAAAtP,MAAA6O,UAAAC;QAAA,IAAA7Q,QAAA1C;QACEmC,GAAAqJ,OAAAC,QAAAzL,KAAA+S,WAAA5Q,GAAAwK,QAAA,SAAAjB,KAAAiB;UACE,IAAAjB,KACEvK,QAAAC,IAAAsK,KAAA,6DACK;YACLhJ,MAAAmQ,aAAA1Q,GAAAwI,YAAAgC;YACAjK,MAAAsR,gBAAAV,UAAAC;YACA9O,KAAAmG,SAAAlI,MAAAmQ,YAAA;;;;MAKNJ,KAAA9R,UAAAqT,kBAAA,SAAAC,SAAAV;QAAA,IAAA7Q,QAAA1C;QACE,IAAAkU,MAAAlU,KAAA6S,WAAA9G,eAAA;QACA,IAAA0H,YAAA;UACE/Q,MAAAmQ,WAAAnO,SAAA;UACAuP,WAAAA,QAAAP,KAAAH,KAAAU;;QAEFC,IAAAnM,GAAA,SAAA0L,WAAAF;;MAGFd,KAAA9R,UAAAwT,cAAA;QAAA,IAAAzR,QAAA1C;QACE,OAAA,IAAAiE,QAAA,SAAAC,SAAAkQ;UACEjS,GAAAqJ,OAAAC,QAAA/I,MAAA0Q,eAAAjR,GAAAwK,QAAA,SAAAjB,KAAAiB;YACE,IAAAjB,KAAA;cACE0I,OAAA1I;cACAvK,QAAAC,IAAAsK,KAAA;mBAMAxH,QAAAyI;;;;MAUR8F,KAAA9R,UAAA0T,qBAAA,SAAA5P,MAAA6P;aAAkC,MAAAA,OAAAA,KAAA;QAChCnS,GAAAqJ,OAAAC,QAAAzL,KAAAiT,aAAA9Q,GAAAwK,QAAA,SAAAjB,KAAAiB;UACE,IAAAjB,KACEvK,QAAAC,IAAAsK,KAAA,0DACK;YACL,IAAA6I,OAAApS,GAAAwI,YAAAgC;YACAlI,KAAAmC,OAAAgE,SAAA2J,MAAA;YACAA,KAAAxQ,OAAA;YACA,IAAAyQ,QAAAD,KAAAxI,eAAA,aAAAlB,aAAAhI,GAAAwE;YACAmN,MAAAC;YACAD,MAAArQ,aAAA,GAAA,aAAA;;;;;MA1INgD,WAAA,EADC7E,SAAAH,GAAAwK,WAC4B8F,KAAA9R,WAAA,mBAAA;MAG7BwG,WAAA,EADC7E,SAAAH,GAAAwK,WAC0B8F,KAAA9R,WAAA,iBAAA;MAG3BwG,WAAA,EADC7E,SAAAH,GAAAwK,WAC4B8F,KAAA9R,WAAA,mBAAA;MARzB8R,OAAA9K,SAAAR,WAAA,EADL9E,WACKoQ;MAuJN,OAAAA;KAvJA,CAAAtQ,GAAAqF;IAwJAzF,QAAAC,UAAAyQ,KAAAxQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC9JA,IAAAyS,iBAAAhN,QAAA;IAEM,IAAAxF,KAAAC,GAAAC,YAAAC,UAAAH,GAAAG,SAAAC,WAAAJ,GAAAI;IAGN,IAAAqS,YAAA,SAAAnS;MAAuCC,UAAAkS,WAAAnS;MAAvC,SAAAmS;QAAA,IAAAjS,QAAA,SAAAF,UAAAA,OAAAG,MAAA3C,MAAA4C,cAAA5C;QAGI0C,MAAA6R,OAAA;;;MAMAI,UAAAhU,UAAAqE,QAAA;MAIM2P,UAAAhU,UAAAiU,aAAA,SAAA9T;;;;YACF,OAAA,EAAA,GAAA,IAAAmD,QAAA,SAAAC;cACI,KAAA,IAAAwB,IAAA,GAAAA,IAAAhD,MAAA6R,KAAA9S,QAAAiE,KAEQhD,MAAA6R,KAAA7O,GAAAhB,SADJgB,IAAA5E;cAOJ4B,MAAA+B,KAAAoG,aAAA1I,GAAA0R,WAAA/P;cACApB,MAAAmS,eAAA/T;cACA4B,MAAA4B,aAAA;gBACIJ;iBACJ;;;;;MAIRyQ,UAAAhU,UAAAmU,QAAA;QACI,KAAA,IAAApP,IAAA,GAAAA,IAAA1F,KAAAuU,KAAA9S,QAAAiE,KACI1F,KAAAuU,KAAA7O,GAAAhB,SAAA;;MAIRiQ,UAAAhU,UAAAkU,iBAAA,SAAA/T;QACI4T,eAAA1S,QAAA+S,WAAA,aAAA,mBAAAjU;;MAnCJqG,WAAA,EADC7E,SAAAH,GAAAoF,SACoBoN,UAAAhU,WAAA,aAAA;MAHJgU,YAAAxN,WAAA,EADpB9E,WACoBsS;MA0CrB,OAAAA;KA1CA,CAAAxS,GAAAqF;IAAqBzF,QAAAC,UAAA2S;;;;;;;;;;;;;ICGrB,SAAAK,mBAAAR,OAAAS,WAAAjR,MAAAkR;WAGE,MAAAlR,SAAAA,OAAA;WACA,MAAAkR,eAAAA,aAAA;MAEA,OAAA,IAAAjR,QAAA,SAAAC;QACEF,QACEwQ,MAAA5Q,oBAAAM;QAEFsQ,MAAArQ,aAAA+Q,YAAAD,WAAAjR;;;IAVJjC,QAAAiT,qBAAAA;IAcajT,QAAA8G,YAAA;MAEXsM,eAAA;MACAhG,UAAA;MACA3G,aAAA;;IAQF,SAAA4M,gBAAA/F;MACE,OAAA,IAAApL,QAAA,SAAAC;QACE/B,GAAAqJ,OAAAC,QAAA4D,KAAAlN,GAAAkT,aAAA,SAAA3J,KAAA4J;UACE5J,MACEvK,QAAAC,IAAAsK,KAAA,2DAEAxH,QAAAoR;;;;IANRvT,QAAAqT,kBAAAA;IAmBC,SAAAG,qBAAAC,MAAAF,QAAAG;MAKCtT,GAAAqJ,OAAAC,QAAA+J,MAAArT,GAAAkT,aAAA,SAAAK,OAAA7S;QAII,IAAA6S,OAAA;UACEvT,GAAAuT,MAAAA;UACAD,YAAAA,SAAA;UACA;;QAEFH,OAAAK,cAAA9S;QACA4S,YAAAA,SAAA5S;;;IAfLd,QAAAwT,uBAAAA;IA0BA,SAAAK,yBAAAC;MACC,OAAAC,kBAAAD,cAAAhT,GAAAkT;;IADDhU,QAAA6T,2BAAAA;IAUA,SAAAI,gBAAAC;MAGC,OAAAH,kBAAAG,WAAA9T,GAAAwK;;IAHD5K,QAAAiU,kBAAAA;IAWA,SAAAF,kBAAAG,WAAAC;WAEC,MAAAA,cAAAA,YAAA/T,GAAAgU;MAEA,OAAA,IAAAlS,QAAA,SAAAC,SAAAkQ;QACEjS,GAAAqJ,OAAAC,QAAAwK,WAAAC,WAAA,SAAAR,OAAAU;UACEV,QACEtB,OAAAsB,SAEAxR,QAAAkS;;SAGNC,KAAA,SAAAD;QAAA,OAAAA;SAAA,SAAA1K;QAII,OAAAzH,QAAAmQ,OAAA1I,IAAA4K;;;IAhBLvU,QAAA+T,oBAAAA;;;;;;;;;;;;;;;ICnGK,IAAA5T,KAAAC,GAAAC,YAAAC,UAAAH,GAAAG,SAAAC,WAAAJ,GAAAI;IAKN,IAAAiU,iBAAA;MAKI,SAAAA;QACI,IAAA5E,MAAA/O,UAAA;QACA5C,KAAAwW,OAAA,MAAA7E,MAAA;QACA3R,KAAAyW,SAAA;QACAzW,KAAA0W;;MAGJH,eAAA5V,UAAAgW,eAAA,SAAAC;QACI;UACI,OAAAA,SACIA,MAAAJ,OAAAI,MAAAJ,OAAAI,MAAA7S,OAAA6S,MAAA7S,OAAA,UAAA0M,aAEA;UAEN,OAAA3D;UACE,OAAA;;;MAIRyJ,eAAA5V,UAAAkW,SAAA,SAAAC,WAAAC,SAAAH,OAAAI;QACI,IAAA,mBAAAF,aAAA,sBAAAC,SAAA;UACI5U,GAAAf,IAAApB,KAAAwW,MAAA,yBAAAM,YAAA,aAAAC;UACA;;QAEJ,IAAAE,WAAA;UAAAF,SAAAA;UAAAH,OAAAA;UAAAI,QAAAA;;QACA,IAAAE,YAAAlX,KAAAyW,OAAAK,cAAA;QACA,KAAA,IAAApR,IAAA,GAAAA,IAAAwR,UAAAzV,QAAAiE,KAAA;UACI,IAAAyR,MAAAD,UAAAxR;UAEA,IAAAyR,IAAAP,SAAAA,UAAAO,IAAAJ,WAAAA,WAAAI,IAAAJ,QAAAtG,cAAAsG,QAAAtG,aAAA;YACItO,GAAAf,IAAApB,KAAAwW,MAAA,0CAAAM,YAAA,eAAAC,QAAAhT;YACA;;;QAGRmT,UAAAtR,KAAAqR;QACAjX,KAAAyW,OAAAK,aAAAI;;MAGJX,eAAA5V,UAAAyW,SAAA,SAAAN,WAAAC,SAAAH;QACI,IAAA,mBAAAE,WAAA;UACI3U,GAAAf,IAAA,uBAAA0V;UACA9W,KAAAqX,YAAAzU,UAAA;UACA;;QAEJ,IAAA,mBAAAkU,aAAA,qBAAAC,SAAA;UACI5U,GAAAf,IAAApB,KAAAwW,MAAA,uCAAAM,YAAA,WAAAF,MAAAJ;UACA;;QAGJ,IAAAU,YAAAlX,KAAAyW,OAAAK;QACA,KAAAI,aAAA,MAAAA,UAAAzV,QACI;QAEJmV,QAAAA,SAAA5W;QACA,IAAAsX,OAAA;QACA,KAAA,IAAA5R,IAAA,GAAAA,IAAAwR,UAAAzV,UAAAiE,GAAA;UACI,IAAAuR,WAAAC,UAAAxR;UACAuR,SAAAL,SAAAA,SAAAK,SAAAF,WAAAA,WAAAE,SAAAF,QAAAtG,cAAAsG,QAAAtG,eACI6G,MAAA5R;;QAGR4R,OAAA,KACItX,KAAAyW,OAAAK,WAAAS,OAAAD,KAAA;;MAURf,eAAA5V,UAAA6R,UAAA,SAAAsE,WAAAxH;QACI,KAAAtP,KAAAwX,WAAuB;QACvB,IAAA,mBAAAV,WAAA;UACI3U,GAAAf,IAAApB,KAAAwW,MAAA,8BAAAM;UACA;;QAEJ,IAAAW,OAAAlX,OAAAkX,KAAAzX,KAAAyW;QACA,IAAAU,MAAAnX,KAAAyW,OAAAK;QACA,KAAAK,KACI;QAKJ,IAAAO,OAAAC,MAAAhX,UAAAgF,MAAAJ,KAAA3C,WAAA;QACA,IAAAgV,OAAA5X;QAEA,KAAA,IAAA0F,IAAA,GAAAA,IAAAyR,IAAA1V,QAAAiE,KAAA;UACI,IAAAmS,KAAAV,IAAAzR;UACA,IAAAmS,GAAAjB,SAAAiB,GAAAjB,iBAAAzU,GAAAqF,cAAArF,GAAA2V,QAAAD,GAAAjB,MAAAnS,OACI;UAEJoT,GAAAd,QAAApU,MAAAkV,GAAAjB,OAAAc;UACAG,GAAAb,UACI7U,GAAAf,IAAAwW,KAAApB,MAAA,oCAAAM;;QAIRK,MAAAnX,KAAAyW,OAAAK;QACA,KAAAK,KACI;QAEJnX,KAAAyW,OAAAK,aAAAK,IAAAY,OAAA,SAAAF;UACI,IAAAA,GAAAjB,SAAAiB,GAAAjB,iBAAAzU,GAAAqF,cAAArF,GAAA2V,QAAAD,GAAAjB,MAAAnS,OACI,OAAA;UAEJ,QAAAoT,GAAAb;;;MAIRT,eAAA5V,UAAA0W,cAAA,SAAAT;QACI,IAAAoB,aAAA;QACA,KAAA,IAAAC,OAAAjY,KAAAyW,QAAA;UACI,IAAAU,MAAAnX,KAAAyW,OAAAwB;UACAd,QACInX,KAAAyW,OAAAwB,OAAAd,IAAAY,OAAA,SAAAF;YACI,IAAAA,GAAAjB,SAAAA,OACI,OAAA;YAEAoB,aAAAA,aAAAC,MAAA;YACA,OAAA;;;;MAMpB1B,eAAA5V,UAAA6J,UAAA;QACIrI,GAAAf,IAAApB,KAAAwW,MAAA;QACAxW,KAAAyW,SAAA;;MAEJF,eAAA5V,UAAAuX,OAAA;QACI/V,GAAAf,IAAApB,KAAAwW,MAAA;QACAxW,KAAAwX,YAAA;;MAEJjB,eAAA5V,UAAA+V,SAAA;QACIvU,GAAAf,IAAApB,KAAAwW,MAAA;QACAxW,KAAAwX,YAAA;;MA/IajB,iBAAApP,WAAA,EAHpB9E,WAGoBkU;MAiJrB,OAAAA;KAjJA;IAAqBxU,QAAAC,UAAAuU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICLf,IAAArU,KAAAC,GAAAC,YAAAC,UAAAH,GAAAG,SAAAC,WAAAJ,GAAAI;IAGN,IAAA6V,WAAA,SAAA3V;MAAsCC,UAAA0V,UAAA3V;MAAtC,SAAA2V;QAAA,IAAAzV,QAAA,SAAAF,UAAAA,OAAAG,MAAA3C,MAAA4C,cAAA5C;QAGI0C,MAAA0V,aAAA;QAGA1V,MAAA2V,YAAA;QAGA3V,MAAA4V,WAAA;;;MAKCH,SAAAxX,UAAAgD,SAAA;MAIDwU,SAAAxX,UAAA4X,cAAA,SAAAnH;QAAA,IAAA1O,QAAA1C;QACImC,GAAAf,IAAA,yBAAAgQ;QACA,IAAAoH,OAAAxY,KAAAoY,WAAAvN,aAAA1I,GAAA0R;QACA,IAAA4E,OAAAD,KAAAE,eAAAF,KAAAG;QACA,IAAAF,MAAA;UACIA,KAAAG,QAAA,KAAAxH;UACAoH,KAAA1U;;QAEJ,IAAA+U,IAAA;QACA7Y,KAAA8Y,SAAA;UACIpW,MAAA2V,UAAAQ,GAAAhO,aAAA1I,GAAA0R,WAAA/P;UACApB,MAAA4V,SAAAO,GAAAhO,aAAA1I,GAAA0R,WAAA/P;UACA+U,KAAA;WACJ,IAAA,GAAA;;MAIJV,SAAAxX,UAAAqE,QAAA;MAhCAmC,WAAA,EADC7E,SAAAH,GAAAoF,SAC0B4Q,SAAAxX,WAAA,mBAAA;MAG3BwG,WAAA,EADC7E,SAAA;QAAA8E,MAAA,EAAAjF,GAAAoF;QAAAD,aAAA;YACyB6Q,SAAAxX,WAAA,kBAAA;MAG1BwG,WAAA,EADC7E,SAAA;QAAA8E,MAAA,EAAAjF,GAAAoF;QAAAD,aAAA;YACwB6Q,SAAAxX,WAAA,iBAAA;MATRwX,WAAAhR,WAAA,EADpB9E,WACoB8V;MAwCrB,OAAAA;KAxCA,CAAAhW,GAAAqF;IAAqBzF,QAAAC,UAAAmW","sourcesContent":["class GameData {\n  /** 配置游戏-顺序加载的路径 */\n  node_path = [\n    {\n      nodePath: \"game_one\",\n      questionNumber:4\n    },\n  ];\n\n  record_num: string = \"\";\n  totalStar_num: number = 0;\n  isFrist: boolean = true;\n\n  private static _Instance: GameData;\n\n  public static get getInstance(): GameData {\n    if (!this._Instance) {\n      this._Instance = new GameData();\n    }\n    return this._Instance;\n  }\n\n  getStarNum() {\n    return this.totalStar_num;\n  }\n\n  setStarNum(num: any) {\n    this.totalStar_num = Number(num);\n  }\n\n  addStarNum(num) {\n    this.totalStar_num += num;\n  }\n\n  setIsFirst(able: boolean) {\n    console.log(\"setIsFirst ================\" + able);\n    this.isFrist = able;\n  }\n\n  getIsFirst() {\n    console.log(\"getIsFirst ================\" + this.isFrist);\n    return this.isFrist;\n  }\n\n  getNodePath(page) {\n    if (this.node_path[page].nodePath) {\n      return this.node_path[page].nodePath;\n    } else {\n      return this.node_path[0].nodePath;\n    }\n  }\n\n  getQuizNumber() {\n    return this.node_path.length;\n  }\n\n  /** 得到单个quiz的题目数 */\n  getQuestionNumber(page) {\n    if (this.node_path[page].questionNumber) {\n      return this.node_path[page].questionNumber;\n    }\n    return 0;\n  }\n\n  /** 游戏整个quiz的题目数 */\n  getTotalQuestionNumber() {\n    let num = this.node_path.reduce((pre, cur) => {\n      return (pre += cur.questionNumber);\n    }, 0);\n    return num;\n  }\n}\nexport default GameData.getInstance;\n","// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport Main from \"../Main\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class HandEn extends cc.Component {\n\n    @property({ type: sp.Skeleton, displayName: '手动画' })\n    sp: sp.Skeleton = null\n\n    // private target: cc.Node = null\n\n    @property({ type: cc.Node, displayName: '手' })\n    cursor: cc.Node = null\n\n\n    @property({ type: cc.Node, displayName: 'Mask' })\n    mask: cc.Node = null\n\n    @property({ type: cc.Node, displayName: 'Bg' })\n    bg: cc.Node = null\n\n    tweens: cc.Tween<cc.Node>[] = []\n    /**\n     * 回调事件\n     */\n    // onCompleted: () => void = null\n\n    onLoad() {\n        this.sp.setCompleteListener(() => {\n            if (this.currResolve) {\n                const cb = this.currResolve\n                cb()\n            }\n        })\n    }\n\n    private currResolve: Function = null\n    async play(name: string, loop = false) {\n        return new Promise<void>((resolve) => {\n            this.sp.setAnimation(0, name, loop)\n            this.currResolve = resolve\n        })\n    }\n\n    async sleep(seconds: number) {\n        return new Promise<void>(resolve => {\n            this.scheduleOnce(() => {\n                resolve()\n            }, seconds)\n        });\n    }\n\n    /**\n     * 播放点击\n     */\n    async playClick() {\n        this.fadeIn()\n        this.node.active = true\n        this.cursor.rotation = 0\n        // this.sp.setAnimation(0, 'dian', false)\n        await this.play('anxia')\n        await this.sleep(0.1)\n        await this.play('taiqi')\n    }\n\n\n\n    private fadeIn() {\n        cc.tween(this.bg).to(this.move_duration, { opacity: 255 }, { easing: 'sineOut' }).start()\n    }\n\n    async move(from: cc.Vec2 | cc.Node, to: cc.Vec2 | cc.Node, duration: number) {\n        this.cursor.x = from.x\n        this.cursor.y = from.y\n        return new Promise<void>(async resolve => {\n            let tw = cc.tween(this.cursor)\n                .to(duration, { x: to.x, y: to.y }, { easing: 'sineInOut' })\n                .call(() => {\n                    this.tweens.forEach((value, i) => {\n                        if (value == tw) {\n                            this.tweens.slice(i)\n                            return\n                        }\n                    })\n                    resolve()\n                })\n                .start()\n            this.tweens.push(tw)\n        })\n    }\n\n    isLoop = false\n    times = 1\n\n    from = null\n    to = null\n\n    async playDragTo(from: cc.Vec2 | cc.Node, to: cc.Vec2 | cc.Node, loop: boolean = false, times: number = 1) {\n        this.fadeIn()\n        this.node.active = true\n        this.isLoop = loop\n        this.times = times\n        if (this.times < 0) {\n            this.times = 1\n        }\n        this.cursor.x = from.x\n        this.cursor.y = from.y\n        this.from = from\n        this.to = to\n        return new Promise<void>(async resolve => {\n            // let needLoop = () => {\n            //     if (this.isLoop) {\n            //         return true\n            //     } else {\n            //         if (this.times > 0) {\n            //             this.times--\n            //             if (this.times >= 0) {\n            //                 return true\n            //             } else {\n            //                 return false\n            //             }\n            //         }\n            //     }\n            // }\n            // while (needLoop()) {\n            //     await this.move(this.cursor, from, 0.5)\n            //     await this.play('anxia')\n            //     await this.sleep(0.2)\n            //     await this.move(from, to, 1)\n            //     await this.play('taiqi')\n            //     await this.sleep(0.5)\n            // }\n            this.needPlayDrag = true\n            this.guiding = true\n            this.needHide = false\n            resolve()\n        })\n    }\n\n    private needPlayDrag = false\n    private needHide = false\n    private guiding = false\n\n    async update() {\n        if (this.needPlayDrag && this.guiding && !this.needHide) {\n            this.needPlayDrag = false\n            console.log('play dragging ......>>>')\n            await this.move(this.cursor, this.from, 0.5)\n            await this.play('anxia')\n            await this.sleep(0.2)\n            await this.move(this.from, this.to, 1)\n            await this.play('taiqi')\n            await this.sleep(0.5)\n            if (!this.guiding) {\n                this.hide()\n            } else {\n                this.needPlayDrag = true\n            }\n        }\n\n        if (this.needHide) {\n            this.needHide = false\n            this.isLoop = false\n            this.tweens.forEach((value, i) => {\n                value.stop()\n            })\n            this.tweens = []\n            this.node.active = false\n        }\n    }\n\n    move_duration = 0.4\n    /**\n     * 隐藏\n     */\n    hide() {\n        // this.target = null\n        // let fade = cc.fadeOut(this.move_duration).easing(cc.easeSineOut())\n        // this.bg.runAction(fade)\n        this.guiding = false\n        this.needHide = true\n    }\n\n    get isShowing() {\n        return this.node.active\n    }\n\n    stop() {\n    }\n\n    /**\n     * 设置目标区域\n     * @param x \n     * @param y \n     * @param w \n     * @param h \n     */\n    setTargetBound(x: number, y: number, w: number, h: number) {\n        this.mask.width = w\n        this.mask.height = h\n        this.mask.x = x\n        this.mask.y = y\n        //bg坐标\n        const screenSize = cc.Canvas.instance.designResolution\n        this.bg.width = screenSize.width\n        this.bg.height = screenSize.height\n        this.bg.x = -this.mask.x\n        this.bg.y = -this.mask.y\n        this.cursor.x = this.mask.x\n        this.cursor.y = this.mask.y\n    }\n\n    /**\n     * 设置目标区域\n     * @param target \n     */\n    setTargetNode(target: cc.Node, parent: cc.Node) {\n        if (target == null) {\n            return\n        }\n        let worldPos = target.convertToWorldSpaceAR(cc.Vec2.ZERO)\n        this.mask.width = target.width\n        this.mask.height = target.height\n        let localPos = parent.convertToNodeSpaceAR(worldPos)\n        this.setTargetBound(localPos.x, localPos.y, target.width, target.height)\n    }\n\n}\n","const { ccclass, property } = cc._decorator;\nimport GameData from \"./GameData\";\nimport Util from \"./Util\";\nimport Tigo from \"./Tigo\";\nimport { gameState } from \"./constant\";\nimport NotifierCenter from \"./notifierCenter\";\n\ncc.game.on(cc.game.EVENT_GAME_INITED, () => {\n  // 关闭多点触控\n  cc.macro.ENABLE_MULTI_TOUCH = false;\n  console.log(\"关闭了多点触摸~\", cc.macro.ENABLE_MULTI_TOUCH);\n});\n\n@ccclass\nexport default class Main extends cc.Component {\n  @property(cc.Prefab)\n  menuPre: cc.Prefab = null;\n\n  menuItem: cc.Node = null;\n\n  node_nowShow: cc.Node = null;\n  page_num = 0;\n  // isL5 = false\n  Lesson_Sign = \"TCL5\";\n  page = \"page\";\n  star = \"star\";\n  record_num = \"record_num\";\n\n  isSecgame = 0; //新加属性 用于判断是否已经玩过最后一个游戏了\n  secKey = \"seckey\";\n\n  isTest = false;\n  onLoad() {\n    this.Lesson_Sign = gameState.Lesson_Sign;\n    let page = this.Lesson_Sign + this.page;\n    let star = this.Lesson_Sign + this.star;\n    let record_num = this.Lesson_Sign + this.record_num;\n    //重连后获取开口数\n    GameData.record_num = Tigo.callAppToStorage(\"GET\", record_num) || 0;\n\n    //获得金币数量\n    let num = Tigo.callAppToStorage(\"GET\", star) || 0;\n    //本地设置金币数量\n    GameData.setStarNum(num);\n    console.log(\"当前游戏开口数===========》\" + GameData.record_num);\n\n    //获取游戏进度\n    this.page_num = Tigo.callAppToStorage(\"GET\", page) || this.page_num;\n    console.log(\"当前游戏页数============》\" + this.page_num);\n    //获取通关tag,用于menu\n    let sgk = this.Lesson_Sign + this.secKey;\n    this.isSecgame = Tigo.callAppToStorage(\"GET\", sgk) || 0;\n    console.log(\"游戏 isSec ===\" + this.isSecgame);\n    //如果有地图页重新进入需要加载前一页地图\n    // if (this.page_num % 2 != 0 && this.isL5) {\n    //     this.page_num -= 1\n    // }\n\n    // this.loadPage(this.page_num)\n    // this.openMenu(); // 两个游戏用这个\n    this.openGame(0); // 一个游戏用这个\n    this.registerListener();\n    //通知app加载完成\n    Tigo.callAppToLoaded();\n    // this.testQuickBtn();\n  }\n\n  start() {\n    //获取用户信息 lessonId 课程ID  userId\n    var userData = Tigo.getBaseInfo();\n    if (userData) {\n      let ud = JSON.parse(userData);\n      Tigo.setClassId(ud.lessonId);\n      Tigo.setUserId(ud.userId);\n      Tigo.setModuleId(ud.moduleId);\n      Tigo.setLessonModelId(ud.lessonModuleId);\n      console.log(\n        \"lessonId == \" +\n        Tigo.classId +\n        \"  userId == \" +\n        Tigo.userId +\n        \"moduleId ==\" +\n        Tigo.moduleId +\n        \"lessonModuleId ==\" +\n        Tigo.lessonModuleId\n      );\n    }\n    Tigo.startGameCallApp();\n  }\n\n  registerListener() {\n    // // webframe.Notify.listen(\"chagePage\", this.chagePage, this, false);\n    // if (!window.webframe) {\n    //   window.webframe = {} as any\n    // }\n    // if (!window.webframe.Notify) {\n    //   window.webframe.Notify = new NotifierCenter()\n    // }\n    // window.webframe.Notify.listen(\"entryMenu\", this.entryMenu, this, false);\n  }\n\n  entryMenu(endtag) {\n    //游戏结束时调用的 打开menu 方法\n    this.page_num++;\n    if (this.page_num >= GameData.node_path.length - 1) {\n      Tigo.callAppToSpeed();\n    }\n    console.log(\"this.page_num ===\" + this.page_num);\n    console.log(\"GameData.node_path.length ===\" + GameData.node_path.length);\n    if (this.page_num >= GameData.node_path.length) {\n      let sgk = this.Lesson_Sign + this.secKey;\n      Tigo.callAppToStorage(\"PUT\", sgk, 1); //玩过最后一个游戏了\n      this.isSecgame = 1;\n      if (endtag) {\n        console.log(\"into all game end ani\");\n        this.gameAllend();\n        return;\n      }\n      this.page_num = GameData.node_path.length - 1;\n    }\n    ////////////////////////////////////////////////\n    //之前的chagepage时要设置的 属性\n    let page = this.Lesson_Sign + this.page;\n    let star = this.Lesson_Sign + this.star;\n    let record_num = this.Lesson_Sign + this.record_num;\n    Tigo.callAppToStorage(\"PUT\", page, this.page_num);\n    Tigo.callAppToAnalyse(\"end\", false);\n    Tigo.callAppToStorage(\"PUT\", star, GameData.totalStar_num);\n    Tigo.callAppToStorage(\"PUT\", record_num, Number(GameData.record_num));\n    ////////////////////////////////////////////////\n\n    if (this.node_nowShow) {\n      Util.voiceNode = null;\n      this.node_nowShow.destroy();\n    }\n    // cc.audioEngine.stopAllEffects();\n\n    this.openMenu(true);\n  }\n\n  openMenu(isGoon: boolean = false) {\n    this.menuItem = cc.instantiate(this.menuPre);\n    this.node.addChild(this.menuItem);\n    this.menuItem\n      .getComponent(\"gameMenu\")\n      .initMenu(this.page_num, this.isSecgame, isGoon, this);\n  }\n\n  openGame(gid) {\n    //由菜单点击 进入游戏\n    if (this.menuItem) {\n      this.menuItem.destroy(); //销毁menu\n    }\n    // this.loadPage(gid); //调用已有laodpage 方法\n  }\n\n  gameAllend() {\n    //先前chagepage中的数据\n    let star = this.Lesson_Sign + this.star;\n    console.log(\"本部分一共获得金币 === \" + GameData.totalStar_num);\n    console.log(\"本部分一共开口 === \" + GameData.record_num + \"次\");\n    var h = {\n      userId: Tigo.userId,\n      lessonId: Tigo.classId,\n      redVal: GameData.totalStar_num,\n      openVal: GameData.record_num,\n      // subType: 5,\n      lessonModelId: Tigo.lessonModuleId,\n    };\n    Tigo.callAppToHttp(\"api/reward/info\", \"POST\", h);\n    // Tigo.callAppToStorage(\"CLEAR\", \"\", \"\");\n    Tigo.callAppToStorage(\"remove\", star, 0);\n    Tigo.callAppToAnalyse(\"end\");\n    Tigo.callAppToClose(\"replayOrNext\", true);\n    Tigo.exitGameCallApp();\n  }\n\n  loadPage(page_num) {\n    console.log(\"当前加载的游戏页数--------------->\" + page_num);\n    let nameProfab_str = \"prefabs/\" + GameData.getNodePath(page_num);\n\n    cc.loader.loadRes(nameProfab_str, (err, prefab) => {\n      if (!err) {\n        this.addPrefab(prefab);\n      } else {\n        console.log(err, \"err 预制体加载失败==========>\");\n      }\n    });\n  }\n\n  addPrefab(prefab) {\n    if (this.node_nowShow) {\n      Util.voiceNode = null;\n      this.node_nowShow.destroy();\n    }\n    cc.audioEngine.stopAllEffects();\n    this.node_nowShow = cc.instantiate(prefab);\n    // if (this.page_num != 0) {\n    //   this.node_nowShow.opacity = 100;\n    //   cc.tween(this.node_nowShow).to(1, { opacity: 255 }).start();\n    // }\n    this.node.addChild(this.node_nowShow);\n\n    if (this.node.getChildByName(\"coin\")) {\n      this.node.getChildByName(\"coin\").destroy();\n    }\n  }\n\n  onDestroy() {\n    console.log(`当前脚本----onDestroy`);\n    this.unRegisterListener();\n    Tigo.exitGameCallApp();\n  }\n\n  unRegisterListener() {\n    // webframe.Notify.ignore(\"chagePage\", this.chagePage, this, false);\n    // window.webframe.Notify.ignore(\"entryMenu\", this.entryMenu, this, false);\n  }\n\n  testChangePage(event, choose) {\n    let maxPage = GameData.node_path.length - 1;\n    if (choose < 0 && this.page_num == 0) {\n      console.log(\"最小页了～～\");\n      return;\n    }\n    if (choose > 0 && this.page_num == maxPage) {\n      console.log(\"最大页了～～\");\n      return;\n    }\n    this.page_num = this.page_num + Number(choose);\n    this.page_num = Math.max(this.page_num, 0);\n    this.page_num = Math.min(this.page_num, maxPage);\n    console.log(\"更改后的页数============》》》\" + this.page_num);\n    this.loadPage(this.page_num);\n  }\n\n  testQuickBtn() {\n    if (this.isTest) {\n      this.node.getChildByName(\"left\").zIndex = 999;\n      this.node.getChildByName(\"right\").zIndex = 999;\n    }\n    this.node.getChildByName(\"left\").active = this.isTest;\n    this.node.getChildByName(\"right\").active = this.isTest;\n  }\n}\n\nconsole.log(\"addEventListener==========\");\nwindow.addEventListener(\n  \"message\",\n  function (e) {\n    console.log(\"get app data === \", e.data);\n    if (e.data.action) {\n      window[\"callCocos\"](e.data);\n    }\n  },\n  false\n);\nconsole.log(\"addEventListener-----------\");\n","import { gameState } from \"./constant\";\n\nclass TigoManager {\n  static _instance: TigoManager = null;\n\n  static getInstance() {\n    if (!this._instance) {\n      this._instance = new TigoManager();\n    }\n    console.log(\"TigoManager _instance is success\");\n    return this._instance;\n  }\n\n  //课件id 发送时的参数\n  classId = \"\";\n  gameId = \"\";\n  userId = \"\";\n  moduleId = \"\";\n  lessonModuleId = \"\";\n  TotalGameNum = 8;\n  TotalGameErrorNum = 0;\n  TotalGameRightOnce = 0;\n  TotalGameRightTwice = 0;\n  SingleGameErrorNum = 0;\n  SingleGameRightOnce = 0;\n  SingleGameRightTwice = 0;\n\n  appData = null;\n\n  /**\n   * 1.完成所有题目用时: by单课\n   * 2.完成每道题目用时: by单题\n   * 3.每道题目的一次正确率、二次正确率\n   * 4.完成率-学生做了多少题跳转出去\n   * 5.语音识别数据-得星情况、几次通过、错误字段\n   *\n   */\n\n  //总体数据实例\n  TiGoTotalData = {\n    /** quiz总数 */\n    quizTotalNum: 2,\n\n    gameNum: 0,\n    /** 所有quiz的问题数量 */\n    questionTotlaNum: 8,\n\n    /** 游戏开始时间 */\n    startGameTime: 0,\n\n    /** 完成游戏总用时 */\n    totalGameTime: 0,\n\n    errorNum: 0,\n    //准确率 1次 2次\n    accuracy: {\n      once: \"0%\",\n      twice: \"0%\",\n    },\n  };\n\n  //单游戏数据\n  TigoSingleData = {\n    MaxIndex: 0, //总题数\n    errorNum: 0, //总共做错数\n    //答题情况\n    answerData: {},\n    //准确率 1次 2次\n    accuracy: {\n      once: \"0%\", // 2 * 100 + \"%\",\n      twice: \"0%\", // 2 * 100 + \"%\"\n    },\n  };\n\n  addGameError() {\n    this.SingleGameErrorNum++;\n    this.TotalGameErrorNum++;\n    this.TigoSingleData.errorNum += 1;\n    this.TiGoTotalData.errorNum += 1;\n  }\n  addGameRightOnce() {\n    this.SingleGameRightOnce += 1;\n    this.TotalGameRightOnce += 1;\n    this.TigoSingleData.accuracy.once =\n      (this.SingleGameRightOnce / this.TigoSingleData.MaxIndex) * 100 + \"%\";\n    this.TiGoTotalData.accuracy.once =\n      (this.TotalGameRightOnce / this.TiGoTotalData.gameNum) * 100 + \"%\";\n  }\n\n  addGameRightTwice() {\n    this.SingleGameRightTwice += 1;\n    this.TotalGameRightTwice += 1;\n    this.TigoSingleData.accuracy.twice =\n      (this.SingleGameRightTwice / this.TigoSingleData.MaxIndex) * 100 + \"%\";\n    this.TiGoTotalData.accuracy.twice =\n      (this.TotalGameRightTwice / this.TiGoTotalData.gameNum) * 100 + \"%\";\n  }\n\n  //重制single数据\n  refreshSingleData() {\n    this.SingleGameRightOnce = 0;\n    this.SingleGameRightTwice = 0;\n    this.SingleGameErrorNum = 0;\n    this.TigoSingleData.errorNum = 0;\n    this.TigoSingleData.answerData = {};\n    this.TigoSingleData.accuracy.once = \"0%\";\n    this.TigoSingleData.accuracy.twice = \"0%\";\n  }\n\n  /** 设置单游戏数据 answerData */\n  setSingleAnswerData(index, num) {\n    var q = \"Q\" + index + \" wrong\";\n    this.TigoSingleData.answerData[q] = num;\n  }\n\n  clearAllTigoData() {\n    this.refreshSingleData();\n    this.TotalGameNum = 0;\n    this.TotalGameRightOnce = 0;\n    this.TotalGameRightTwice = 0;\n    this.TiGoTotalData.errorNum = 0;\n    this.TiGoTotalData.accuracy.once = \"0%\";\n    this.TiGoTotalData.accuracy.twice = \"0%\";\n  }\n  //id : 第几个游戏\n  setGameId(id) {\n    this.gameId = gameState.gameName + id;\n  }\n\n  setSingleMax(num) {\n    this.TigoSingleData.MaxIndex = num;\n    //   this.TiGoTotalData.gameNum += num;\n  }\n\n  setClassId(id) {\n    this.classId = id;\n  }\n\n  setUserId(id) {\n    this.userId = id;\n  }\n\n  setModuleId(id) {\n    this.moduleId = id;\n  }\n\n  /** 设置课程模块ID */\n  setLessonModelId(id) {\n    this.lessonModuleId = id;\n  }\n\n  /**\n   *\n   * @param speedVal 完成度:1-进行中;2-已完成;\n   * @param isInner\n   */\n  callAppToSpeed(num = 2) {\n    let url = \"api/course/speed\";\n    let params = {\n      userId: this.userId,\n      type: this.moduleId,\n      speedVal: num,\n      lessonModelId: this.lessonModuleId,\n    };\n    this.callAppToHttp(url, \"POST\", params);\n  }\n\n  /** 退出游戏 */\n  public exitGameCallApp() {\n    return;\n    this.callAppToCollect(1, 1002, 1);\n  }\n\n  /** 进入游戏 */\n  public startGameCallApp() {\n    return;\n    this.callAppToCollect(1, 1001, 1);\n  }\n\n  /**\n   *\n   * @param gameIndex 当前问题 index 累加之后的\n   * @param type 1001:进入,1002:离开,1003:游戏环节结果,1004:游戏环节得分,1005:环节操作\n   * @param result 上报类型的对应的结果，比如:1003 对应结果:对:\"1\" ,错:\"0\"，1004 对应结果: 星星数 \"1\",\"2\",\"3\"...， 1005 不关心result\n   */\n  public callAppToCollect(\n    gameIndex: number,\n    type: number,\n    result: number | string\n  ) {\n    var h = {\n      userId: this.userId,\n      lessonId: this.classId,\n      lessonModelId: this.lessonModuleId,\n      gameIndex: gameIndex,\n      type: type,\n      result: Number(result),\n      timestamp: this.getTime(),\n    };\n    var handleData = {\n      action: \"TiGoHttp\",\n      param: {\n        url: \"api/operate/infoV2\",\n        method: \"POST\",\n        params: h,\n      },\n    };\n    console.log(\n      \"callAppToStorage ============== \" + JSON.stringify(handleData)\n    );\n    if (window.tiGo) {\n      window.tiGo.callApp(JSON.stringify(handleData));\n    }\n    if (window.webkit) {\n      window.webkit.messageHandlers.callApp.postMessage(\n        JSON.stringify(handleData)\n      );\n    }\n  }\n\n  getTime() {\n    var time = Date.now().toString(); //获取到毫秒的时间戳，精确到毫秒\n    time = time.substr(0, 10); //精确到秒\n    return time;\n  }\n\n  //发送analyse消息给app\n  //aciton : start end event , param : data , total : true 课程总体 false 单游戏\n  callAppToAnalyse(action, total = true, param = {}) {\n    var handleData = {\n      action: \"TiGoAnalyse\",\n      param: {\n        analyseAction: action, //end event\n        analyseParam: {\n          analyseId: total ? this.classId : this.gameId,\n          analyseData: param,\n        },\n      },\n    };\n    console.log(\n      \"callAppToAnalyse ============== \" + JSON.stringify(handleData)\n    );\n    if (window.tiGo) {\n      window.tiGo.callApp(JSON.stringify(handleData));\n    }\n    if (window.webkit) {\n      window.webkit.messageHandlers.callApp.postMessage(\n        JSON.stringify(handleData)\n      );\n    }\n  }\n\n  //发送close消息给app\n  callAppToClose(data, next = false) {\n    var handleData = next\n      ? {\n          action: \"TiGoClose\",\n          param: {\n            closeNext: data,\n          },\n        }\n      : {\n          action: \"TiGoClose\",\n          param: {},\n        };\n    console.log(\"callAppToClose ============== \" + JSON.stringify(handleData));\n    if (window.tiGo) {\n      window.tiGo.callApp(JSON.stringify(handleData));\n    }\n    if (window.webkit) {\n      window.webkit.messageHandlers.callApp.postMessage(\n        JSON.stringify(handleData)\n      );\n    }\n  }\n\n  //把用户数据发给app 目前先不用\n  callAppToSaveData(total = false) {\n    var handleData = {\n      action: \"TigoGameData\",\n      param: total ? this.TiGoTotalData : this.TigoSingleData,\n    };\n    console.log(\n      \"callAppToSaveData ============== \" + JSON.stringify(handleData)\n    );\n    if (window.tiGo) {\n      window.tiGo.callApp(JSON.stringify(handleData));\n    }\n    if (window.webkit) {\n      window.webkit.messageHandlers.callApp.postMessage(\n        JSON.stringify(handleData)\n      );\n    }\n  }\n\n  //开启录音\n  callAppToRecord(sec, word) {\n    var handleData = {\n      action: \"TiGoStartRecord\",\n      param: {\n        name: \"game1\",\n        time: sec.toString(),\n        standardText: word,\n      },\n    };\n    console.log(\"callAppToRecord ============== \" + JSON.stringify(handleData));\n    if (window.tiGo) {\n      window.tiGo.callApp(JSON.stringify(handleData));\n    }\n    if (window.webkit) {\n      window.webkit.messageHandlers.callApp.postMessage(\n        JSON.stringify(handleData)\n      );\n    }\n  }\n  //关闭录音\n  callAppToStopRecord() {\n    var handleData = {\n      action: \"TiGoStopRecord\",\n    };\n    console.log(\n      \"callAppToStopRecord ============== \" + JSON.stringify(handleData)\n    );\n    if (window.tiGo) {\n      window.tiGo.callApp(JSON.stringify(handleData));\n    }\n    if (window.webkit) {\n      window.webkit.messageHandlers.callApp.postMessage(\n        JSON.stringify(handleData)\n      );\n    }\n  }\n\n  //语音测评\n  callAppToResult(word, path) {\n    var handleData = {\n      action: \"TiGoVoiceEvaluation\",\n      param: {\n        standardText: word,\n        path: path,\n      },\n    };\n    console.log(\"callAppToResult ============== \" + JSON.stringify(handleData));\n    if (window.tiGo) {\n      window.tiGo.callApp(JSON.stringify(handleData));\n      //  return data;\n    }\n    if (window.webkit) {\n      window.webkit.messageHandlers.callApp.postMessage(\n        JSON.stringify(handleData)\n      );\n      //   return data;\n    }\n  }\n\n  getAppData() {\n    cc.log(\"getAppData\");\n    return this.appData;\n  }\n  //存储\n  callAppToStorage(method, key, val = 0) {\n    var value = \"0\";\n    switch (method) {\n      case \"PUT\":\n        value = String(val);\n        break;\n    }\n    var handleData = {\n      action: \"TiGoStorage\",\n      param: {\n        method: method, // get put clear\n        key: key,\n        value: value.toString(),\n      },\n    };\n    console.log(\n      \"callAppToStorage ============== \" + JSON.stringify(handleData)\n    );\n    if (window.tiGo) {\n      var page_num = window.tiGo.callApp(JSON.stringify(handleData));\n      return page_num;\n    }\n    if (window.webkit) {\n      // window.webkit.messageHandlers.callApp.postMessage(JSON.stringify(handleData));\n      let page_num = window.prompt(\"callApp\", JSON.stringify(handleData));\n      console.log(page_num);\n      return page_num;\n    }\n  }\n  //一切请求服务器的行为 api：接口 ，mehtod：put get post， params：接口所需参数 ，unique：交互app标识\n  callAppToHttp(api, method, params) {\n    var handleData = {\n      action: \"TiGoHttp\",\n      param: {\n        url: api,\n        method: method,\n        params: params,\n        unique: this.classId,\n      },\n    };\n    console.log(\n      \"callAppToStorage ============== \" + JSON.stringify(handleData)\n    );\n    if (window.tiGo) {\n      window.tiGo.callApp(JSON.stringify(handleData));\n    }\n    if (window.webkit) {\n      window.webkit.messageHandlers.callApp.postMessage(\n        JSON.stringify(handleData)\n      );\n    }\n  }\n\n  callAppToLoaded() {\n    var handleData = {\n      action: \"TiGoLifecycle\",\n      param: {\n        name: \"loaded\",\n        param: \"\",\n      },\n    };\n    console.log(\"callAppToLoaded ============== \" + JSON.stringify(handleData));\n    if (window.tiGo) {\n      window.tiGo.callApp(JSON.stringify(handleData));\n    }\n    if (window.webkit) {\n      window.webkit.messageHandlers.callApp.postMessage(\n        JSON.stringify(handleData)\n      );\n    }\n  }\n  //获取用户信息 返回值 {}\n  getBaseInfo() {\n    var handleData = {\n      action: \"TiGoBaseInfo\",\n    };\n    console.log(\"getBaseInfo ============== \" + JSON.stringify(handleData));\n    if (window.tiGo) {\n      var BaseInfo = window.tiGo.callApp(JSON.stringify(handleData));\n      console.log(BaseInfo);\n      return BaseInfo;\n    }\n    if (window.webkit) {\n      // window.webkit.messageHandlers.callApp.postMessage(JSON.stringify(handleData));\n      let BaseInfo = window.prompt(\"callApp\", JSON.stringify(handleData));\n      console.log(\"webkit BaseInfo ==== \" + BaseInfo);\n      return BaseInfo;\n    }\n  }\n}\n\n//注册app访问cocos的全局函数\n//msg1 : 具体内容跟app协商\nwindow.callCocos = function (msg1) {\n  if (msg1.action == \"TiGoLifecycle\") {\n    window.webframe.Notify.trigger(\"callCocos_loaded\");\n  } else {\n    window.webframe.Notify.trigger(\"callCocos_data\", msg1);\n  }\n\n  return \"callByAndroidParam ok!\";\n};\n\nexport default TigoManager.getInstance();\n// module.exports = TigoManager.getInstance();\n","import AudioManager from \"../../kit/system/audio/AudioManager\";\nimport GameData from \"./GameData\";\nimport Tigo from \"./Tigo\";\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nclass Util extends cc.Component {\n  @property(cc.Prefab)\n  coin_small: cc.Prefab = null;\n\n  @property(cc.Prefab)\n  coin_mid: cc.Prefab = null;\n\n  @property(cc.Prefab)\n  coin_large: cc.Prefab = null;\n\n  private static instance: Util;\n  public static getInstance(): Util {\n    if (this.instance == null) {\n      this.instance = new Util();\n    }\n    return this.instance;\n  }\n  PrefabNode: cc.Node = null;\n\n  voiceNode: cc.Node = null;\n  voice_name = \"prefab_common/voice\";\n\n  node_name = \"prefab_common/startLayer\";\n  coin_name_1 = \"prefab_common/coin_small\";\n  coin_name_2 = \"prefab_common/coin_mid\";\n  coin_name_3 = \"prefab_common/coin_large\";\n  exitbutton = \"prefab_common/exitbutton\";\n  coin_new_name = \"prefab_common/coinNode\";\n\n  onLoad() {\n    cc.log(this.coin_small);\n  }\n\n  addVoice(node: cc.Node, callBack: Function, that: any) {\n    cc.loader.loadRes(this.voice_name, cc.Prefab, (err, Prefab) => {\n      if (err) {\n        console.log(err, \"Voice 加载失败===============>>\");\n      } else {\n        let voice = cc.instantiate(Prefab);\n        let clickBack = () => {\n          callBack && callBack.bind(that)();\n        };\n        voice.on(\"click\", clickBack, that);\n        node.addChild(voice, 996);\n        voice.name = \"voices\";\n        this.voiceNode = voice;\n      }\n    });\n  }\n\n  addExitButton(node: cc.Node, callBack: Function, that: any) {\n    return;\n    cc.loader.loadRes(this.exitbutton, cc.Prefab, (err, Prefab) => {\n      if (err) {\n        console.log(err, \"exitbutton 加载失败===============>>\");\n      } else {\n        let exitbutton: cc.Node = cc.instantiate(Prefab);\n        let clickBack = () => {\n          Tigo.exitGameCallApp();\n          callBack && callBack.bind(that)();\n        };\n        let but = exitbutton.getChildByName(\"exbt\");\n        but.on(\"click\", clickBack, that);\n        node.addChild(exitbutton, 996);\n      }\n    });\n  }\n\n  // stopVoiceAni(){\n  //     this.voiceNode.getComponent(cc.Animation).play(\"voice_end\")\n  // }\n\n  // playVoiceAni(){\n  //     this.voiceNode.getComponent(cc.Animation).play(\"voice\")\n  // }\n\n  stopVoiceAni() {\n    if (this.voiceNode) {\n      this.voiceNode.getComponent(cc.Animation).play(\"voice_end\");\n    }\n  }\n\n  playVoiceAni() {\n    if (this.voiceNode) {\n      this.voiceNode.getComponent(cc.Animation).play(\"voice\");\n    }\n  }\n\n  addStartLayer(node: cc.Node, callBack: Function, that: any) {\n    cc.loader.loadRes(this.node_name, cc.Prefab, (err, Prefab) => {\n      if (err) {\n        console.log(err, \"startNode 加载失败===============>>\");\n      } else {\n        this.PrefabNode = cc.instantiate(Prefab);\n        this.setStartBtnBack(callBack, that);\n        node.addChild(this.PrefabNode, 999);\n      }\n    });\n  }\n\n  setStartBtnBack(callBck: Function, that: any) {\n    let btn = this.PrefabNode.getChildByName(\"start\");\n    let clickBack = () => {\n      this.PrefabNode.active = false;\n      callBck && callBck.bind(that)();\n    };\n    btn.on(\"click\", clickBack, that);\n  }\n\n  addCoin_new(): Promise<cc.Prefab> {\n    return new Promise((resolve, reject) => {\n      cc.loader.loadRes(this.coin_new_name, cc.Prefab, (err, Prefab) => {\n        if (err) {\n          reject(err);\n          console.log(err, \"coinNodePrefab 加载失败===============>>\");\n        } else {\n          // let coin = cc.instantiate(Prefab)\n          // node.addChild(coin,999)\n          // let sc = coin.getComponent(\"coinNode\");\n          // sc.init();\n          resolve(Prefab);\n        }\n      });\n    });\n  }\n\n  /**\n   * @param node 父节点\n   * @param et 最后一个游戏传 true，默认为false\n   */\n  addCoin_midAndMenu(node: cc.Node, et = false) {\n    cc.loader.loadRes(this.coin_name_2, cc.Prefab, (err, Prefab) => {\n      if (err) {\n        console.log(err, \"prefab 加载失败===============>>\");\n      } else {\n        let coin = cc.instantiate(Prefab);\n        node.parent.addChild(coin, 999);\n        coin.name = \"coin\";\n        let spine = coin.getChildByName(\"spineNode\").getComponent(sp.Skeleton);\n        spine.clearTracks();\n        spine.setAnimation(0, \"Animation\", true);\n\n        \n        // AudioManager.playEffect(AudioManager.GAME_COIN_LARGE,false,()=>{\n        //   coin.destroy();\n        //   window.webframe.Notify.trigger(\"entryMenu\", et);\n        //   cc.log(Date.now());\n        // })\n      }\n    });\n  }\n}\nexport default Util.getInstance();\n","import AudioManager from \"../../../kit/system/audio/AudioManager\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class CoinBoard extends cc.Component {\n\n    @property(cc.Node)\n    coin: cc.Node[] = [];\n\n    // onLoad () {}\n\n    \n\n    start() {\n\n    }\n\n    async setCoinAni(num) {\n        return new Promise<void>(resolve => {\n            for (let i = 0; i < this.coin.length; i++) {\n                if (i < num) {\n                    this.coin[i].active = true;\n                } else {\n                    this.coin[i].active = false;\n                }\n\n            }\n            this.node.getComponent(cc.Animation).play();\n            this.playCoinEffect(num);\n            this.scheduleOnce(() => {\n                resolve()\n            }, 2);\n        })\n    }\n\n    reset(){\n        for (let i = 0; i < this.coin.length; i++) {\n            this.coin[i].active = false;\n        }\n    }\n\n    playCoinEffect(num) {\n        AudioManager.playEffect('common_en',`coin_fly/jinbi${num}`)\n    }\n\n    // update (dt) {}\n}\n","/**\n * 播放一次骨骼动画，支持await\n * @param spine\n * @param animation 动画名字\n * @param loop 是否循环\n * @param trackIndex\n * @returns\n */\nexport function playSpineAnimation(\n  spine: sp.Skeleton,\n  animation: string,\n  loop = false,\n  trackIndex = 0\n) {\n  return new Promise((resolve) => {\n    if (!loop) {\n      spine.setCompleteListener(resolve);\n    }\n    spine.setAnimation(trackIndex, animation, loop);\n  });\n}\n\nexport const gameState = {\n  /** 当前是否是录音状态 */\n  isRecordState: false,\n  gameName:\"cc_LV1_game\",\n  Lesson_Sign:\"LV1\"\n}\n\n/**\n * \n * @param url 加载图片路径\n * @returns cc.SpriteFrame\n */\nexport function loadSpriteFrame(url:string):Promise<cc.SpriteFrame | undefined>{\n  return new Promise((resolve) => {\n    cc.loader.loadRes(url, cc.SpriteFrame, (err, sprite) => {\n      if (err) {\n        console.log(err, \"SpriteFrame 加载失败===============>>\");\n      } else {\n        resolve(sprite);\n      }\n    });\n  });\n\n}\n\n/**\n * 加载 resources 文件下的图片\n * @param file 文件名称，不需要添加扩展名\n * @param sprite\n * @param callback\n */\n export function loadCocosSpriteFrame(\n  file: string,\n  sprite: cc.Sprite,\n  callback?: (spriteFrame: cc.SpriteFrame) => void\n): void {\n  cc.loader.loadRes(\n    file,\n    cc.SpriteFrame,\n    (error: Error, sp: cc.SpriteFrame) => {\n      if (error) {\n        cc.error(error);\n        callback && callback(null);\n        return;\n      }\n      sprite.spriteFrame = sp;\n      callback && callback(sp);\n    }\n  );\n}\n\n\n/**\n * 加载 resources 文件下的 SkeletonData 文件\n * @param {string} skeletonPath SkeletonData路径\n * @returns {Promise<sp.SkeletonData>} 异步返回SkeletonData对象\n */\n export function loadCocosResSkeletonData(skeletonPath: string): Promise<sp.SkeletonData> {\n  return loadCocosResAsset<sp.SkeletonData>(skeletonPath, sp.SkeletonData);\n}\n\n/**\n * \n * @param assetPath 资源路径\n * @param prefabPath 资源类型\n * @returns \n */\n export function loadCocosPrefab(\n  assetPath: string,\n): Promise<cc.Prefab> {\n  return loadCocosResAsset<cc.Prefab>(assetPath,  cc.Prefab);\n}\n\n/**\n * 加载resource文件夹下资源\n * @param {string} assetPath 资源路径\n * @param {cc.Asset} assetType 资源类型\n */\n export function loadCocosResAsset<T = typeof cc.Asset>(\n  assetPath: string,\n  assetType: typeof cc.Asset = cc.Asset\n): Promise<T> {\n  return new Promise((resolve, reject) => {\n    cc.loader.loadRes(assetPath, assetType, (error: Error, asset: cc.Asset) => {\n      if (error) {\n        reject(error);\n      } else {\n        resolve(asset);\n      }\n    });\n  }).then(\n    (asset: T): T => asset,\n    (err: Error) => {\n      // TODO: 是否需要增加埋点, 统计加载失败的情况\n      return Promise.reject(err.message);\n    }\n  );\n}","\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\n\n// let LogFilterArray = ['EVENT_TIME_ONE_SECOND', 'EVENT_FRIEND_OFFLINE_TIME_CHANGE'];\nexport default class NotifierCenter {\n    private _TAG;\n    private events;\n    private isRunning;\n    \n    constructor() {\n        let key = arguments[0];\n        this._TAG = '[' + key + '/NotifierCenter]';\n        this.events = {};\n        this.launch();\n    }\n\n    getScopeName(scope) {\n        try {\n            if (scope) {\n                return (scope._TAG ? scope._TAG : (scope.name ? scope.name : \"unknow\")).toString();\n            } else {\n                return \"unknow\";\n            }\n        } catch (e) {\n            return \"unknow\";\n        }\n    }\n\n    listen(eventName, handler, scope, isOnce) {\n        if (typeof eventName != 'string' || typeof handler !== 'function') {\n            cc.log(this._TAG, ' listen err: eName :' + eventName + 'handler:' + handler);\n            return;\n        }\n        var observer = { handler: handler, scope: scope, isOnce: isOnce };\n        var observers = this.events[eventName] || [];\n        for (var i = 0; i < observers.length; i++) {\n            var obs = observers[i];\n            //func.toString() 判断匿名函数的情况\n            if (obs.scope == scope && (obs.handler == handler || obs.handler.toString() == handler.toString())) {\n                cc.log(this._TAG, '消息重复注册:' + eventName + ' function:' + handler.name);\n                return;\n            }\n        }\n        observers.push(observer);\n        this.events[eventName] = observers;\n    }\n\n    ignore(eventName, handler, scope) {\n        if (typeof eventName != 'string') {\n            cc.log(\"-----eventName----\" + eventName);\n            this.ignoreScope(arguments[0]);\n            return;\n        }\n        if (typeof eventName != 'string' || typeof handler != 'function') {\n            cc.log(this._TAG, 'NotifierCenter remove err: eName :' + eventName + 'scope:' + scope._TAG);\n            return;\n        }\n\n        var observers = this.events[eventName];\n        if (!observers || observers.length === 0) {\n            return;\n        }\n        scope = scope || this;\n        var idx = -1; //同一个消息可能有多个节点注册\n        for (var i = 0; i < observers.length; ++i) {\n            var observer = observers[i];\n            if (observer.scope == scope && (observer.handler == handler || observer.handler.toString() == handler.toString())) {\n                idx = i;\n            }\n        }\n        if (idx > -1) {\n            this.events[eventName].splice(idx, 1);\n        }\n        // var self = this;\n        // this.events[eventName] = observers.filter(function (obs) {\n        //     if (typeof obs != 'undefined') {\n        //         return obs.scope != scope || obs.handler != handler;\n        //     }\n        // });\n    }\n\n    trigger(eventName, params) {\n        if (!this.isRunning) { return; }\n        if (typeof eventName != 'string') {\n            cc.log(this._TAG, ' trigger err: eventName :' + eventName);\n            return;\n        }\n        var keys = Object.keys(this.events);\n        var obs = this.events[eventName];\n        if (!obs) {\n            return;\n        }\n        // if(CC_DEBUG && -1 == LogFilterArray.indexOf(eventName)){\n        //     cc.log(this._TAG,'trigger '+eventName+', observers: '+obs.length);\n        // }\n        var args = Array.prototype.slice.call(arguments, 1);\n        var self = this;\n        //发送\n        for (let i = 0; i < obs.length; i++) {\n            let ob = obs[i];\n            if (ob.scope && ob.scope instanceof cc.Component && !cc.isValid(ob.scope.node)) {\n                continue;\n            }\n            ob.handler.apply(ob.scope, args);\n            if (ob.isOnce) {\n                cc.log(self._TAG, 'trigger and remove once listener', eventName);\n            }\n        }\n        //移除 once和不合法的\n        obs = this.events[eventName];\n        if (!obs) {\n            return;\n        }\n        this.events[eventName] = obs.filter(function (ob) {\n            if (ob.scope && ob.scope instanceof cc.Component && !cc.isValid(ob.scope.node)) {\n                return false;\n            }\n            return !ob.isOnce;\n        });\n    }\n\n    ignoreScope(scope) {\n        let ignoreMsgs = \":\";\n        for (var msg in this.events) {\n            var obs = this.events[msg];\n            if (obs) {\n                this.events[msg] = obs.filter(function (ob) {\n                    if (ob.scope != scope) {\n                        return true;\n                    } else {\n                        ignoreMsgs = ignoreMsgs + msg + ',';\n                        return false;\n                    }\n                });\n            }\n        }\n    }\n    destroy() {\n        cc.log(this._TAG, 'destroy');\n        this.events = {};\n    }\n    shut() {\n        cc.log(this._TAG, '--------shut');\n        this.isRunning = false;\n    }\n    launch() {\n        cc.log(this._TAG, '--------launch');\n        this.isRunning = true;\n    }\n}\n","\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Node)\n    centerNode: cc.Node = null;\n\n    @property({ type: [cc.Node], displayName: \"右边动画组\" })\n    rightNode: cc.Node[] = [];\n\n    @property({ type: [cc.Node], displayName: \"右边动画组\" })\n    leftNode: cc.Node[] = [];\n\n\n    // LIFE-CYCLE CALLBACKS:\n\n     onLoad () {\n        //  this,this.initeAniFun(3);\n     }\n\n    initeAniFun(sec) {\n        cc.log('录音 sec == '+sec);\n        let anim = this.centerNode.getComponent(cc.Animation);\n        let clip = anim.currentClip || anim.defaultClip;\n        if (clip) {\n            clip.speed = sec * 0.1;\n            anim.play();\n        }\n        let n = 0;\n        this.schedule(() => {\n            this.rightNode[n].getComponent(cc.Animation).play()\n            this.leftNode[n].getComponent(cc.Animation).play()\n            n += 1;\n        }, 0.2, 4, 0.2);\n\n    }\n\n    start() {\n\n    }\n\n    // update (dt) {}\n}\n"],"file":"index.js"}