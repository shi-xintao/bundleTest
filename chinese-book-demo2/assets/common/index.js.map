{"version":3,"sources":["assets/common/scripts/AdapterBg.ts","assets/common/scripts/AdapterScreen.ts","assets/common/utils/sprite/Assembler2D.ts","assets/common/scripts/BaseChapterComponent.ts","assets/common/scripts/ChapterGameComponent.ts","assets/common/structure/CompEnum.ts","assets/common/hand/Hand.ts","assets/common/utils/sprite/LSprite.ts","assets/common/rollerAnimation/scr/RollerAnimation.ts","assets/common/utils/SpineUtils.ts","assets/common/utils/sprite/SpriteAssembler.ts","assets/common/gameTask/scripts/TaskBoard.ts","assets/common/gameTask/scripts/gameTask.ts","assets/common/scripts/rollBg.ts"],"names":["_a","cc","_decorator","ccclass","property","AdapterBg","_super","__extends","prototype","onLoad","onEnable","this","relayout","frameSize","view","getFrameSize","designResolution","Canvas","instance","designSize","size","width","height","frameAspectRatio","screenSize","__assign","ratio","node","wdt","getComponent","Widget","addComponent","isAlignHorizontalCenter","isAlignVerticalCenter","__decorate","Component","exports","default","AdapterScreen","_this","apply","arguments","lock","log","designAspectRatio","Math","ceil","Assembler2D","verticesCount","indecesCount","floatsPerVert","uvOffset","colorOffset","_renderData","_local","init","comp","call","RenderData","initLocal","initData","Object","defineProperty","get","length","data","createQuadData","verticesFloats","updateColor","color","uintVerts","uintVDatas","_val","i","len","updateUVs","uv","verts","vDatas","srcOffset","dstOffset","updateVerts","cw","ch","appx","anchorX","appy","l","b","r","t","local","updateWorldVerts","updateRenderData","_vertsDirty","CC_NATIVERENDERER","updateWorldVertsWebGL","matirx","Mat4","getWorldMatrix","matirxM","m","a","c","d","tx","ty","vl","vb","vr","vt","justTranslate","index","al","ar","bl","br","cb","ct","db","dt","updateWorldVertsNative","fillBuffers","renderer","worldMatDirty","renderData","vData","iData","iDatas","buffer","getBuffer","offsetInfo","request","vertexOffset","byteOffset","vbuf","_vData","set","subarray","ibuf","_iData","indiceOffset","vertexId","packToDynamicAtlas","frame","CC_TEST","_original","dynamicAtlasManager","_texture","packable","packedFrame","insertSpriteFrame","_setDynamicAtlasFrame","material","_materials","getProperty","_updateMaterial","_handle","_meshBuffer","Assembler","events_1","require","EventSystem_1","BaseChapterComponent","params","initParams","console","registerEvent","on","LIFE_CYCLE_BLOCK","onLifeCycleBlock","LIFE_CYCLE_UNBLOCK","onLifeCycleUnBlock","unregisterEvent","onChapterReady","emit","LIFE_CYCLE_READY","onChapterComplete","LIFE_CYCLE_COMPLETE","onDestroy","BaseChapterComponent_1","ChapterGameComponent","recordData","taskData","gameTaskCom","initComponents","evaluatingType","evaluatingText","tryTimes","evaluationScore","recordTime","FOLLOW_MODULE_TO_CLIENT","onRecordResult","off","componentsLoadComplete","Promise","all","initRecordAudioComp","initTaskComp","then","catch","error","warn","resolve","FOLLOW_CLIENT_TO_MODULE","eventName","extra","reject","bundle","assetManager","getBundle","load","Prefab","assets","taskNode","instantiate","parent","startRecordAudio","bundleName","audioUrl","result","RoundStateType","Hand","sp","cursor","mask","bg","onCompleted","move_duration","setCompleteListener","playClick","fadeIn","active","rotation","setAnimation","fade","easing","easeSineOut","runAction","playSwipeLeft","playSwipeByAngle","playSwipeRight","playSwipeUp","playSwipeDown","angle","name","loop","hide","stop","setTargetBound","x","y","w","h","setTargetNode","target","worldPos","convertToWorldSpaceAR","Vec2","ZERO","localPos","convertToNodeSpaceAR","type","Skeleton","displayName","Node","SpriteAssembler_1","LSprite","colorList","flushProperties","_resetAssembler","setVertsDirty","assembler","_assembler","_updateColor","Color","tooltip","Sprite","ChapterGameComponent_1","RollerAnimation","farNode","middleNode","nearNode","farSpeed","middleSpeed","nearSpeed","isHorizontal","isStopMove","start","stopMove","resumeMove","setFarSpeed","speed","getFarSpeed","setMiddleSpeed","getMiddleSpeed","setNearSpeed","getNearSpeed","changeSpeedMove","FSpeed","MSpeed","NSpeed","childrenCount","children","forEach","v","checkNode","dir","update","TimerSystem_1","SpineUtils","playSpineAsync","info","func","doOnce","duration","isValid","te","setTrackCompleteListener","playSpineAniByConfig","config","sent","Assembler2D_1","SpriteAssembler","_whiteColor","_colorList","val","newColorList","sprite","_spriteFrame","anchorY","trim","spriteFrame","ow","_originalSize","oh","rw","_rect","rh","offset","_offset","scaleX","scaleY","trimLeft","trimRight","trimBottom","trimTop","TaskBoard","contents","contentNodes","finishIcon","poses","currPage","isShowing","panel","safearea","onClosed","flag_block","initPos","currPos","EventType","TOUCH_START","onTouchBegan","TOUCH_END","onTouchEnd","TOUCH_CANCEL","sw","show","pageIndex","onMoveEnded","pre","addChild","moveTo","fadeOut","removeFromParent","destroy","hideFinishIcon","oc","setPrefabs","prefabs","setNodes","nodes","playFinished","onClick","pos","callback","mov","easeBackOut","seq","sequence","callFunc","event","getLocationX","getLocationY","currX","currY","dis","sqrt","AudioManager_1","gameTask","nodeWidget","topBtn","moveLen","taskHideTime","moveTime","updateTaskPos","right","updateAlignment","showTaskList","undefined","taskIndex","JSON","stringify","complete","imgList","updateTaskImg","moveAni","showSealSpine","SpriteFrame","err","asset","getChildByName","sealNode","sk","en","playEffect","callFuc","tween","by","callFunc1","delay","callFunc2","callFunc3","onTopBtnClicked","Tween","stopAllByTarget","Mtype","NewClass","lubg1","lubg2","mtype","VERTICAL_P","isRunmap","cur_lubg","luOffset","setbgfix","VERTICAL_N","HORIZONTAL_P","HORIZONTAL_N","runlubg","s","Integer","min","max","step","slide","Enum"],"mappings":"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","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class AdapterBg extends cc.Component {\n    public onLoad() {\n    }\n\n    public onEnable() {\n        // console.log('FixBg >>>>>>>>>>>>>>')\n        this.relayout()\n    }\n\n    /**\n     * 重新布局\n     */\n    public relayout() {\n        let frameSize: cc.Size = cc.view.getFrameSize() // 屏幕尺寸\n        let designResolution: cc.Size = cc.Canvas.instance.designResolution\n        let designSize: cc.Size = cc.size(designResolution.width, designResolution.height)  // cc.Canvas.instance.designResolution\n        let frameAspectRatio: number = frameSize.width / frameSize.height\n        let screenSize: cc.Size = { ...designSize } as cc.Size\n\n        let ratio: number = this.node.width / this.node.height\n        if (ratio > frameAspectRatio) {\n            let width = this.node.width * screenSize.height / this.node.height\n            this.node.width = width\n            this.node.height = screenSize.height\n        } else {\n            let height = this.node.height * screenSize.width / this.node.width\n            this.node.width = screenSize.width\n            this.node.height = height\n        }\n\n        let wdt: cc.Widget = this.node.getComponent(cc.Widget)\n        if (wdt == null) {\n            this.node.addComponent(cc.Widget)\n            wdt = this.node.getComponent(cc.Widget)\n        }\n        wdt.isAlignHorizontalCenter = true\n        wdt.isAlignVerticalCenter = true\n    }\n}\n","const { ccclass, property } = cc._decorator;\n/**\n * 根据屏幕物理形状动态设置设计尺寸,设置实际的设计尺寸(至少有一个维度与1334x750相同，另一个维度为扩展维度,保证设计尺寸不比1334x750小)\n */\n@ccclass\nexport default class AdapterScreen extends cc.Component {\n    private lock = false\n\n    public onLoad() {\n        this.relayout()\n    }\n\n    public relayout() {\n        if (this.lock) {\n            return\n        }\n        this.lock = true\n        // 根据屏幕物理形状动态设置设计尺寸\n        let frameSize = cc.view.getFrameSize() // 屏幕尺寸\n        let designResolution = cc.Canvas.instance.designResolution\n        let designSize = cc.size(designResolution.width, designResolution.height)\n        cc.log(\"canvas designSize:\", designSize)\n        let frameAspectRatio = frameSize.width / frameSize.height\n        let designAspectRatio = designSize.width / designSize.height\n        let screenSize = { ...designSize } as cc.Size\n\n        if (frameAspectRatio < designAspectRatio) {\n            screenSize.height = Math.ceil(designSize.width / frameAspectRatio)\n        } else {\n            screenSize.width = Math.ceil(designSize.height * frameAspectRatio)\n        }\n        // 设置实际的设计尺寸(更改canvas的形状)\n        cc.Canvas.instance.designResolution = screenSize\n\n        this.lock = false\n    }\n\n    // public onWindowSizeChanged() {\n    //     cc.log(\"onWindowSizeChanged\")\n    //     this.relayout()\n    // }\n}\n","\n// 自定义渲染\n// https://docs.cocos.com/creator/manual/zh/advanced-topics/custom-render.html\n\n// 参考引擎\n// engine\\assemblers\\assembler-2d.js\n\n// 参考demo地址\n// https://github.com/caogtaa/CCBatchingTricks\n\n// 论坛地址\n// https://forum.cocos.org/t/demo/95087\n\n// 每个2d渲染单元里的有:\n// 4个顶点属性数据\n// 6个顶点索引 -> 三角剖分成2个三角形\n\n// 每个顶点属性由5个32位数据组成\n// 顶点属性声明:\n// var vfmtPosUvColor = new gfx.VertexFormat([\n//     { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },\n//     { name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },\n//     { name: gfx.ATTR_COLOR, type: gfx.ATTR_TYPE_UINT8, num: 4, normalize: true },       // 4个uint8\n// ]);\n// 顶点属性数据排列，每一格是32位 (float32/uint32)\n// x|y|u|v|color|x|y|u|v|color|...\n// 其中uv在一组数据中的偏移是2，color的偏移是4\n\n\n// const renderEngine = cc.renderer.renderEngine;\n\n// @ts-ignore\n// const gfx = cc.gfx;\n\n// 引擎定义的顶点数据的 buffer 格式, 参考引擎中的 vertex-format.js\n// 传递位置及 UV\n// let vfmtPosUv = new gfx.VertexFormat([\n//     { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },\n//     { name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 }\n// ]);\n// 传递位置，UV 及颜色数据\n// let vfmtPosUvColor = new gfx.VertexFormat([\n//     { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },\n//     { name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },\n//     { name: gfx.ATTR_COLOR, type: gfx.ATTR_TYPE_UINT8, num: 4, normalize: true },\n// ]);\n\nexport default class Assembler2D extends cc.Assembler {\n\n    verticesCount: number = 4;\n    indecesCount: number = 6;\n    floatsPerVert: number = 5;\n\n    uvOffset: number = 2;\n    colorOffset: number = 4;\n\n    protected _renderData: cc.RenderData = null;\n    protected _local: any[] = null;\n\n    init(comp: cc.RenderComponent) {\n        super.init(comp);\n\n        this._renderData = new cc.RenderData();\n        this._renderData.init(this);\n\n        this.initLocal();\n        this.initData();\n    }\n\n    get verticesFloats(): number {\n        return this.verticesCount * this.floatsPerVert;\n    }\n\n    initLocal() {\n        this._local = [];\n        this._local.length = 4;\n    }\n\n    initData() {\n        let data = this._renderData;\n        data.createQuadData(0, this.verticesFloats, this.indecesCount);\n    }\n\n    updateColor(comp: any, color: any) {\n        let uintVerts = this._renderData.uintVDatas[0];\n        if(!uintVerts) return;\n        color = color != null ? color : comp.node.color._val;\n        let floatsPerVert = this.floatsPerVert;\n        let colorOffset = this.colorOffset;\n        for(let i = colorOffset, len = uintVerts.length; i < len; i += floatsPerVert) {\n            uintVerts[i] = color;\n        }\n    }\n\n    protected updateUVs(comp: cc.RenderComponent) {\n        // 左下, 右下, 左上, 右上\n        let uv = [0,0, 1,0, 0,1, 1,1];\n        let uvOffset = this.uvOffset;\n        let floatsPerVert = this.floatsPerVert;\n        let verts = this._renderData.vDatas[0];\n\n        for(let i = 0; i < 4; i++) {\n            let srcOffset = i * 2;\n            let dstOffset = floatsPerVert * i + uvOffset;\n            verts[dstOffset] = uv[srcOffset];\n            verts[dstOffset+1] = uv[srcOffset+1];\n        }\n    }\n\n    protected updateVerts(comp: cc.RenderComponent) {\n        let node: cc.Node = comp.node;\n        let cw: number = node.width;\n        let ch: number = node.height;\n        let appx: number = node.anchorX * cw;\n        let appy: number = node.anchorX * ch;\n        let l: number = -appx;\n        let b: number = -appy;\n        let r: number = appx;\n        let t: number = appy;\n        \n        let local = this._local;\n        local[0] = l;\n        local[1] = b;\n        local[2] = r;\n        local[3] = t;\n        this.updateWorldVerts(comp);\n    }\n\n    protected updateRenderData(comp: cc.RenderComponent) {\n        if(comp._vertsDirty) {\n            this.updateUVs(comp);\n            this.updateVerts(comp);\n            comp._vertsDirty = false;\n        }\n    }\n\n    updateWorldVerts(comp: cc.RenderComponent) {\n        if(CC_NATIVERENDERER) {\n            this.updateWorldVertsNative(comp);\n        } else {\n            this.updateWorldVertsWebGL(comp);\n        }\n    }\n\n    /*\n        m00 = 1, m01 = 0, m02 = 0, m03 = 0,\n        m04 = 0, m05 = 1, m06 = 0, m07 = 0,\n        m08 = 0, m09 = 0, m10 = 1, m11 = 0,\n        m12 = 0, m13 = 0, m14 = 0, m15 = 1\n    */\n\n    updateWorldVertsWebGL(comp: cc.RenderComponent) {\n        let local = this._local;\n        let verts = this._renderData.vDatas[0];\n\n        let matirx: cc.Mat4 = new cc.Mat4();\n        comp.node.getWorldMatrix(matirx);\n\n        let matirxM = matirx.m;\n        let a = matirxM[0];\n        let b = matirxM[1];\n        let c = matirxM[4];\n        let d = matirxM[5];\n        let tx = matirxM[12];\n        let ty = matirxM[13];\n\n        let vl = local[0];\n        let vb = local[1];\n        let vr = local[2];\n        let vt = local[3];\n\n        let justTranslate = a === 1 && b === 0 && c === 0 && d === 1;\n\n        let index = 0;\n        let floatsPerVert = this.floatsPerVert;\n\n        if(justTranslate) {\n            // left bottom\n            verts[index] = vl + tx;\n            verts[index+1] = vb + ty;\n\n            index += floatsPerVert;\n\n            // right bottom\n            verts[index] = vr + tx;\n            verts[index+1] = vb + ty;\n\n            index += floatsPerVert;\n\n            // left top\n            verts[index] = vl + tx;\n            verts[index+1] = vt + ty;\n\n            index += floatsPerVert;\n\n            // right top\n            verts[index] = vr + tx;\n            verts[index+1] = vt + ty;\n        } else {\n            let al = a * vl, ar = a * vr,\n            bl = b * vl, br = b * vr,\n            cb = c * vb, ct = c * vt,\n            db = d * vb, dt = d * vt;\n\n            verts[index] = al + cb + tx;\n            verts[index+1] = bl + db + ty;\n            index += floatsPerVert;\n\n            verts[index] = ar + cb + tx;\n            verts[index+1] = br + db + ty;\n            index += floatsPerVert;\n\n            verts[index] = al + ct + tx;\n            verts[index+1] = bl + dt + ty;\n            index += floatsPerVert;\n\n            verts[index] = ar + ct + tx;\n            verts[index+1] = br + dt + ty;\n        }\n    }\n\n    // copy from \\jsb-adapter-master\\engine\\assemblers\\assembler-2d.js\n    updateWorldVertsNative(comp: any) {\n        let local = this._local;\n        let verts = this._renderData.vDatas[0];\n        let floatsPerVert = this.floatsPerVert;\n      \n        let vl = local[0],\n            vr = local[2],\n            vb = local[1],\n            vt = local[3];\n      \n        let index: number = 0;\n        // left bottom\n        verts[index] = vl;\n        verts[index+1] = vb;\n        index += floatsPerVert;\n        // right bottom\n        verts[index] = vr;\n        verts[index+1] = vb;\n        index += floatsPerVert;\n        // left top\n        verts[index] = vl;\n        verts[index+1] = vt;\n        index += floatsPerVert;\n        // right top\n        verts[index] = vr;\n        verts[index+1] = vt;\n    }\n\n    // 纯数据拷贝, 没有什么参考价值.\n    // 不用纠结为什么这么写\n    fillBuffers(comp: cc.RenderComponent, renderer: any) {\n        if(renderer.worldMatDirty) {\n            this.updateWorldVerts(comp);\n        }\n\n        let renderData = this._renderData;\n        let vData = renderData.vDatas[0];\n        let iData = renderData.iDatas[0];\n\n        let buffer = this.getBuffer();\n        let offsetInfo = buffer.request(this.verticesCount, this.indecesCount);\n\n        // fill vertices\n        let vertexOffset = offsetInfo.byteOffset >> 2;\n        let vbuf = buffer._vData;\n\n        if (vData.length + vertexOffset > vbuf.length) {\n            vbuf.set(vData.subarray(0, vbuf.length - vertexOffset), vertexOffset);\n        } else {\n            vbuf.set(vData, vertexOffset);\n        }\n\n        // fill indices\n        let ibuf = buffer._iData,\n            indiceOffset = offsetInfo.indiceOffset,\n            vertexId = offsetInfo.vertexOffset;             // vertexId是已经在buffer里的顶点数，也是当前顶点序号的基数\n        for (let i = 0, l = iData.length; i < l; i++) {\n            ibuf[indiceOffset++] = vertexId + iData[i];\n        }\n    }\n\n    packToDynamicAtlas(comp: any, frame: any) {\n        if(CC_TEST) return;\n\n        if (!frame._original && cc.dynamicAtlasManager && frame._texture.packable) {\n            let packedFrame = cc.dynamicAtlasManager.insertSpriteFrame(frame);\n            //@ts-ignore\n            if (packedFrame) {\n                frame._setDynamicAtlasFrame(packedFrame);\n            }\n        }\n        let material = comp._materials[0];\n        if (!material) return;\n        \n        if (material.getProperty('texture') !== frame._texture) {\n            // texture was packed to dynamic atlas, should update uvs\n            comp._vertsDirty = true;\n            comp._updateMaterial();\n        }\n    }\n\n    getBuffer() {\n        // cc.renderer._handle.getBuffer(\"mesh\", this.getVfmt());\n        //@ts-ignore\n        return cc.renderer._handle._meshBuffer;\n    }\n}","import { LIFE_CYCLE_BLOCK, LIFE_CYCLE_COMPLETE, LIFE_CYCLE_READY, LIFE_CYCLE_UNBLOCK } from \"../../kit/events/events\";\nimport EventSystem from \"../../kit/system/event/EventSystem\";\n\n/**\n * 负责章节生命周期，等通用功能\n */\nconst {ccclass} = cc._decorator;\n\n@ccclass\nexport default class BaseChapterComponent extends cc.Component {\n    protected params:any = null;\n    initParams(params) {\n        this.params = params;\n    }\n\n    onLoad () {\n        console.log(\"BaseChapterComponent onLoad params: \", this.params);\n        this.registerEvent();\n    }\n\n    registerEvent() {\n        EventSystem.on(LIFE_CYCLE_BLOCK, this.onLifeCycleBlock, this);\n        EventSystem.on(LIFE_CYCLE_UNBLOCK, this.onLifeCycleUnBlock, this);\n    }\n\n    unregisterEvent() {\n        EventSystem.on(LIFE_CYCLE_BLOCK, this.onLifeCycleBlock, this);\n        EventSystem.on(LIFE_CYCLE_UNBLOCK, this.onLifeCycleUnBlock, this);\n    }\n\n    onChapterReady(){\n        EventSystem.emit(LIFE_CYCLE_READY);\n    }\n\n    // override\n    onLifeCycleBlock() {\n        \n    }\n    // override\n    onLifeCycleUnBlock() {\n\n    }\n\n    onChapterComplete() {\n        EventSystem.emit(LIFE_CYCLE_COMPLETE);\n    }\n\n    onDestroy() {\n        console.log(\"BaseChapterComponent onDestroy do sth\");\n        this.unregisterEvent();\n    }\n\n\n}\n","import { FOLLOW_CLIENT_TO_MODULE, FOLLOW_MODULE_TO_CLIENT, LIFE_CYCLE_READY } from \"../../kit/events/events\";\nimport EventSystem from \"../../kit/system/event/EventSystem\";\nimport gameTask from \"../gameTask/scripts/gameTask\";\nimport { GameTaskInitParam } from \"../structure/CompInterface\";\nimport BaseChapterComponent from \"./BaseChapterComponent\";\n\n/**\n * 课程游戏基类， 课程游戏的功能抽离\n */\nconst { ccclass } = cc._decorator;\n\n@ccclass\nexport default class ChapterGameComponent extends BaseChapterComponent {\n    // 评测参数\n    recordData: any = null;\n\n    // 任务组件参数\n    taskData: GameTaskInitParam = null;\n    gameTaskCom: gameTask = null;\n\n    override onLoad() {\n        super.onLoad();\n        cc.log(`ChapterGameComponent onLoad params: ${this.params}`)\n\n        this.initData();\n        this.initComponents();\n    }\n\n    /**\n     * 子游戏可以根据需求重载,修改参数\n     */\n    initData() {\n        this.recordData = {\n            evaluatingType: 1,\n            evaluatingText: \"\",\n            tryTimes: 1,\n            evaluationScore: 30,\n            recordTime: 3,\n        };\n\n        // this.taskData = {\n        //     bundleName: 'SweepLeaves',\n        //     imgList: ['res/task1', 'res/task2']\n        // };\n    }\n\n    override registerEvent() {\n        super.registerEvent()\n        EventSystem.on(FOLLOW_MODULE_TO_CLIENT, this.onRecordResult, this);\n    }\n\n    override unregisterEvent() {\n        super.unregisterEvent()\n        EventSystem.off(FOLLOW_MODULE_TO_CLIENT, this.onRecordResult, this);\n    }\n    /**\n     * 组件加载完成\n     */\n    componentsLoadComplete() {\n        cc.log(`components load complete`)\n        this.onChapterReady();\n    }\n    /**\n     * 子游戏可以根据需求重载\n     */\n    initComponents() {\n        Promise.all([\n            this.initRecordAudioComp(),\n            this.initTaskComp(),\n        ]).then(() => {\n            this.componentsLoadComplete();\n        }).catch((error) => {\n            cc.warn(`initComponents error: ${error}`);\n        });\n    }\n\n    //录音组件\n    /**\n     * https://pplingo.atlassian.net/wiki/spaces/ED/pages/246644739/APP\n     * @param recordData \n     * @returns \n     */\n    initRecordAudioComp(): Promise<void> {\n        return new Promise<void>((resolve) => {\n            EventSystem.emit(FOLLOW_CLIENT_TO_MODULE, {\n                eventName: \"initComponent\",\n                extra: this.recordData,\n            });\n            resolve();\n        }).catch((error) => {\n            cc.warn(`initRecordAudioComp error: ${error}`);\n        });\n    }\n\n    //任务组件\n    initTaskComp(): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            if (this.taskData) {\n                let bundle = cc.assetManager.getBundle(\"common\");\n                if (bundle) {\n                    bundle.load(\"gameTask/gameTask\", cc.Prefab, (error: Error, assets: cc.Prefab) => {\n                        let taskNode = cc.instantiate(assets);\n                        this.gameTaskCom = taskNode.getComponent(\"gameTask\");\n                        this.gameTaskCom && this.gameTaskCom.initData(this.taskData);\n                        taskNode.parent = this.node;\n                        resolve();\n                    });\n                } else {\n                    resolve();\n                }\n            } else {\n                resolve();\n            }\n\n        }).catch((error) => {\n            cc.warn(`initTaskComp error: ${error}`);\n        });\n    }\n\n\n    /**\n     * 开始录音\n     * https://pplingo.atlassian.net/wiki/spaces/ED/pages/246644739/APP\n     * @param evaluatingText 评测关键词\n     * @param bundleName \n     * @param audioUrl 音频路径\n     * @returns \n     */\n    startRecordAudio(evaluatingText: string, bundleName?: string, audioUrl?:string) {\n        EventSystem.emit(FOLLOW_CLIENT_TO_MODULE, { eventName: \"startRecord\", extra: { evaluatingText,  bundleName, audioUrl} }); //开始录音\n    }\n\n    /**\n     * 评测完成回调\n     * https://pplingo.atlassian.net/wiki/spaces/ED/pages/246644739/APP\n     * @param result \n     */\n    onRecordResult(result) {\n        cc.log(` recordResult result.data: ${result.data}`);\n\n    }\n\n    override onDestroy() {\n        super.onDestroy();\n    }\n}\n","/**\n *  模板游戏state 类型\n */\nexport enum RoundStateType {\n    None = -1,\n    RoundOpenAniStart = 0,      // 开场动画开始\n    RoundOpenAniComplete,       // 开场动画播完\n    RoundStart,             // 环节开始\n    RoundProceeding,        // 环节进行中，多选，拼图之类的同步进度信息\n    RoundComplete,          // 环节完成\n    RoundEndAniStart,       // 完成动画开始播放\n    RoundEndAniComplete,    // 完成动画播放结束\n}","// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Hand extends cc.Component {\n\n    @property({ type: sp.Skeleton, displayName: '手动画' })\n    sp: sp.Skeleton = null\n\n    // private target: cc.Node = null\n\n    @property({ type: cc.Node, displayName: '手' })\n    cursor: cc.Node = null\n\n\n    @property({ type: cc.Node, displayName: 'Mask' })\n    mask: cc.Node = null\n\n    @property({ type: cc.Node, displayName: 'Bg' })\n    bg: cc.Node = null\n\n    /**\n     * 回调事件\n     */\n    onCompleted: () => void = null\n\n    onLoad() {\n        this.sp.setCompleteListener(() => {\n            if (this.onCompleted) {\n                const cb = this.onCompleted\n                cb()\n            }\n        })\n    }\n\n    /**\n     * 播放点击\n     */\n    playClick() {\n        this.fadeIn()\n        this.node.active = true\n        this.cursor.rotation = 0\n        this.sp.setAnimation(0, 'dian', false)\n    }\n\n    private fadeIn() {\n        let fade = cc.fadeIn(this.move_duration).easing(cc.easeSineOut())\n        this.bg.runAction(fade)\n    }\n\n    /**\n     * 左滑\n     */\n    playSwipeLeft() {\n        this.playSwipeByAngle(0, 'you-zuo', false)\n    }\n\n    /**\n     * 右滑\n     */\n    playSwipeRight() {\n        this.playSwipeByAngle(0, 'zuoyou', false)\n    }\n\n    /**\n     * 下滑\n     */\n    playSwipeUp() {\n        this.playSwipeByAngle(90, 'zuoyou', false)\n    }\n\n    /**\n     * 上滑\n     */\n    playSwipeDown() {\n        this.playSwipeByAngle(90, 'you-zuo', false)\n    }\n\n    /**\n     * 任意角度滑动\n     */\n    playSwipeByAngle(angle, name, loop) {\n        this.fadeIn()\n        this.node.active = true\n        this.cursor.rotation = angle\n        this.sp.setAnimation(0, name, loop)\n    }\n\n    move_duration = 0.4\n    /**\n     * 隐藏\n     */\n    hide() {\n        // this.target = null\n        // let fade = cc.fadeOut(this.move_duration).easing(cc.easeSineOut())\n        // this.bg.runAction(fade)\n        this.node.active = false\n    }\n\n    get isShowing(){\n        return this.node.active\n    }\n\n    stop(){\n    }\n\n    /**\n     * 设置目标区域\n     * @param x \n     * @param y \n     * @param w \n     * @param h \n     */\n    setTargetBound(x: number, y: number, w: number, h: number) {\n        this.mask.width = w\n        this.mask.height = h\n        this.mask.x = x\n        this.mask.y = y\n        //bg坐标\n        const screenSize = cc.Canvas.instance.designResolution\n        this.bg.width = screenSize.width\n        this.bg.height = screenSize.height\n        this.bg.x = -this.mask.x\n        this.bg.y = -this.mask.y\n        this.cursor.x = this.mask.x\n        this.cursor.y = this.mask.y\n    }\n\n    /**\n     * 设置目标区域\n     * @param target \n     */\n    setTargetNode(target: cc.Node, parent: cc.Node) {\n        if (target == null) {\n            return\n        }\n        let worldPos = target.convertToWorldSpaceAR(cc.Vec2.ZERO)\n        this.mask.width = target.width\n        this.mask.height = target.height\n        let localPos = parent.convertToNodeSpaceAR(worldPos)\n        this.setTargetBound(localPos.x, localPos.y, target.width, target.height)\n    }\n\n}\n","import SpriteAssembler from \"./SpriteAssembler\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class LSprite extends cc.Sprite {\n\n    @property({type: [cc.Color], displayName: \"顶点颜色\", tooltip: \"左下->右下->左上->右上\"})\n    colorList: cc.Color[] = [];\n\n    flushProperties() {\n        // //@ts-ignore\n        // let assembler: MovingBGAssembler = this._assembler;\n        // if (!assembler)\n        //     return;\n        // this.setVertsDirty();\n    }\n\n    _resetAssembler() {\n        this.setVertsDirty();\n        let assembler = this._assembler = new SpriteAssembler();\n        assembler.colorList = this.colorList;\n        this.flushProperties();\n\n        assembler.init(this);\n\n        // @ts-ignore\n        this._updateColor(); // may no need\n    }\n\n}","import ChapterGameComponent from \"../../scripts/ChapterGameComponent\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class RollerAnimation extends ChapterGameComponent {\n  @property(cc.Node)\n  farNode: cc.Node = null;\n\n  @property(cc.Node)\n  middleNode: cc.Node = null;\n\n  @property(cc.Node)\n  nearNode: cc.Node = null;\n\n  @property({\n    displayName: \"远景速度\",\n    tooltip: \"如果要从左往右请填写负数\",\n  })\n  public farSpeed: number = 100;\n\n  @property({\n    displayName: \"中景速度\",\n    tooltip: \"如果要从左往右请填写负数\",\n  })\n  public middleSpeed: number = 200;\n\n  @property({\n    displayName: \"近景速度\",\n    tooltip: \"如果要从左往右请填写负数\",\n  })\n  public nearSpeed: number = 300;\n\n  @property({\n    displayName: \"横向移动\",\n    tooltip: \"默认从右往左\",\n  })\n  public isHorizontal: boolean = true;\n\n  /** 是否停止移动 */\n  public isStopMove: boolean = false;\n\n  onLoad() {\n    super.onLoad();\n  }\n\n  start() {}\n\n  public initData() {}\n\n  /** 暂停物体移动 */\n  public stopMove() {\n    this.isStopMove = true;\n  }\n\n  /** 恢复物体移动 */\n  public resumeMove() {\n    this.isStopMove = false;\n  }\n\n  public setFarSpeed(speed) {\n    this.farSpeed = speed;\n  }\n\n  public getFarSpeed() {\n    return this.farSpeed;\n  }\n\n  public setMiddleSpeed(speed) {\n    this.middleSpeed = speed;\n  }\n\n  public getMiddleSpeed() {\n    return this.middleSpeed;\n  }\n\n  public setNearSpeed(speed) {\n    this.nearSpeed = speed;\n  }\n\n  public getNearSpeed() {\n    return this.nearSpeed;\n  }\n\n  onDestroy() {\n    super.onDestroy();\n  }\n\n  /**\n   *\n   * @param FSpeed 远景速度\n   * @param MSpeed 中景速度\n   * @param NSpeed 近景速度\n   * @returns\n   */\n  public changeSpeedMove(FSpeed: number, MSpeed: number, NSpeed: number) {\n    if (this.farNode.childrenCount > 0) {\n      this.farNode.children.forEach((v) => {\n        if (this.isHorizontal) {\n          v.x -= FSpeed;\n        } else {\n          v.y -= FSpeed;\n        }\n        this.checkNode(v, FSpeed);\n      });\n    }\n\n    if (this.nearNode.childrenCount > 0) {\n      this.nearNode.children.forEach((v) => {\n        if (this.isHorizontal) {\n          v.x -= NSpeed;\n        } else {\n          v.y -= NSpeed;\n        }\n        this.checkNode(v, NSpeed);\n      });\n    }\n\n    if (this.middleNode.childrenCount > 0) {\n      this.middleNode.children.forEach((v) => {\n        if (this.isHorizontal) {\n          v.x -= MSpeed;\n        } else {\n          v.y -= MSpeed;\n        }\n        this.checkNode(v, MSpeed);\n      });\n    }\n  }\n\n  private checkNode(node: cc.Node, dir: number) {\n    let w = cc.view.getFrameSize().width + node.width / 2;\n    let h = cc.view.getFrameSize().height + node.height / 2;\n    if (this.isHorizontal) {\n      if (dir >= 0) {\n        //  从右往左  <------\n        if (node.x < -w) {\n          node.x = w;\n        }\n      } else {\n        // 从左往右 ------>\n        if (node.x > w) {\n          node.x = -w;\n        }\n      }\n    } else {\n      if (dir >= 0) {\n        //  从上往下\n        if (node.y < -h) {\n          node.y = h;\n        }\n      } else {\n        // 从下往上\n        if (node.y > h) {\n          node.y = -h;\n        }\n      }\n    }\n  }\n\n  update(dt) {\n    if (this.isStopMove) return;\n    let farSpeed = dt * this.farSpeed;\n    let middleSpeed = dt * this.middleSpeed;\n    let nearSpeed = dt * this.nearSpeed;\n    this.changeSpeedMove(farSpeed, middleSpeed, nearSpeed);\n  }\n}\n","/**\n * spine 动画播放\n */\n\nimport TimerSystem from \"../../kit/system/timer/TimerSystem\";\nimport { AnimationConfig } from \"../structure/CompInterface\";\n\nexport class SpineUtils {\n\n    /**\n     * 播放一个动作\n     * @param sp spine 组件\n     * @param info 播放参数\n     * @returns \n     */\n    static playSpineAsync(sp: sp.Skeleton, info: AnimationConfig) {\n        return new Promise((resolve, reject) => {\n            info.func && info.func();\n            if (info.loop) {\n                sp.setAnimation(0, info.name, true);\n                TimerSystem.instance.doOnce(info.duration*1000 || 0, () => {\n                    if (cc.isValid(sp.node)) {\n                        resolve(true)\n                    }else{\n                        cc.warn(`sp.node  is valid false! animation name ${info.name}`);\n                        resolve(false)\n                    }\n                });\n            } else {\n                let te = sp.setAnimation(0, info.name, false);\n                if (!te) {\n                    resolve(true);\n                    return;\n                };\n                sp.setTrackCompleteListener(te, () => {\n                    resolve(true);\n                });\n            }\n\n        })\n    }\n\n    /**\n     * 根据配置播放动画\n     * @param sp spine 组件\n     * @param config AnimationConfig[]\n     */\n    static async playSpineAniByConfig(sp: sp.Skeleton, config: AnimationConfig[]) {\n        for (let index = 0; index < config.length; index++) {\n            const info = config[index];\n            info.func && info.func();\n            await SpineUtils.playSpineAsync(sp,info);\n        }\n\n    }\n    \n}\n","import Assembler2D from \"./Assembler2D\";\n\nexport default class SpriteAssembler extends Assembler2D {\n\n    private _whiteColor: number = 4294967295;\n    private _colorList: number[] = [];\n\n    public set colorList(val: cc.Color[]) {\n        let newColorList = [];\n        for(let i = 0; i < val.length; i++) {\n            let v = 0;\n            let color = val[i] as any;\n            newColorList[i] = color._val;\n        }\n        this._colorList = newColorList;\n    }\n\n    updateRenderData(sprite: cc.Sprite) {\n        this.packToDynamicAtlas(sprite, sprite._spriteFrame);\n        super.updateRenderData(sprite);\n    }\n\n    updateUVs(sprite: any) {\n        let uv = sprite._spriteFrame.uv;\n        // console.log(\"xxxx\", uv);\n        // uv = [0,1,      2,2,    0,0,        2,0];\n        let uvOffset = this.uvOffset;\n        let floatsPerVert = this.floatsPerVert;\n        let verts = this._renderData.vDatas[0];\n        for (let i = 0; i < 4; i++) {\n            let srcOffset = i * 2;\n            let dstOffset = floatsPerVert * i + uvOffset;\n            verts[dstOffset] = uv[srcOffset];\n            verts[dstOffset + 1] = uv[srcOffset + 1];\n        }\n    }\n\n    updateVerts(sprite: any) {\n        let node = sprite.node,\n            cw = node.width, ch = node.height,\n            appx = node.anchorX * cw, appy = node.anchorY * ch,\n            l, b, r, t;\n        if (sprite.trim) {\n            l = -appx;\n            b = -appy;\n            r = cw - appx;\n            t = ch - appy;\n        }\n        else {\n            let frame = sprite.spriteFrame,\n                ow = frame._originalSize.width, oh = frame._originalSize.height,\n                rw = frame._rect.width, rh = frame._rect.height,\n                offset = frame._offset,\n                scaleX = cw / ow, scaleY = ch / oh;\n            let trimLeft = offset.x + (ow - rw) / 2;\n            let trimRight = offset.x - (ow - rw) / 2;\n            let trimBottom = offset.y + (oh - rh) / 2;\n            let trimTop = offset.y - (oh - rh) / 2;\n            l = trimLeft * scaleX - appx;\n            b = trimBottom * scaleY - appy;\n            r = cw + trimRight * scaleX - appx;\n            t = ch + trimTop * scaleY - appy;\n        }\n\n        let local = this._local;\n        local[0] = l;\n        local[1] = b;\n        local[2] = r;\n        local[3] = t;\n        this.updateWorldVerts(sprite);\n    }\n\n    updateColor(comp: any, color: any) {\n        let uintVerts = this._renderData.uintVDatas[0];\n        if(!uintVerts) return;\n        color = color != null ? color : comp.node.color._val;\n        let floatsPerVert = this.floatsPerVert;\n        let colorOffset = this.colorOffset;\n        let d = 0;\n\n        for(let i = colorOffset, len = uintVerts.length; i < len; i += floatsPerVert) {\n            color = this._colorList[d];\n            !color ? color = this._whiteColor : null;\n            uintVerts[i] = color;\n            d++;\n        }\n    }\n}","// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class TaskBoard extends cc.Component {\n    private contents: cc.Prefab[] = []\n    private contentNodes: cc.Node[] = []\n    /**\n     * 完成图标\n     */\n    @property({ type: sp.Skeleton, displayName: '任务完成' })\n    finishIcon: sp.Skeleton = null\n\n\n    /**\n     * 面板位置\n     */\n    @property({ type: [cc.Node], displayName: '面板位置' })\n    poses: cc.Node[] = []\n\n    /**\n     * 移动完毕:isShowing是否显示状态\n     */\n    // onMoveEnded: (isShowing: boolean) => void = null\n\n    private move_duration = 0.4\n\n    /**\n     * 当前页\n     */\n    private currPage = 0\n\n    isShowing: boolean = false\n\n    /**\n     * 面板\n     */\n    @property({ type: cc.Node, displayName: '面板' })\n    panel: cc.Node = null\n\n    /**\n     * mask\n     */\n    @property({ type: cc.Node, displayName: 'mask' })\n    mask: cc.Node = null\n\n    /**\n     * 内容区域\n     */\n    @property({ type: cc.Node, displayName: '内容区域' })\n    safearea: cc.Node = null\n\n    onLoad() {\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this)\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this)\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this)\n        let sw = cc.Canvas.instance.designResolution\n        this.poses[0].x = sw.width / 2 - 220\n        this.poses[0].y = -sw.height / 2\n        this.poses[1].x = sw.width / 2 + 220\n        this.poses[1].y = -sw.height / 2\n        this.panel.x = this.poses[1].x\n        this.panel.y = this.poses[1].y\n    }\n\n    start() {\n\n    }\n\n    // update (dt) {}\n\n    /**\n     * 显示\n     * @param pageIndex 页码，默认:0\n     */\n    show(pageIndex: number,onMoveEnded:Function = null) {\n        this.finishIcon.node.active = false\n        this.node.active = true\n        if (this.contents.length > 0) {\n            let pre = this.contents[pageIndex]\n            let ch = cc.instantiate(pre)\n            ch.active = true\n            this.safearea.addChild(ch)\n            ch.x = 0\n            ch.y = 0\n        } else {\n            if (this.contentNodes.length > 0) {\n                let pre = this.contentNodes[pageIndex]\n                let ch = cc.instantiate(pre)\n                ch.active = true\n                this.safearea.addChild(ch)\n                ch.x = 0\n                ch.y = 0\n            }\n        }\n        this.panel.active = true\n        let fade = cc.fadeIn(this.move_duration).easing(cc.easeSineOut())\n        this.mask.runAction(fade)\n        this.moveTo(this.poses[0], this.move_duration, () => {\n            this.isShowing = true\n            if (onMoveEnded) {\n                onMoveEnded(this.isShowing)\n            }\n        })\n    }\n\n    onClosed:Function = null\n\n    /**\n     * 收起\n     */\n    hide(onMoveEnded:Function = null) {\n        let fade = cc.fadeOut(this.move_duration).easing(cc.easeSineOut())\n        this.mask.runAction(fade)\n        this.moveTo(this.poses[1], this.move_duration, () => {\n            this.isShowing = false\n            this.node.active = false\n            this.panel.active = false\n            if (this.safearea.children.length > 0) {\n                let ch = this.safearea.children[0]\n                ch.removeFromParent()\n                ch.destroy()\n            }\n            this.hideFinishIcon()\n            if (onMoveEnded) {\n                onMoveEnded(this.isShowing)\n            }\n            if(this.onClosed){\n                let oc = this.onClosed\n                oc()\n            }\n        })\n    }\n\n    /**\n     * 内容可设置prefab也可设置node,内容区大小为330x340px\n     * @param prefabs \n     */\n    setPrefabs(prefabs: cc.Prefab[]) {\n        this.contents = prefabs\n    }\n\n    /**\n     * 内容可设置prefab也可设置node,内容区大小为330x340px\n     * @param nodes \n     */\n    setNodes(nodes: cc.Node[]) {\n        this.contentNodes = nodes\n    }\n\n    /**\n     * 播放完成盖章动画\n     */\n    playFinished() {\n        this.finishIcon.node.active = true\n        this.finishIcon.setAnimation(0, 'gaizhang', false)\n    }\n\n    hideFinishIcon() {\n        this.finishIcon.node.active = false\n        // this.finishIcon.setAnimation(0, '', false)\n    }\n\n    onClick() {\n        // if (this.isShowing) {\n        //     this.hide()\n        // } else {\n        //     this.show()\n        // }\n\n    }\n\n    private flag_block = false\n\n    /**\n    * 飘动到\n    * @param pos \n    */\n    moveTo(pos: cc.Node, duration = 1, callback: () => void = () => void {}) {\n        this.flag_block = true\n        let mov = cc.moveTo(duration, pos.x, pos.y).easing(cc.easeBackOut())\n        let seq = cc.sequence(mov, cc.callFunc(() => {\n            this.flag_block = false\n            callback()\n        }))\n        this.panel.runAction(seq)\n    }\n\n    private initPos: cc.Vec2 = cc.Vec2.ZERO\n    private currPos: cc.Vec2 = cc.Vec2.ZERO\n\n    private onTouchBegan(event: cc.Event.EventTouch) {\n        console.log('onTouchBegan >>>>>>>>>>>>')\n        this.currPos.x = event.getLocationX()\n        this.currPos.y = event.getLocationY()\n        this.initPos.x = event.getLocationX()\n        this.initPos.y = event.getLocationY()\n    }\n\n    private onTouchEnd(event: cc.Event.EventTouch) {\n        console.log('onTouchEnd >>>>>>>>>>>>')\n        // console.log(`touch x: ${event.getLocationX()} y: ${event.getLocationY()}`)\n        let currX = event.getLocationX()\n        let currY = event.getLocationY()\n\n        let dis = Math.sqrt((currX - this.initPos.x) * (currX - this.initPos.x) + (currY - this.initPos.y) * (currY - this.initPos.y))\n        if (dis < 20) {\n            //收起\n            this.hide()\n        }\n    }\n\n\n}\n","import AudioManager from \"../../../kit/system/audio/AudioManager\";\nimport { GameTaskInitParam, GameTaskShowParam } from \"../../structure/CompInterface\";\n\n/**\n * 课程游戏侧边任务\n * 使用：子类重载ChapterGameComponent的initData，并给taskData赋值，然后通过 gameTaskCom\n * 调用接口\n    let showParams: GameTaskShowParam = {\n        taskIndex:1,\n        complete:false,\n        callFunc1:()=>{\n        },\n        callFunc2: () => {\n        },\n        callFunc3: () => {\n        },\n    }\n    this.showTaskList(showParams);\n */\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class gameTask extends cc.Component {\n\n    @property(cc.Widget)\n    nodeWidget: cc.Widget = null;\n\n    @property(cc.Node)\n    topBtn: cc.Node = null;\n\n    private moveLen = 400; // 任务栏移动距离\n    public taskHideTime = 4; // 任务栏隐藏倒计时\n    private moveTime = 0.5; // 任务栏移动时间\n\n    taskData: GameTaskInitParam = null;\n    params:any;\n\n    initData(taskData){\n        this.taskData = taskData;\n    }\n    onLoad () {\n        this.node.active = false;\n        this.topBtn.active = false;\n        this.updateTaskPos();\n        // let showParams: GameTaskShowParam = {\n        //     taskIndex:1,\n        //     complete:false,\n        //     callFunc1:()=>{\n        //     },\n        //     callFunc2: () => {\n        //     },\n        //     callFunc3: () => {\n        //     },\n        // }\n        // this.showTaskList(showParams);\n\n        // this.scheduleOnce(()=>{\n        //     showParams.taskIndex = 0;\n        //     showParams.complete = true;\n        //     this.showTaskList(showParams);\n        // }, 8);\n\n        // this.scheduleOnce(() => {\n        //     showParams.taskIndex = 1;\n        //     showParams.complete = true;\n        //     this.showTaskList(showParams);\n        // }, 16);\n    }\n    \n    private updateTaskPos(){\n        this.nodeWidget.right = -this.node.width;\n        this.nodeWidget.updateAlignment();\n    }\n\n    /** 显示任务栏 */\n    async showTaskList(params: GameTaskShowParam) {\n        if (!params || (params.taskIndex == undefined)) {\n            cc.error(`show task params error! params:${JSON.stringify(params)}`);\n            return \n        }\n        let taskIndex = params.taskIndex;\n        let complete = params.complete;\n        if (taskIndex >= this.taskData.imgList.length) {\n            cc.error(`task index error!`)\n            return\n        }\n        await this.updateTaskImg(taskIndex);\n        this.moveAni(params, ()=>{\n            this.showSealSpine(complete);\n        });\n    }\n\n    private updateTaskImg(taskIndex){\n        return new Promise<void>((resolve, reject) => {\n            let bundle = cc.assetManager.getBundle(this.taskData.bundleName);\n            if (bundle) {\n                bundle.load(this.taskData.imgList[taskIndex], cc.SpriteFrame, (err:Error, asset:cc.SpriteFrame)=>{\n                    this.node.getChildByName('task').getComponent(cc.Sprite).spriteFrame = asset;\n                    this.node.active = true;\n                    resolve();\n                });\n            }\n        });\n    }\n\n    private showSealSpine(complete) {\n        if (!complete) {\n            return\n        }\n        let sealNode = this.node.getChildByName(\"sealNode\");\n        sealNode.active = true;\n        let sk = sealNode.getComponent(sp.Skeleton);\n        let en: sp.spine.TrackEntry = sk.setAnimation(0, \"gaizhang\", false);\n        sk.setTrackCompleteListener(en, () => {\n            AudioManager.playEffect(\"common\", `gameTask/audio/SE_luoyefense_03`);\n            AudioManager.playEffect(\"common\", `gameTask/audio/6_congratulations`);\n        });\n    }\n\n    private moveAni(params, callFuc){\n        this.params = params;\n        cc.tween(this.node)\n            .by(this.moveTime, { x: -this.moveLen })\n            .call(() => {\n                params.callFunc1 && params.callFunc1();\n                callFuc && callFuc();\n                this.topBtn.active = true;\n\n            })\n            .delay(this.taskHideTime)\n            .call(() => {\n                params.callFunc2 && params.callFunc2();\n                this.topBtn.active = false;\n            })\n            .by(this.moveTime, { x: this.moveLen })\n            .call(() => {\n                params.callFunc3 && params.callFunc3();\n                let sealNode = this.node.getChildByName(\"sealNode\");\n                sealNode.active = false;\n            })\n            .start();\n    }\n\n    onTopBtnClicked(event){\n        cc.Tween.stopAllByTarget(this.node);\n        cc.tween(this.node)\n            .by(this.moveTime, { x: this.moveLen })\n            .call(() => {\n                this.params && this.params.callFunc3 && this.params.callFunc3();\n                let sealNode = this.node.getChildByName(\"sealNode\");\n                sealNode.active = false;\n            })\n            .start();\n\n        //btn\n        this.topBtn.active = false;\n        //call fun\n        this.params && this.params.callFunc2 && this.params.callFunc2();\n    }\n\n}\n\n\n","\nconst {ccclass, property} = cc._decorator;\nenum Mtype {\n    VERTICAL_P,\n    VERTICAL_N, \n    HORIZONTAL_P,\n    HORIZONTAL_N,\n  }\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property({type:cc.Node,tooltip:\"当前屏的背景节点\"})\n    lubg1:cc.Node = null;\n\n    @property({type:cc.Node,tooltip:\"下一屏的背景节点\"})\n    lubg2:cc.Node = null;\n\n    @property({\n        type:cc.Integer,\n        tooltip:\"循环速度\",\n        min:0,\n        max:1000,\n        step:50,\n        slide:true,\n    })\n    speed = 200;\n\n    @property({ type: cc.Enum(Mtype),tooltip:\"VERTICAL_P:垂直向下滚动  VERTICAL_N:垂直向上滚动 HORIZONTAL_P:水平向左滚动 HORIZONTAL_N:水平向右滚动\" })\n    mtype: Mtype = Mtype.VERTICAL_P;\n\n    isRunmap = false;//滚动开关\n    cur_lubg:cc.Node = null;\n    luOffset = 0;\n    // onLoad () {}\n\n    start () {\n        this.cur_lubg = this.lubg1;\n        this.setbgfix();\n        this.isRunmap = true;\n    }\n\n    setbgfix(){\n        let frameSize: cc.Size = cc.view.getFrameSize()\n        let designResolution: cc.Size = cc.Canvas.instance.designResolution\n        let designSize: cc.Size = cc.size(designResolution.width, designResolution.height)\n        let frameAspectRatio: number = frameSize.width / frameSize.height\n        let screenSize: cc.Size = { ...designSize } as cc.Size\n\n        let ratio: number = this.node.width / this.node.height\n        if (ratio > frameAspectRatio) {\n            let width = this.node.width * screenSize.height / this.node.height\n            this.lubg1.width = width\n            this.lubg1.height = screenSize.height\n            this.lubg2.width = width\n            this.lubg2.height = screenSize.height\n            switch (this.mtype) {\n                case Mtype.VERTICAL_P:\n                    this.lubg2.y = screenSize.height;\n                    this.luOffset = screenSize.height;\n                    break;\n                case Mtype.VERTICAL_N:\n                    this.lubg2.y = -screenSize.height;\n                    this.luOffset = screenSize.height;\n                    break;\n                case Mtype.HORIZONTAL_P:\n                    this.lubg2.x = width;\n                    this.luOffset = width;\n                    break;\n                case Mtype.HORIZONTAL_N:\n                    this.lubg2.x = -width;\n                    this.luOffset = width;\n                    break;\n                default:\n                    break;\n            }\n        } else {\n            let height = this.node.height * screenSize.width / this.node.width\n            this.lubg1.width = screenSize.width\n            this.lubg1.height = height\n            this.lubg2.width = screenSize.width\n            this.lubg2.height = height\n            switch (this.mtype) {\n                case Mtype.VERTICAL_P:\n                    this.lubg2.y = height;\n                    this.luOffset = height;\n                    break;\n                case Mtype.VERTICAL_N:\n                    this.lubg2.y = -height;\n                    this.luOffset = height;\n                    break;\n                case Mtype.HORIZONTAL_P:\n                    this.lubg2.x = screenSize.width;\n                    this.luOffset = screenSize.width;\n                    break;\n                case Mtype.HORIZONTAL_N:\n                    this.lubg2.x = -screenSize.width;\n                    this.luOffset = screenSize.width;\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n\n    runlubg(dt){\n        var s = dt * this.speed;\n        \n        switch (this.mtype) {\n            case Mtype.VERTICAL_P:\n                this.lubg1.y -= s;\n                this.lubg2.y -= s;\n                if (this.cur_lubg.y <= -this.luOffset) {\n                    if(this.cur_lubg == this.lubg2) {\n                        this.lubg2.y = this.lubg1.y + this.luOffset;\n                        this.cur_lubg = this.lubg1;\n                    }\n                    else {\n                        this.lubg1.y = this.lubg2.y + this.luOffset;\n                        this.cur_lubg = this.lubg2;\n                    }\n                }\n                break;\n            case Mtype.VERTICAL_N:\n                this.lubg1.y += s;\n                this.lubg2.y += s;\n                if (this.cur_lubg.y >= this.luOffset) {\n                    if(this.cur_lubg == this.lubg2) {\n                        this.lubg2.y = this.lubg1.y - this.luOffset;\n                        this.cur_lubg = this.lubg1;\n                    }\n                    else {\n                        this.lubg1.y = this.lubg2.y - this.luOffset;\n                        this.cur_lubg = this.lubg2;\n                    }\n                }\n                break;\n            case Mtype.HORIZONTAL_P:\n                this.lubg1.x -= s;\n                this.lubg2.x -= s;\n                if (this.cur_lubg.x <= -this.luOffset) {\n                    if(this.cur_lubg == this.lubg2) {\n                        this.lubg2.x = this.lubg1.x + this.luOffset;\n                        this.cur_lubg = this.lubg1;\n                    }\n                    else {\n                        this.lubg1.x = this.lubg2.x + this.luOffset;\n                        this.cur_lubg = this.lubg2;\n                    }\n                }\n                break;\n            case Mtype.HORIZONTAL_N:\n                this.lubg1.x += s;\n                this.lubg2.x += s;\n                if (this.cur_lubg.x >= this.luOffset) {\n                    if(this.cur_lubg == this.lubg2) {\n                        this.lubg2.x = this.lubg1.x - this.luOffset;\n                        this.cur_lubg = this.lubg1;\n                    }\n                    else {\n                        this.lubg1.x = this.lubg2.x - this.luOffset;\n                        this.cur_lubg = this.lubg2;\n                    }\n                }\n                break;\n            default:\n                break;\n        }\n        \n    }\n    \n    update (dt) {\n        if (this.isRunmap) {\n            this.runlubg(dt);\n        }\n    }\n}\n"],"file":"index.js"}