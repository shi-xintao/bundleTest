window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var p="function"==typeof __require&&__require;if(!s&&p)return p(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({gameMain:[function(t,e,o){"use strict";cc._RF.push(e,"c12feFtWr1A4pZeJ9Kgv346","gameMain");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../kit/events/events"),s=t("../../../kit/system/event/EventSystem"),c=t("./player"),p=cc._decorator,l=p.ccclass,u=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._player=null,e.BGM=null,e.BGMID=-1,e.vsLayerAudio=null,e.gameOverAudio=null,e.playerNode=null,e.mask=null,e.gameLayer=null,e.gameOverLayer=null,e.backgrounds=[],e.missons=[],e.vsNodes=[],e.monsters=[],e.touchTime=0,e.missonIndex=0,e.playerHp=5,e.bgDefaultX=0,e}return i(e,t),e.prototype.onLoad=function(){this.playerNode&&(this._player=this.playerNode.getComponent("player")),s.default.on("Day5_Game_Over",this.GameOver,this),s.default.on("Day5_Game_Restart",this.GameRestart,this),s.default.on("Day5_Game_Next",this.GameQuit,this),s.default.on("Day5_Misson_Next",this.MissonComplete,this),s.default.on("Day5_Player_Hurt",this.playerHurt,this)},e.prototype.fixScreen=function(){var t=this.playerNode.getComponent(cc.Widget).bottom,e=cc.Canvas.instance.designResolution.height/750*190;this.playerNode.getComponent(cc.Widget).bottom=t+e-190;for(var o=0;o<this.monsters.length;o++)this.monsters[o].getComponent(cc.Widget).bottom+=e-190},e.prototype.start=function(){this.fixScreen(),this.initGame()},e.prototype.initGame=function(){var t=this;this.bgDefaultX=this.backgrounds[0].x,cc.log(this.bgDefaultX),this.node.on("touchend",this.movePlayer,this),this.mask.active=!0,this.BGMID=cc.audioEngine.play(this.BGM,!0,.6),this.scheduleOnce(function(){t._player.playerRun(3,400)},1),this.scheduleOnce(function(){t.mask.active=!1},4)},e.prototype.playerHurt=function(){cc.log("player hp -1"),this.playerHp-=1},e.prototype.movePlayer=function(){var t=this;cc.log("touch"),this.mask.active=!0,this._player.playerRun(1,150),this.scheduleOnce(function(){t.mask.active=!1,t.touchTime+=1,3==t.touchTime&&(t.node.off("touchend",t.movePlayer,t),t.scheduleOnce(function(){t.changeMisson(t.missonIndex)},1))},1)},e.prototype.changeMisson=function(t){var e=this;if(t>=3)s.default.emit(a.LIFE_CYCLE_COMPLETE);else{var o=cc.instantiate(this.vsNodes[t]);this.node.addChild(o),o.y=900,o.getComponent(cc.Animation).on("finished",function(){o.destroy()},this),o.getComponent(cc.Animation).play(),cc.audioEngine.play(this.vsLayerAudio,!1,1),this.scheduleOnce(function(){var o=cc.instantiate(e.missons[t]);e.gameLayer.addChild(o),e.playerNode.active=!1,e.monsters[t].active=!1,s.default.emit("Player_Hp_Init",e.playerHp)},1)}},e.prototype.MissonComplete=function(){var t=this;this.missonIndex+=1,this.playerNode.active=!0;for(var e=this.playerHp;e<5;e++)this._player.hearts[e].getChildByName("heart1").active=!1;for(this._player.playerRun(9),e=0;e<4;e++)cc.tween(this.backgrounds[e]).by(9,{x:-1334}).start();this.scheduleOnce(function(){t.changeMisson(t.missonIndex)},9)},e.prototype.GameOver=function(){var t=cc.instantiate(this.gameOverLayer);this.node.addChild(t),cc.audioEngine.stop(this.BGMID),cc.audioEngine.play(this.gameOverAudio,!1,1),t.name="gameOverLayer",this.gameLayer.destroyAllChildren()},e.prototype.GameRestart=function(){var t=this;this.gameLayer.destroyAllChildren(),this.node.getChildByName("gameOverLayer").destroy(),this.playerHp=5,this._player.reStartPlayer(),this.touchTime=0,this.missonIndex=0,this.playerNode.x=-867,this.playerNode.active=!0,this.monsters.forEach(function(t){t.active=!0}),this.backgrounds.forEach(function(t,e){t.active=!1,t.x=1333*e}),this.scheduleOnce(function(){t.backgrounds.forEach(function(t,e){t.active=!0,t.getComponent(cc.Widget).left=1333*e})}),this.initGame()},e.prototype.GameQuit=function(){cc.audioEngine.stop(this.BGMID)},e.prototype.onDestroy=function(){s.default.off("Day5_Game_Over",this.GameOver,this),s.default.off("Day5_Game_Restart",this.GameRestart,this),s.default.off("Day5_Game_Next",this.GameQuit,this),s.default.off("Day5_Misson_Next",this.MissonComplete,this),s.default.off("Day5_Player_Hurt",this.playerHurt,this),cc.audioEngine.stop(this.BGMID)},r([u({type:c.default,displayName:"player"})],e.prototype,"_player",void 0),r([u({type:cc.AudioClip})],e.prototype,"BGM",void 0),r([u({type:cc.AudioClip})],e.prototype,"vsLayerAudio",void 0),r([u({type:cc.AudioClip})],e.prototype,"gameOverAudio",void 0),r([u(cc.Node)],e.prototype,"playerNode",void 0),r([u(cc.Node)],e.prototype,"mask",void 0),r([u(cc.Node)],e.prototype,"gameLayer",void 0),r([u(cc.Prefab)],e.prototype,"gameOverLayer",void 0),r([u({type:[cc.Node]})],e.prototype,"backgrounds",void 0),r([u({type:[cc.Prefab]})],e.prototype,"missons",void 0),r([u({type:[cc.Prefab]})],e.prototype,"vsNodes",void 0),r([u({type:[cc.Node]})],e.prototype,"monsters",void 0),r([l],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../kit/events/events":void 0,"../../../kit/system/event/EventSystem":void 0,"./player":"player"}],gameOverLayer:[function(t,e,o){"use strict";cc._RF.push(e,"e7947lazuZDHqQ1D+dpmdog","gameOverLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../kit/events/events"),s=t("../../../kit/system/event/EventSystem"),c=cc._decorator,p=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.replayBtnCall=function(){cc.log("replayBtnCall"),s.default.emit("Day5_Game_Restart")},e.prototype.nextBtnCall=function(){s.default.emit(a.LIFE_CYCLE_BACK)},r([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../../kit/events/events":void 0,"../../../kit/system/event/EventSystem":void 0}],mission_1:[function(t,e,o){"use strict";cc._RF.push(e,"aec65U9501DZYwRYSyjzdc3","mission_1");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../kit/events/events"),s=t("../../../kit/system/event/EventSystem"),c=t("./player"),p=cc._decorator,l=p.ccclass,u=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._player=null,e.playerNode=null,e.monster=null,e.shields=[],e.gameAudios=[],e.attackAudio=null,e.monsterTurn=0,e.playerTurn=0,e.recordTimes=0,e.touchGameAnswer=[1,0,2],e.wordData=["\u7ea2\u8272","\u9ec4\u8272","\u84dd\u8272"],e.monsterSkin=["hongse","huangse","lanse"],e.isTest=!1,e}return i(e,t),e.prototype.onLoad=function(){s.default.on(a.FOLLOW_MODULE_TO_CLIENT,this.recordResult,this)},e.prototype.start=function(){var t=this;this.playerNode&&(this._player=this.playerNode.getComponent("player")),this.shields.forEach(function(t){t.getComponent(cc.Button).interactable=!1}),this.scheduleOnce(function(){t.runGameMonsterTurn(t.monsterTurn)},3)},e.prototype.playGameWord=function(){cc.audioEngine.play(this.gameAudios[this.monsterTurn],!1,1)},e.prototype.runGameMonsterTurn=function(t){cc.audioEngine.play(this.gameAudios[t],!1,1),this.schedule(this.playGameWord,5),this.shields.forEach(function(t,e){t.active=!0,t.y=100-130*e,t.getComponent(cc.Button).interactable=!0})},e.prototype.runGamePlayerTurn=function(t){var e=this,o=cc.audioEngine.play(this.gameAudios[t],!1,1);cc.audioEngine.setFinishCallback(o,function(){var o={evaluatingType:1,evaluatingText:e.wordData[t],tryTimes:0,evaluationScore:30,recordTime:5};s.default.emit(a.FOLLOW_CLIENT_TO_MODULE,{eventName:"initComponent",extra:o}),s.default.emit(a.FOLLOW_CLIENT_TO_MODULE,{eventName:"startRecord"}),e.isTest&&e.scheduleOnce(function(){e.playerWin(e.playerTurn,2)},3)})},e.prototype.recordResult=function(t){console.log("recordResult"+t.data),"ResultCb"==t.data.eventName&&(t.data.success?this.playerWin(this.playerTurn,2):0==this.recordTimes?this.monsterWin(this.playerTurn,2):this.playerWin(this.playerTurn,2))},e.prototype.shieldTouch=function(t,e){var o=this;this.unschedule(this.playGameWord);var n=Number(e);if(n==this.touchGameAnswer[this.monsterTurn]){for(var i=0;i<this.shields.length;i++)n!=i&&(this.shields[i].active=!1),this.shields[i].getComponent(cc.Button).interactable=!1;cc.tween(this.shields[n]).to(1,{y:0}).call(function(){o.playerWin(o.monsterTurn,1)}).delay(1).call(function(){o.shields[n].active=!1}).start()}else{for(i=0;i<this.shields.length;i++)this.shields[i].active=!1;this.monsterWin(this.monsterTurn,1)}},e.prototype.monsterWin=function(t,e){var o=this;if(1==e){if(this.monster.setSkin(this.monsterSkin[t]),this.monsterTurn+=1,this.monster.clearTracks(),this.monster.setAnimation(0,"reng",!1),this.scheduleOnce(function(){o._player.onHurt(),o.monster.setSkin("default"),cc.audioEngine.play(o.attackAudio,!1,1)},.5),this.monster.addAnimation(0,"happy",!1),this.monster.addAnimation(0,"stay",!1),0==this._player.hp)return;this.scheduleOnce(function(){o.runGamePlayerTurn(o.playerTurn)},2.5)}else{if(this.recordTimes+=1,this._player.PlayerAtkWrong(t),0==this._player.hp)return;this.scheduleOnce(function(){3!=o.playerTurn?o.runGamePlayerTurn(o.playerTurn):o.gameWin()},3.5)}},e.prototype.playerWin=function(t,e){var o=this;1==e?(this.monster.setSkin(this.monsterSkin[t]),this.monsterTurn+=1,this.monster.clearTracks(),this.monster.setAnimation(0,"reng2",!1),this.scheduleOnce(function(){cc.audioEngine.play(o.attackAudio,!1,1),o.monster.setSkin("default")},.5),this.monster.addAnimation(0,"stay",!0),this.scheduleOnce(function(){o.runGamePlayerTurn(o.playerTurn)},2.5)):(this.playerTurn+=1,this._player.PlayerAtkRight(t),this.scheduleOnce(function(){o.monster.clearTracks(),o.monster.setAnimation(0,"yun",!1),o.monster.addAnimation(0,"stay",!0)},1.5),this.scheduleOnce(function(){3!=o.playerTurn?(o.runGameMonsterTurn(o.monsterTurn),o.recordTimes=0):o.gameWin()},3.5))},e.prototype.gameWin=function(){var t=this;cc.log(this._player.hp),this.monster.clearTracks(),this.monster.setAnimation(0,"yun2",!1),cc.tween(this.node).delay(2).to(1.5,{y:900}).call(function(){t.node.destroy(),s.default.emit("Day5_Misson_Next")}).start()},e.prototype.onDestroy=function(){s.default.off(a.FOLLOW_MODULE_TO_CLIENT,this.recordResult,this),this.recordTimes=0},r([u(c.default)],e.prototype,"_player",void 0),r([u(cc.Node)],e.prototype,"playerNode",void 0),r([u(sp.Skeleton)],e.prototype,"monster",void 0),r([u({type:cc.Node})],e.prototype,"shields",void 0),r([u({type:[cc.AudioClip]})],e.prototype,"gameAudios",void 0),r([u({type:cc.AudioClip})],e.prototype,"attackAudio",void 0),r([l],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../kit/events/events":void 0,"../../../kit/system/event/EventSystem":void 0,"./player":"player"}],mission_2:[function(t,e,o){"use strict";cc._RF.push(e,"8ebf9wSqbBOl696RDAlCAbZ","mission_2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./player"),s=t("../../../kit/events/events"),c=t("../../../kit/system/event/EventSystem"),p=cc._decorator,l=p.ccclass,u=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._player=null,e.playerNode=null,e.monsters=[],e.hulu=null,e.gameAudios=[],e.wordData=["\u84dd\u8272","\u7ea2\u8272","\u9ec4\u8272"],e.gameIndex=0,e.isTest=!1,e}return i(e,t),e.prototype.onLoad=function(){this.playerNode&&(this._player=this.playerNode.getComponent("player")),c.default.on("Player_Hp_Init",this.changPlayerHp,this),c.default.on(s.FOLLOW_MODULE_TO_CLIENT,this.recordResult,this)},e.prototype.start=function(){var t=this;this.hulu.active=!1,this.scheduleOnce(function(){t.gameRun(t.gameIndex)},4)},e.prototype.changPlayerHp=function(t){this._player.hp=t.data;for(var e=this._player.hp;e<5;e++)this._player.hearts[e].getChildByName("heart1").active=!1},e.prototype.gameRun=function(t){var e=this;if(t>=3)cc.tween(this.node).delay(2).to(1.5,{y:900}).call(function(){e.node.destroy(),c.default.emit("Day5_Misson_Next"),c.default.off(s.FOLLOW_MODULE_TO_CLIENT,e.recordResult,e)}).start();else{var o=cc.audioEngine.play(this.gameAudios[t],!1,1);cc.audioEngine.setFinishCallback(o,function(){var o={evaluatingType:1,evaluatingText:e.wordData[t],tryTimes:0,evaluationScore:30,recordTime:3};c.default.emit(s.FOLLOW_CLIENT_TO_MODULE,{eventName:"initComponent",extra:o}),c.default.emit(s.FOLLOW_CLIENT_TO_MODULE,{eventName:"startRecord"}),e.isTest&&e.scheduleOnce(function(){e.checkResult(2)},3)})}},e.prototype.recordResult=function(t){console.log("recordResult"+t.data),"ResultCb"==t.data.eventName&&(t.data.success?this.checkResult(1):this.checkResult(2))},e.prototype.checkResult=function(t){var e,o=this;1==t?(this.hulu.active=!0,(e=this.hulu.getComponent(sp.Skeleton)).clearTracks(),e.setAnimation(0,"hulu",!1),cc.tween(this.monsters[this.gameIndex]).to(2,{opacity:0}).call(function(){o.hulu.active=!1,o.gameIndex+=1,o.gameRun(o.gameIndex)}).start()):(this.hulu.active=!0,(e=this.hulu.getComponent(sp.Skeleton)).clearTracks(),e.setAnimation(0,"hulu",!1),cc.tween(this.playerNode).to(2,{opacity:0}).delay(1).call(function(){o.playerNode.opacity=255,o._player.onHurt_2(),o.hulu.active=!1,o.gameIndex+=1}).delay(1).call(function(){0!=o._player.hp&&o.gameRun(o.gameIndex)}).start())},e.prototype.onDestroy=function(){c.default.off("Player_Hp_Init",this.changPlayerHp,this),c.default.off(s.FOLLOW_MODULE_TO_CLIENT,this.recordResult,this)},r([u(a.default)],e.prototype,"_player",void 0),r([u(cc.Node)],e.prototype,"playerNode",void 0),r([u({type:[cc.Node]})],e.prototype,"monsters",void 0),r([u(cc.Node)],e.prototype,"hulu",void 0),r([u({type:[cc.AudioClip]})],e.prototype,"gameAudios",void 0),r([l],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../kit/events/events":void 0,"../../../kit/system/event/EventSystem":void 0,"./player":"player"}],mission_3:[function(t,e,o){"use strict";cc._RF.push(e,"f875cmCC85JSZ1TbICfix1i","mission_3");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./player"),s=t("../../../kit/events/events"),c=t("../../../kit/system/event/EventSystem"),p=cc._decorator,l=p.ccclass,u=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._player=null,e.playerNode=null,e.monsters=[],e.BallItem=[],e.gameAudios=[],e.wordData="\u6c14\u7403",e.ballMaxNum=10,e.ballNumNow=0,e.gameIndex=0,e.isTest=!1,e}return i(e,t),e.prototype.onLoad=function(){this.playerNode&&(this._player=this.playerNode.getComponent("player")),c.default.on("Ball_On_Clicked",this.CountBall,this),c.default.on("Player_Hp_Init",this.changPlayerHp,this),c.default.on(s.FOLLOW_MODULE_TO_CLIENT,this.recordResult,this)},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.gameBegin()},4)},e.prototype.CountBall=function(){var t=this;this.ballNumNow+=1,this.ballMaxNum==this.ballNumNow&&this.scheduleOnce(function(){t.gameRun(t.gameIndex)},1.5)},e.prototype.gameBegin=function(){for(var t=0;t<this.ballMaxNum;t++){var e=this.getBallColorNum(),o=cc.instantiate(this.BallItem[e]);this.node.addChild(o);var n=900*Math.random()-450;o.x=n,o.y=-150;var i=300*Math.random();cc.tween(o).by(1,{y:i}).start()}},e.prototype.getBallColorNum=function(){var t=100*Math.random();return t<=33?0:t>33&&t<=66?1:2},e.prototype.changPlayerHp=function(t){this._player.hp=t.data;for(var e=this._player.hp;e<5;e++)this._player.hearts[e].getChildByName("heart1").active=!1},e.prototype.gameRun=function(t){var e=this,o=cc.audioEngine.play(this.gameAudios[t],!1,1);cc.audioEngine.setFinishCallback(o,function(){var o={evaluatingType:1,evaluatingText:e.wordData[t],tryTimes:0,evaluationScore:30,recordTime:3};c.default.emit(s.FOLLOW_CLIENT_TO_MODULE,{eventName:"initComponent",extra:o}),c.default.emit(s.FOLLOW_CLIENT_TO_MODULE,{eventName:"startRecord"}),e.isTest&&e.scheduleOnce(function(){e.checkResult(2)},3)})},e.prototype.recordResult=function(t){console.log("recordResult"+t.data),"ResultCb"==t.data.eventName&&(t.data.success?this.checkResult(1):this.checkResult(2))},e.prototype.checkResult=function(t){var e=this;if(1==t)this.monsters[0].getComponent(sp.Skeleton).clearTracks(),this.monsters[0].getComponent(sp.Skeleton).setAnimation(0,"cry",!1),cc.tween(this.monsters[0]).by(2,{y:900}).call(function(){c.default.emit(s.LIFE_CYCLE_COMPLETE)}).start();else{this._player.hp-=1,this._player.playerSp.clearTracks(),this._player.playerSp.setAnimation(0,"fei",!1);var o=this.playerNode.x,n=this.playerNode.y;cc.tween(this.playerNode).by(2,{y:900}).call(function(){e.playerNode.x=o,e.playerNode.y=n,e._player.playerSp.addAnimation(0,"stay",!0),e._player.hearts[e._player.hp].getComponent(cc.Animation).play("hurt"),0==e._player.hp?e._player.hearts[e._player.hp].getComponent(cc.Animation).on("finished",function(){e._player.playerSp.clearTracks(),e._player.playerSp.setAnimation(0,"yun",!1),e.scheduleOnce(function(){c.default.emit("Day5_Game_Over")},1.5)}):e.gameRun(e.gameIndex)}).start()}},e.prototype.onDestroy=function(){c.default.off("Ball_On_Clicked",this.CountBall,this),c.default.off("Player_Hp_Init",this.changPlayerHp,this),c.default.off(s.FOLLOW_MODULE_TO_CLIENT,this.recordResult,this)},r([u(a.default)],e.prototype,"_player",void 0),r([u(cc.Node)],e.prototype,"playerNode",void 0),r([u({type:[cc.Node]})],e.prototype,"monsters",void 0),r([u({type:[cc.Prefab]})],e.prototype,"BallItem",void 0),r([u({type:[cc.AudioClip]})],e.prototype,"gameAudios",void 0),r([l],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../kit/events/events":void 0,"../../../kit/system/event/EventSystem":void 0,"./player":"player"}],player:[function(t,e,o){"use strict";cc._RF.push(e,"6fcf7ojxCNNfKY1SFOQ4BNf","player");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../kit/system/event/EventSystem"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerSp=null,e.hearts=[],e.heartContainer=null,e.skins=["hongqiu","huangqiu","lanqiu"],e.hp=5,e}return i(e,t),e.prototype.start=function(){},e.prototype.reStartPlayer=function(){this.hp=5,this.hearts.forEach(function(t){t.active=!0,t.getChildByName("heart1").active=!0,t.getComponent(cc.Sprite).fillRange=1})},e.prototype.playerRun=function(t,e){var o=this;void 0===e&&(e=0),this.playerSp.clearTracks(),this.playerSp.setAnimation(0,"walk",!1),this.playerSp.addAnimation(0,"walk1",!0),this.scheduleOnce(function(){o.playerSp.clearTracks(),o.playerSp.setAnimation(0,"walk2",!1),o.playerSp.addAnimation(0,"stay",!0)},t),cc.tween(this.node).by(t,{x:e}).start()},e.prototype.onHurt=function(){var t=this;this.hp-=1,this.scheduleOnce(function(){t.hearts[t.hp].getComponent(cc.Animation).play("hurt"),0==t.hp&&t.hearts[t.hp].getComponent(cc.Animation).on("finished",function(){t.playerSp.clearTracks(),t.playerSp.setAnimation(0,"yun",!1),t.scheduleOnce(function(){a.default.emit("Day5_Game_Over")},1.5)})},.5),this.playerSp.clearTracks(),this.playerSp.setAnimation(0,"beida",!1),this.playerSp.addAnimation(0,"stay",!0),a.default.emit("Day5_Player_Hurt")},e.prototype.onHurt_2=function(){var t=this;this.hp-=1,this.scheduleOnce(function(){t.hearts[t.hp].getComponent(cc.Animation).play("hurt"),0==t.hp&&t.hearts[t.hp].getComponent(cc.Animation).on("finished",function(){t.playerSp.clearTracks(),t.playerSp.setAnimation(0,"yun",!1),t.scheduleOnce(function(){a.default.emit("Day5_Game_Over")},1.5)})},.5),a.default.emit("Day5_Player_Hurt")},e.prototype.Playerfly=function(){this.hp-=1,this.playerSp.clearTracks(),this.playerSp.setAnimation(0,"fei",!1)},e.prototype.PlayerAtkRight=function(t){var e=this;this.playerSp.setSkin(this.skins[t]),this.playerSp.clearTracks(),this.playerSp.setCompleteListener(function(){e.playerSp.setSkin("default"),e.playerSp.clearTracks(),e.playerSp.setCompleteListener(function(){}),e.playerSp.setAnimation(0,"stay",!1)}),this.playerSp.setAnimation(0,"reng",!1)},e.prototype.PlayerAtkWrong=function(t){var e=this;this.playerSp.setSkin(this.skins[t]),this.playerSp.clearTracks(),this.playerSp.setCompleteListener(function(){e.playerSp.setSkin("default"),e.playerSp.clearTracks(),e.playerSp.setCompleteListener(function(){}),e.playerSp.setAnimation(0,"stay",!1),e.onHurt_2()}),this.playerSp.setAnimation(0,"reng2",!1)},e.prototype.PlayerDie=function(){},r([p(sp.Skeleton)],e.prototype,"playerSp",void 0),r([p({type:[cc.Node]})],e.prototype,"hearts",void 0),r([p(cc.Layout)],e.prototype,"heartContainer",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../kit/system/event/EventSystem":void 0}],qiqiu:[function(t,e,o){"use strict";cc._RF.push(e,"da011R4Qb5CV5UyXJkhOJFf","qiqiu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../kit/system/event/EventSystem"),s=cc._decorator,c=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.qiqiu=null,e.qiqiu2=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onClickCall=function(t,e){var o=this,n=Number(e),i=cc.audioEngine.play(this.qiqiu,!1,1);cc.audioEngine.setFinishCallback(i,function(){cc.audioEngine.play(o.qiqiu2,!1,1)});var r="";switch(n){case 0:r="hong-bao";break;case 1:r="huang-bao";break;case 2:r="lan-bao"}var s=this.node.getComponent(sp.Skeleton);s.clearTracks(),s.setCompleteListener(function(){o.node.destroy(),a.default.emit("Ball_On_Clicked")}),s.setAnimation(0,r,!1),this.node.getComponent(cc.Button).interactable=!1},r([p({type:cc.AudioClip})],e.prototype,"qiqiu",void 0),r([p({type:cc.AudioClip})],e.prototype,"qiqiu2",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../kit/system/event/EventSystem":void 0}]},{},["gameMain","gameOverLayer","mission_1","mission_2","mission_3","player","qiqiu"]);