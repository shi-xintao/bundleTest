window.__require=function e(t,o,i){function a(c,r){if(!o[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var h="function"==typeof __require&&__require;if(!r&&h)return h(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var l=o[c]={exports:{}};t[c][0].call(l.exports,function(e){return a(t[c][1][e]||e)},l,l.exports,e,t,o,i)}return o[c].exports}for(var n="function"==typeof __require&&__require,c=0;c<i.length;c++)a(i[c]);return a}({CameraMove:[function(e,t,o){"use strict";cc._RF.push(t,"c90eagcHe1LFoKeL4ad6Wnt","CameraMove");var i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__decorate||function(e,t,o,i){var a,n=arguments.length,c=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(c=(n<3?a(c):n>3?a(t,o,c):a(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../../kit/system/event/EventSystem"),r=e("./ExploreGameData"),s=cc._decorator,h=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.moveSpeed=4,t.offsetX=0,t.offsetY=0,t.delta=1,t.isTouch=!1,t.clickMove={x:!1,y:!1},t.movePos=cc.v2(0,0),t}return a(t,e),t.prototype.start=function(){this.camera=this.node.getChildByName("camera"),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),c.default.on(r.default.MoveCamera,this.moveCamera,this),this.maxX=this.node.width/2-cc.winSize.width/2,this.maxY=this.node.height/2-cc.winSize.height/2},t.prototype.update=function(e){if(this.moveX&&(this.target.x>this.camera.x?this.camera.x+=e*this.moveSpeed:this.camera.x-=e*this.moveSpeed,this.target.x-this.camera.x<=5&&(this.camera.x=this.target.x,this.moveX=!1),this.check()),this.moveY&&(this.target.y>this.camera.y?this.camera.y+=e*this.moveSpeed:this.camera.y-=e*this.moveSpeed,this.target.y-this.camera.y<=5&&(this.camera.y=this.target.y,this.moveY=!1),this.check()),r.default.instance.canTouch){if(this.isTouch){var t=0;Math.abs(this.offsetX)>this.delta&&(t=this.offsetX<0?-1:1,this.target.x+=this.moveSpeed*(this.offsetX>0?1:-1),this.camera.x=this.target.x),Math.abs(this.offsetY)>this.delta&&(this.target.y+=this.moveSpeed*(this.offsetY>0?1:-1),this.camera.y=this.target.y),this.check(),c.default.emit(r.default.PlayerMove,t)}this.clickMove.x&&(t=1,this.target.x>this.movePos.x?(this.target.x-=this.moveSpeed,t=-1):this.target.x+=this.moveSpeed,Math.abs(this.target.x-this.movePos.x)<=5&&(this.target.x=this.movePos.x,this.clickMove.x=!1),this.camera.x=this.target.x,this.check(),c.default.emit(r.default.PlayerMove,t)),this.clickMove.y&&(this.target.y>this.movePos.y?this.target.y-=this.moveSpeed:this.target.y+=this.moveSpeed,Math.abs(this.target.y-this.movePos.y)<=5&&(this.target.y=this.movePos.y,this.clickMove.y=!1),this.camera.y=this.target.y,this.check(),c.default.emit(r.default.PlayerMove,0))}else this.clickMove={x:!1,y:!1}},t.prototype.moveCamera=function(e){e&&e.data&&"number"==typeof e.data.x?cc.tween(this.camera).to(.3,{x:e.data.x}).start():this.camera.x=this.target.x,e&&e.data&&"number"==typeof e.data.y?cc.tween(this.camera).to(.3,{y:e.data.y}).start():this.camera.y=this.target.y,this.check()},t.prototype.onTouchStart=function(e){this.offsetX=0,this.offsetY=0,this.isTouch=!0,this.touchPos=e.getLocation()},t.prototype.onTouchMove=function(e){Math.abs(e.getLocation().x-this.touchPos.x)>=30?this.offsetX=e.getLocation().x-this.touchPos.x:this.offsetX=0,Math.abs(e.getLocation().y-this.touchPos.y)>=30?this.offsetY=e.getLocation().y-this.touchPos.y:this.offsetY=0},t.prototype.onTouchEnd=function(e){if(this.isTouch=!1,0==this.offsetX&&0==this.offsetY){var t=this.node.convertToNodeSpaceAR(e.getLocation());this.movePos.x=t.x+this.camera.x,this.movePos.y=t.y+this.camera.y,this.clickMove={x:!0,y:!0}}this.offsetX=0,this.offsetY=0},t.prototype.check=function(){if(this.camera.x>this.maxX&&(this.camera.x=this.maxX,this.moveX=!1),this.camera.x<-this.maxX&&(this.camera.x=-this.maxX,this.moveX=!1),this.camera.y>this.maxY&&(this.camera.y=this.maxY,this.moveY=!1),this.camera.y<-this.maxY&&(this.camera.y=-this.maxY,this.moveY=!1),this.target){var e=this.node.width/2-this.target.width/2,t=this.node.height/2-this.target.height/2;this.target.x>e&&(this.target.x=e,this.clickMove.x=!1),this.target.x<-e&&(this.target.x=-e,this.clickMove.x=!1),this.target.y>t&&(this.target.y=t,this.clickMove.y=!1),this.target.y<-t&&(this.target.y=-t,this.clickMove.y=!1)}},t.prototype.onDestroy=function(){c.default.off(r.default.MoveCamera,this.moveCamera,this),this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},n([l(cc.Node)],t.prototype,"target",void 0),n([h],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../kit/system/event/EventSystem":void 0,"./ExploreGameData":"ExploreGameData"}],ExploreBaseGame:[function(e,t,o){"use strict";cc._RF.push(t,"47a39bJfuBK5bs6/FoQ+eA5","ExploreBaseGame");var i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__decorate||function(e,t,o,i){var a,n=arguments.length,c=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(c=(n<3?a(c):n>3?a(t,o,c):a(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../../kit/system/event/EventSystem"),r=e("./ExploreGameData"),s=cc._decorator,h=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentGame=r.ExploreGameType.Default,t.camera=null,t}return a(t,e),t.prototype.onEnter=function(e){e?(this.camera=e,c.default.emit(r.default.HidePlayer),cc.tween(e.node).to(.3,{x:this.centerPos.x,y:this.centerPos.y}).start()):this.exit()},t.prototype.exit=function(e){cc.log("\u6e38\u620f\u7ed3\u675f"),c.default.emit(r.default.SubGameExit,e)},t.prototype.hidePlayer=function(){c.default.emit(r.default.HidePlayer)},n([h],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../../../kit/system/event/EventSystem":void 0,"./ExploreGameData":"ExploreGameData"}],ExploreGameControl:[function(e,t,o){"use strict";cc._RF.push(t,"1bd39MPS15CKrX+NeMWlPz5","ExploreGameControl");var i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__decorate||function(e,t,o,i){var a,n=arguments.length,c=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(c=(n<3?a(c):n>3?a(t,o,c):a(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c,r=e("../../../kit/system/event/EventSystem"),s=e("./ExploreBaseGame"),h=e("./ExploreGameData"),l=e("./ExploreGameUtil"),p=cc._decorator,u=p.ccclass,f=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameNode=null,t.tigoNode=null,t.playedIndex=[],t}return a(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0},t.prototype.start=function(){this.camera=this.node.getChildByName("camera").getComponent(cc.Camera),this.camera.zoomRatio=1.7,this.camera.node.position=cc.v3(-419,-128),this.gameNode=this.node.getChildByName("gameNode"),this.tigoNode=this.node.getChildByName("player_tigo"),this.initSubGame(),this.tigoNode?(this.tigoSpine=this.tigoNode.getComponentInChildren(sp.Skeleton),this.onTigoIn(),r.default.on(h.default.HidePlayer,this.hideTigoNode,this),r.default.on(h.default.SubGameExit,this.onSubGameExit,this),r.default.on(h.default.PlayerMove,this.checkGameNode,this)):cc.error("tigoNode null")},t.prototype.update=function(e){this.scaleCamera&&(this.camera.zoomRatio-=e,this.camera.zoomRatio<=1&&(this.camera.zoomRatio=1,this.scaleCamera=!1)),this.narrowCamera&&(this.camera.zoomRatio+=e,this.camera.zoomRatio>=this.subGameZoomRatio&&(this.camera.zoomRatio=this.subGameZoomRatio,this.narrowCamera=!1))},t.prototype.onDestroy=function(){cc.director.getPhysicsManager().enabled=!1,r.default.off(h.default.HidePlayer,this.hideTigoNode,this),r.default.off(h.default.SubGameExit,this.onSubGameExit,this),r.default.off(h.default.PlayerMove,this.checkGameNode,this)},t.prototype.initSubGame=function(){this.subGameMap=new Map,this.subGameMap.set(h.ExploreGameType.Xiaqi,this.node.getChildByName("xiaqi").getComponent(s.default)),this.subGameMap.set(h.ExploreGameType.Yugang,this.node.getChildByName("yugang").getComponent(s.default)),this.subGameMap.set(h.ExploreGameType.Budaoweng,this.node.getChildByName("budaoweng").getComponent(s.default)),this.subGameMap.set(h.ExploreGameType.Renqiu,this.node.getChildByName("fangziyouxi").getComponent(s.default)),this.subGameMap.set(h.ExploreGameType.PaoPaoji,this.node.getChildByName("paopaoji").getComponent(s.default))},t.prototype.onTigoIn=function(){var e=this;h.default.instance.canTouch=!1,l.default.playSpine(this.tigoSpine,c.move,!0),cc.tween(this.camera.node).to(5,{x:270}).start(),cc.tween(this.tigoNode).to(5,{x:257}).call(function(){e.tigoNode.setSiblingIndex(e.node.childrenCount-1),l.default.playSpine(e.tigoSpine,c.appear,!1,function(){e.scaleCamera=!0,cc.tween(e.camera.node).to(1,{y:e.tigoNode.y,x:e.tigoNode.x}).call(function(){h.default.instance.canTouch=!0}).start()},1,c.daiji,!0)}).start()},t.prototype.changeGameIng=function(e){var t=this.subGameMap.get(e);this.exitPos=this.camera.node.position,t&&(t.onEnter(this.camera),this.subGameZoomRatio=t.cameraZoomRatio,t.playerPos&&(this.tigoNode.position=t.playerPos),this.narrowCamera=!0,h.default.instance.canTouch=!1)},t.prototype.onSubGameExit=function(e){var t=this;if(this.tigoNode.active=!0,this.scaleCamera=!0,e.data&&e.data.MoveCamera)return r.default.emit(h.default.MoveCamera,e.data),void cc.tween(this.camera.node).delay(.7).call(function(){h.default.instance.canTouch=!0}).delay(5).call(function(){for(var e=t.playedIndex.splice(0,1),o=0;o<t.gameNode.childrenCount;o++)e[0]==o&&(t.gameNode.children[o].active=!0)}).start();cc.tween(this.camera.node).to(.7,{x:this.exitPos.x,y:this.exitPos.y}).call(function(){r.default.emit(h.default.MoveCamera),h.default.instance.canTouch=!0}).delay(5).call(function(){for(var e=t.playedIndex.splice(0,1),o=0;o<t.gameNode.childrenCount;o++)e[0]==o&&(t.gameNode.children[o].active=!0)}).start()},t.prototype.hideTigoNode=function(){this.tigoNode.active=!1},t.prototype.checkGameNode=function(e){0!=e.data&&(this.tigoNode.scaleX=e.data);for(var t=new cc.Rect(this.tigoNode.x-this.tigoNode.width/2,this.tigoNode.y-this.tigoNode.height/2,this.tigoNode.width,this.tigoNode.height),o=0;o<this.gameNode.childrenCount;o++){var i=this.gameNode.children[o];if(i.active&&(new cc.Rect(i.x,i.y,i.width,i.height),t.contains(cc.v2(i.x,i.y)))){cc.log("\u78b0\u649e");var a=l.default.gameTypeByName(i.name);this.changeGameIng(a),i.active=!1,this.playedIndex.push(o)}}},n([u],t)}(cc.Component));o.default=f,function(e){e.daiji="daiji",e.move="chuchang-lutou",e.appear="chuchang-chuxian"}(c||(c={})),cc._RF.pop()},{"../../../kit/system/event/EventSystem":void 0,"./ExploreBaseGame":"ExploreBaseGame","./ExploreGameData":"ExploreGameData","./ExploreGameUtil":"ExploreGameUtil"}],ExploreGameData:[function(e,t,o){"use strict";cc._RF.push(t,"ce4fbSMhvRMFJS2ZpaqFdF8","ExploreGameData");var i=this&&this.__decorate||function(e,t,o,i){var a,n=arguments.length,c=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(c=(n<3?a(c):n>3?a(t,o,c):a(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.ExploreGameType=void 0;var a=cc._decorator,n=a.ccclass,c=(a.property,function(){function e(){this._canTouch=!1}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canTouch",{get:function(){return this._canTouch},set:function(e){this._canTouch=e},enumerable:!1,configurable:!0}),e.PlayerMove="playerMove",e.HidePlayer="hidePlayer",e.SubGameExit="subGameExit",e.MoveCamera="moveCamera",e._instance=null,t=i([n],e)}());o.default=c,function(e){e.Default="default",e.Xiaqi="xiaqi",e.Yugang="yugang",e.Budaoweng="budaoweng",e.Renqiu="renqiu",e.PaoPaoji="paopaoji"}(o.ExploreGameType||(o.ExploreGameType={})),cc._RF.pop()},{}],ExploreGameUtil:[function(e,t,o){"use strict";cc._RF.push(t,"b3cf45izSxBtKNgEzxbA6K6","ExploreGameUtil");var i=this&&this.__decorate||function(e,t,o,i){var a,n=arguments.length,c=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(c=(n<3?a(c):n>3?a(t,o,c):a(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ExploreGameData"),n=cc._decorator,c=n.ccclass,r=(n.property,function(){function e(){}return e.playSpine=function(e,t,o,i,a,n,c){if(void 0===a&&(a=1),e)if(""!=t)if(e.node.active=!0,e.setAnimation(0,t,o),e.setCompleteListener(null),i){var r=0;e.setCompleteListener(function(){e.animation==t&&++r>=a&&(i(),n&&""!=n&&e.setAnimation(0,n,c),e.setCompleteListener(null))})}else n&&""!=n&&e.addAnimation(0,n,c);else cc.warn("playSpine:"+t);else cc.warn("playSpine:"+t+", sp.Skeleton null")},e.intersection=function(e,t){return e.intersects(t)},e.gameTypeByName=function(e){switch(e){case"game_xiaqi":return a.ExploreGameType.Xiaqi;case"game_yugang":return a.ExploreGameType.Yugang;case"game_budaoweng":return a.ExploreGameType.Budaoweng;case"game_renqiu":return a.ExploreGameType.Renqiu;case"game_paopaoji":return a.ExploreGameType.PaoPaoji}},i([c],e)}());o.default=r,cc._RF.pop()},{"./ExploreGameData":"ExploreGameData"}],GameBall:[function(e,t,o){"use strict";cc._RF.push(t,"4d7410sLLpBEYl/rTkBzuUJ","GameBall");var i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__decorate||function(e,t,o,i){var a,n=arguments.length,c=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(c=(n<3?a(c):n>3?a(t,o,c):a(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./ExploreBaseGame"),r=e("./ExploreGameUtil"),s=cc._decorator,h=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraZoomRatio=1.8,t.centerPos=cc.v3(-1390,674),t.angleMove=0,t.isPlaying=!1,t}return a(t,e),t.prototype.onEnter=function(t){e.prototype.onEnter.call(this,t),this.gaming()},t.prototype.gaming=function(){var e=this,t=this.node.getChildByName("game");this.roomSpine=t.getComponent(sp.Skeleton),t.active=!0,this.isPlaying=!1,r.default.playSpine(this.roomSpine,"T-naqiu",!1,function(){var t=e.node.getChildByName("touchNode");t.on(cc.Node.EventType.TOUCH_START,e.onTouchStart,e),t.on(cc.Node.EventType.TOUCH_MOVE,e.onTouchMove,e),t.on(cc.Node.EventType.TOUCH_END,e.onTouchEnd,e)},1,"T-naqiudaiji",!0)},t.prototype.exit=function(){var t=this.node.getChildByName("touchNode");t.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.roomSpine.node.active=!1,e.prototype.exit.call(this)},t.prototype.onTouchStart=function(){this.isPlaying||(this.spineTrack=this.roomSpine.setAnimation(0,"T-xuli",!1),this.angleMove=0,this.spineTrack.animationStart=this.angleMove,this.spineTrack.animationEnd=this.angleMove)},t.prototype.onTouchMove=function(e){if(!this.isPlaying){var t=e.getDelta();this.angleMove+=.003*-t.x,this.angleMove<=0&&(this.angleMove=0),this.angleMove>=2.3&&(this.angleMove=2.3),this.spineTrack.animationStart=this.angleMove,this.spineTrack.animationEnd=this.angleMove}},t.prototype.onTouchEnd=function(){var e=this;if(!this.isPlaying)if(this.isPlaying=!0,cc.log(this.angleMove),this.angleMove>=1.3)r.default.playSpine(this.roomSpine,"T-rengqiu2",!1,function(){e.exit()});else{r.default.playSpine(this.roomSpine,"T-rengqiu1",!1,null,1,"TC-daiji",!0);var t=this.node.getChildByName("ball"),o=t.getComponent(cc.RigidBody);t.position=cc.v3(-1519,604),cc.tween(this.node).delay(.2).call(function(){t.active=!0,o.angularVelocity=30,o.linearVelocity=cc.v2(1e3*e.angleMove,500*e.angleMove)}).delay(7).call(function(){t.active=!1,o.linearVelocity=cc.v2(0,0),e.exit()}).start()}},n([h],t)}(c.default));o.default=l,cc._RF.pop()},{"./ExploreBaseGame":"ExploreBaseGame","./ExploreGameUtil":"ExploreGameUtil"}],GameBudaoweng:[function(e,t,o){"use strict";cc._RF.push(t,"cbba9ZKnPxIV55okU/faBBP","GameBudaoweng");var i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__decorate||function(e,t,o,i){var a,n=arguments.length,c=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(c=(n<3?a(c):n>3?a(t,o,c):a(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./ExploreBaseGame"),r=e("./ExploreGameUtil"),s=cc._decorator,h=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraZoomRatio=1.5,t.centerPos=cc.v3(-123,724),t.playerPos=cc.v3(-123,724),t.angleMove=0,t.isPlaying=!1,t.timer=0,t}return a(t,e),t.prototype.onEnter=function(t){e.prototype.onEnter.call(this,t);var o=this.node.getChildByName("touchNode");o.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),o.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),o.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.isPlaying=!1,this.budaowengBg=this.node.getChildByName("bg_node"),this.budaowengSpine=this.node.getChildByName("budaoweng").getComponent(sp.Skeleton)},t.prototype.exit=function(){var t=this.node.getChildByName("touchNode");t.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),e.prototype.exit.call(this,{MoveCamera:!0})},t.prototype.onTouchStart=function(){this.budaowengBg.getComponent(cc.RigidBody).active=!0},t.prototype.onTouchMove=function(e){if(!this.isPlaying){var t=e.getDelta();this.angleMove=.1*t.x,this.budaowengBg.angle-=this.angleMove}},t.prototype.onTouchEnd=function(){var e=this;if(!this.isPlaying){if(Math.abs(this.budaowengBg.angle)>60)return this.budaowengSpine.node.active=!0,this.budaowengBg.active=!1,this.budaowengBg.angle=0,void r.default.playSpine(this.budaowengSpine,"budaoweng",!1,function(){e.budaowengSpine.node.active=!1,e.budaowengBg.active=!0,e.scheduleOnce(function(){e.exit()},1)});this.isPlaying=!0,this.budaowengBg.getComponent(cc.MotorJoint).enabled=!0}},t.prototype.update=function(e){if(this.isPlaying){if(this.timer+=e,this.timer>=2){this.exit(),this.timer=0,this.isPlaying=!1,this.budaowengBg.angle=0;var t=this.budaowengBg.getComponent(cc.MotorJoint);this.budaowengBg.getComponent(cc.RigidBody).active=!1,t.enabled=!1}this.budaowengBg.angle>2&&(this.timer=0)}},n([h],t)}(c.default));o.default=l,cc._RF.pop()},{"./ExploreBaseGame":"ExploreBaseGame","./ExploreGameUtil":"ExploreGameUtil"}],GamePaoPaoJi:[function(e,t,o){"use strict";cc._RF.push(t,"8543buduyNFoo8IGv9U0FFo","GamePaoPaoJi");var i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__decorate||function(e,t,o,i){var a,n=arguments.length,c=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(c=(n<3?a(c):n>3?a(t,o,c):a(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../../kit/system/event/EventSystem"),r=e("./ExploreBaseGame"),s=e("./ExploreGameUtil"),h=cc._decorator,l=h.ccclass,p=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraZoomRatio=1,t.centerPos=cc.v3(-1436,0),t.playerPos=cc.v3(1475,-500),t}return a(t,e),t.prototype.onEnter=function(t){this.paopaoji=this.node.getChildByName("paopaoji").getComponent(sp.Skeleton),this.paopao=this.node.getChildByName("paopao").getComponent(sp.Skeleton),this.centerPos=t.node.position,this.centerPos.y=-500,this.playerPos=t.node.position,e.prototype.onEnter.call(this,t),this.gaming(),this.paopao.node.on(cc.Node.EventType.TOUCH_END,this.touchPaopao,this);var o=this.node.convertToWorldSpaceAR(this.paopao.node.position);this.scheduleOnce(function(){cc.log("show_common_hand_guild"),c.default.emit("show_common_hand_guild",o)},3)},t.prototype.exit=function(){this.paopao.node.active=!1,this.paopao.node.position=cc.v3(1616,-226),this.paopao.node.scale=.2,e.prototype.exit.call(this)},t.prototype.gaming=function(){var e=this;s.default.playSpine(this.paopaoji,"paopaoji-chui",!1),this.scheduleOnce(function(){e.paopao.node.active=!0,cc.tween(e.paopao.node).to(.4,{x:1475,y:-460,scale:1}).start(),s.default.playSpine(e.paopao,"daiji",!0)},4.4)},t.prototype.touchPaopao=function(){var e=this;this.unscheduleAllCallbacks(),s.default.playSpine(this.paopao,"zhakai",!1,function(){e.exit()})},n([l],t)}(r.default));o.default=p,cc._RF.pop()},{"../../../kit/system/event/EventSystem":void 0,"./ExploreBaseGame":"ExploreBaseGame","./ExploreGameUtil":"ExploreGameUtil"}],GameXiaqi:[function(e,t,o){"use strict";cc._RF.push(t,"1686frq7k5FnL7AiR3MEmZB","GameXiaqi");var i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__decorate||function(e,t,o,i){var a,n=arguments.length,c=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(c=(n<3?a(c):n>3?a(t,o,c):a(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../../kit/component/ClickCmpt"),r=e("../../../kit/manager/ResourcesManager"),s=e("../../../kit/system/event/EventSystem"),h=e("./ExploreBaseGame"),l=e("./ExploreGameUtil"),p=cc._decorator,u=p.ccclass,f=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraZoomRatio=1,t.centerPos=cc.v3(1336,-26),t.playerPos=cc.v3(1336,-26),t.canClick=!0,t.clickMap=[1,2,3,4,5,6,7,8,9],t}return a(t,e),t.prototype.onEnter=function(t){var o=this;e.prototype.onEnter.call(this,t),this.clickCmpt=this.node.addComponent(c.default),r.default.instance.loadRes("exploreGame","prefabs/xiaqi",r.ResourceType.Normal,cc.Prefab,function(e,t){var i=cc.instantiate(t);o.node.addChild(i),o.gameIn()})},t.prototype.gameIn=function(){var e=this;this.gameNode=cc.find("xiaqi/game_node",this.node),this.qipanData=new m,this.clickMap=[1,2,3,4,5,6,7,8,9];var t,o=cc.find("xiaqi/qipan",this.node),i=o.getComponent(sp.Skeleton);cc.tween(this.node).delay(.4).call(function(){o.active=!0,l.default.playSpine(i,"qipan",!1,function(){e.canClick=!0})}).start(),this.gameNode.children.forEach(function(o,i){4==i&&(t=e.node.convertToWorldSpaceAR(o.position)),e.clickCmpt.onClick(o,e.onClick,e,{target:o,index:i},!1,null)}),this.scheduleOnce(function(){cc.log("show_common_hand_guild"),s.default.emit("show_common_hand_guild",t)},1)},t.prototype.onClick=function(e){var t=this;this.canClick&&(s.default.emit("hide_common_hand_guild"),this.canClick=!1,cc.log("\u73a9\u5bb6\u4e0b\u68cb",e),this.qipanData.clickItem(e.index,d.wanjia)?(this.clickMap[e.index]=-1,cc.log(this.clickMap.toString()),r.default.instance.loadRes("exploreGame","prefabs/qipan_yuan",r.ResourceType.Normal,cc.Prefab,function(o,i){var a=cc.instantiate(i);e.target.addChild(a),l.default.playSpine(a.getComponent(sp.Skeleton),"animation",!1),cc.tween(a).delay(1).call(function(){t.qipanData.checkGame(t.clickMap)?t.gameOver():t.tigoPut()}).start()})):this.canClick=!0)},t.prototype.tigoPut=function(){var e=this,t=[];this.clickMap.forEach(function(e){-1!=e&&t.push(e)});var o=Math.floor(Math.random()*t.length),i=t[o],a=this.gameNode.getChildByName("qipan_item_"+i);this.qipanData.clickItem(i-1,d.tigo),this.clickMap.forEach(function(t,o){t==i&&(e.clickMap[o]=-1)}),cc.log(this.clickMap.toString()),r.default.instance.loadRes("exploreGame","prefabs/qipan_cha",r.ResourceType.Normal,cc.Prefab,function(t,o){var i=cc.instantiate(o);a.addChild(i),l.default.playSpine(i.getComponent(sp.Skeleton),"cha",!1,function(){e.qipanData.checkGame(e.clickMap)?e.gameOver():e.canClick=!0})})},t.prototype.gameOver=function(){var e=this;if(this.qipanData.curPlauer==d.wanjia){var t=cc.find("xiaqi/effect_yanhua",this.node).getComponent(sp.Skeleton);l.default.playSpine(t,"animation",!1,function(){e.exit({MoveCamera:!0}),e.node.destroyAllChildren()})}else this.scheduleOnce(function(){e.exit({MoveCamera:!0}),e.node.destroyAllChildren()},1)},n([u],t)}(h.default));o.default=f;var d,m=function(){function e(){this.checkCount=0,this.qipanData=[];for(var e=1;e<10;e++)this.qipanData.push(new y(e))}return e.prototype.clickItem=function(e,t){var o=this.qipanData[e];return this.clickData=o,this.curPlauer=t,o.click(t)},e.prototype.checkGame=function(e){if(this.checkItem1(1))return cc.log("\u8fd9\u91cc\u68c0\u67e51"),!0;if(this.checkItem2(1))return cc.log("\u8fd9\u91cc\u68c0\u67e52"),!0;if(this.checkItem3())return cc.log("\u8fd9\u91cc\u68c0\u67e53"),!0;var t=e.find(function(e){return-1!=e});return!t&&(cc.log("\u7ed3\u675f\u4e86"+t),this.curPlauer=d.default,!0)},e.prototype.checkItem1=function(e){if(this.checkCount>=3&&(this.checkCount=0),e>9)return!1;this.checkCount++;var t=this.qipanData[e-1],o=this.qipanData[e];if(t.player==o.player&&o.player!=d.default)return 2==this.checkCount||this.checkItem1(e+1);if(t.player!=o.player||o.player==d.default){var i=e+4-this.checkCount;return this.checkCount=0,this.checkItem1(i)}},e.prototype.checkItem2=function(e){this.checkCount>=3&&(this.checkCount=0),this.checkCount++;var t=this.qipanData[e-1],o=this.qipanData[e+2];if(t.player==o.player&&o.player!=d.default)return 2==this.checkCount||this.checkItem2(e+3);if(t.player!=o.player||o.player==d.default){var i=e+3-3*this.checkCount+1;return this.checkCount=0,!(i>3)&&this.checkItem2(i)}},e.prototype.checkItem3=function(){var e=this.qipanData[0],t=this.qipanData[4],o=this.qipanData[8],i=this.qipanData[2],a=this.qipanData[6];return e.player==t.player&&t.player==o.player&&t.player!=d.default||i.player==t.player&&t.player==a.player&&t.player!=d.default},e}(),y=function(){function e(e){this.player=d.default,this.id=e}return e.prototype.click=function(e){return this.isClick?(cc.log("\u4e0b\u9505\u4e86"),!1):(cc.log("\u9996\u6b21\u70b9\u51fb"),this.player=e,this.isClick=!0,!0)},e}();(function(e){e[e.default=0]="default",e[e.tigo=1]="tigo",e[e.wanjia=2]="wanjia"})(d||(d={})),cc._RF.pop()},{"../../../kit/component/ClickCmpt":void 0,"../../../kit/manager/ResourcesManager":void 0,"../../../kit/system/event/EventSystem":void 0,"./ExploreBaseGame":"ExploreBaseGame","./ExploreGameUtil":"ExploreGameUtil"}],GameYugang:[function(e,t,o){"use strict";cc._RF.push(t,"dce28Qll7BE9IoFVzjF95bV","GameYugang");var i,a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),n=this&&this.__decorate||function(e,t,o,i){var a,n=arguments.length,c=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(c=(n<3?a(c):n>3?a(t,o,c):a(t,o))||c);return n>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./ExploreBaseGame"),r=e("./ExploreGameUtil"),s=cc._decorator,h=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cameraZoomRatio=1.5,t.centerPos=cc.v3(-1436,0),t.playerPos=cc.v3(-1609,-150),t}return a(t,e),t.prototype.onEnter=function(t){var o=this;e.prototype.onEnter.call(this,t),this.scheduleOnce(function(){o.gaming()},.5)},t.prototype.gaming=function(){var e=this,t=this.node.getChildByName("yugang").getComponent(sp.Skeleton);r.default.playSpine(t,"yugang",!1,function(){e.exit({MoveCamera:!0,x:!1,y:!0})})},n([h],t)}(c.default));o.default=l,cc._RF.pop()},{"./ExploreBaseGame":"ExploreBaseGame","./ExploreGameUtil":"ExploreGameUtil"}]},{},["CameraMove","ExploreBaseGame","ExploreGameControl","ExploreGameData","ExploreGameUtil","GameBall","GameBudaoweng","GamePaoPaoJi","GameXiaqi","GameYugang"]);